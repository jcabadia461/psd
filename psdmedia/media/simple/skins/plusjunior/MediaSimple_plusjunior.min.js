(function(a){if(a.psd==undefined){a.psd={}}if(a.psd.fenix==undefined){a.psd.fenix={}}if(a.psd.fenix.controls==undefined){a.psd.fenix.controls={}}if(a.psd.fenix.display==undefined){a.psd.fenix.display={}}if(a.psd.fenix.display.commands==undefined){a.psd.fenix.display.commands={}}if(a.psd.fenix.event==undefined){a.psd.fenix.event={}}if(a.psd.fenix.media==undefined){a.psd.fenix.media={}}if(a.psd.fenix.stage==undefined){a.psd.fenix.stage={}}if(a.psd.fenix.text==undefined){a.psd.fenix.text={}}if(a.psd.fenix.textures==undefined){a.psd.fenix.textures={}}})(window);(function(b){a._nextID=0;a.getKeyId=function(){return a._nextID++};function a(){}b.UID=a})(psd.fenix);(function(a){b.colorToRGB=function(e,i){if(typeof e==="string"&&e[0]==="#"){e=window.parseInt(e.slice(1),16)}i=(i===undefined)?1:i;var h=e>>16&255,f=e>>8&255,c=e&255,d=(i<0)?0:((i>1)?1:i);if(d===1){return"rgb("+h+","+f+","+c+")"}else{return"rgba("+h+","+f+","+c+","+d+")"}};function b(){}a.ColorUtil=b})(psd.fenix);(function(a){b.containsPoint=function(d,c,e){return !(c<d.x||c>d.x+d.width||e<d.y||e>d.y+d.height)};b.intersects=function(d,c){return !(d.x+d.width<c.x||c.x+c.width<d.x||d.y+d.height<c.y||c.y+c.height<d.y)};function b(){}a.MathUtil=b})(psd.fenix);(function(a){function b(c,d){this.x=c|0;this.y=d|0;this.clone=function(){return new b(this.x,this.y)};this.add=function(e){return new b(this.x+e.x,this.y+e.y)};this.degreesTo=function(g){var f=this.x-g.x;var e=this.y-g.y;var h=Math.atan2(e,f);return h*(180/Math.PI)};this.distance=function(f){var e=this.x-f.x;var g=this.y-f.y;return Math.sqrt(e*e+g*g)};this.equals=function(e){return this.x==e.x&&this.y==e.y};this.interpolate=function(g,e){return new b((this.x+g.x)*e,(this.y+g.y)*e)};this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};this.normalize=function(f){var e=this.length();this.x=this.x/e*f;this.y=this.y/e*f};this.orbit=function(f,e,g,i){var h=i*(Math.PI/180);this.x=f.x+e*Math.cos(h);this.y=f.y+g*Math.sin(h)};this.offset=function(f,e){this.x+=f;this.y+=e};this.subtract=function(e){return new b(this.x-e.x,this.y-e.y)};this.toString=function(){return"(x="+this.x+", y="+this.y+")"};b.interpolate=function(h,g,e){return new b((h.x+g.x)*e,(h.y+g.y)*e)};b.polar=function(e,f){return new b(e*Math.sin(f),e*Math.cos(f))};b.distance=function(g,f){var e=g.x-f.x;var h=g.y-f.y;return Math.sqrt(e*e+h*h)}}a.Point=b})(psd.fenix);(function(b){function a(d,e,c){this.x=d|0;this.y=e|0;this.r=c|1;this.clone=function(){return new a(this.x,this.y,this.r)};this.toString=function(){return"(x="+this.x+", y="+this.y+", radius="+this.r+")"}}b.Girth=a})(psd.fenix);(function(b){function a(d,f,e,c){this.x=d||0;this.y=f||0;this.width=e||1;this.height=c||1;this.clone=function(){return new a(this.x,this.y,this.width,this.height)};this.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}b.Rectangle=a})(psd.fenix);(function(b){a.prototype=new psd.framework.Event();a.ABORT="abort";a.BEGIN="begin";a.CAN_PLAY="canplay";a.CAN_PLAY_THROUGH="canplaythrough";a.DURATION_CHANGE="durationchange";a.EMPTIED="emptied";a.ENDED="ended";a.ERROR="error";a.LOADED_DATA="loadeddata";a.LOADED_METADATA="loadedmetadata";a.LOAD_START="loadstart";a.PAUSE="pause";a.PLAY="play";a.PLAYING="playing";a.PROGRESS="progress";a.RATE_CHANGE="ratechange";a.READY_STATE_CHANGE="readystatechange";a.SEEKED="seeked";a.SEEKING="seeking";a.STALLED="stalled";a.SUSPEND="suspend";a.TIME_UPDATE="timeupdate";a.VOLUME_CHANGE="volumechange";a.WAITING="waiting";this.data=null;function a(c,d){psd.framework.Event.call(this,c);this.data=d}b.MediaEvent=a})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CLICK="click";a.MOUSE_DOWN="mouseDown";a.MOUSE_UP="mouseUp";a.MOUSE_MOVE="mouseMove";a.MOUSE_OVER="mouseOver";a.MOUSE_OUT="mouseOut";a.MOUSE_WHEEL="mouseWheel";this.stageX=0;this.stageY=0;this.localX=0;this.localY=0;this.delta=0;function a(g,f,e,d,c){psd.framework.Event.call(this,g);this.stageX=f!=undefined?f:0;this.stageY=e!=undefined?e:0;this.localX=d!=undefined?d:0;this.localY=c!=undefined?c:0}b.MouseEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.CHANGE="change";this.data=null;function b(c,d){psd.framework.Event.call(this,c);this.data=d}a.ProgressEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.INIT="init";a.INIT_ERROR="initError";a.ADDED_TO_STAGE="addedToStage";a.REMOVED_FROM_STAGE="removedFromStage";a.ENTER_FRAME="enterFrame";a.ADDED="added";a.REMOVED="removed";a.RESIZE="resize";a.DISPLAY_STATE_CHANGE="displayStateChange";this.currentTarget=null;function a(c,d){psd.framework.Event.call(this,c);this.currentTarget=d}b.StageEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.KEY_DOWN="keyDown";b.KEY_UP="keyUp";this.keyCode=0;function b(c,d){psd.framework.Event.call(this,c);this.keyCode=d}a.KeyboardEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CACHE_FLUSH="cacheFlush";function a(c){psd.framework.Event.call(this,c)}b.CacheEvent=a})(psd.fenix.event);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(d,j,o){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.textures.TextureAtlas";var r=(o==true||o=="true")?true:false;var c=d;var f=false;var q=(function(s){return function(){m.apply(s)}})(this);var m=function(){f=true;if(l){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var n=null;var e=j;var l=false;var p=new psd.framework.Mediator();var g=function(s){if(r){n=s.result.parserResult.result}else{n=JSON.parse(s.result.parserResult.result)}l=true;if(f){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var h=function(s){Log.log("onMediateError: "+s)};var i=new psd.framework.Parser();var k=new Image();this.texture=function(){return k};this.getFrames=function(u){var t,s,w,v=[];if(u=="*"){v=n.frames}else{if(Object.prototype.toString.apply(u)!="[object Array]"){u=[u]}for(t in n.frames){w=n.frames[t];for(s in u){if(w.filename.indexOf(u[s])==0){v.push(w)}}}}return v};p.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,g,this);p.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,h,this);p.mediate(e,i,r?psd.framework.Mediator.RESPONSE_JSONP:psd.framework.Mediator.RESPONSE_JSON);k.onload=q;k.crossOrigin="anonymous";k.src=c}a.TextureAtlas=b})(psd.fenix.textures);(function(b){function a(c,f){this.className="psd.fenix.display.commands.BeginFillCommand";var e=c!=undefined?c:0;var d=f!=undefined?f:1;this.exec=function(g){g.closePath();g.fillStyle=psd.fenix.ColorUtil.colorToRGB(e,d);g.beginPath()}}b.BeginFillCommand=a})(psd.fenix.display.commands);(function(b){function a(j,k,d,e,g){this.className="psd.fenix.display.commands.BeginGradientFillCommand";var c=j;var f=(k!=undefined&&(k=="linear"||k=="radial"))?k:"linear";var i=d!=undefined?d:[];var h=e!=undefined?e:[];var l=g!=undefined?g:[];this.exec=function(m){var o=f=="linear"?m.createLinearGradient(0,0,0,c.height()):m.createRadialGradient(0,0,1,1,1,1),n;for(n in i){o.addColorStop(l[n],psd.fenix.ColorUtil.colorToRGB(i[n],h[n]))}m.closePath();m.fillStyle=o;m.beginPath()}}b.BeginGradientFillCommand=a})(psd.fenix.display.commands);(function(b){function a(g,d,c,j){this.className="psd.fenix.display.commands.CurveToCommand";var i=g!=undefined?g:0;var f=d!=undefined?d:0;var h=c!=undefined?c:0;var e=j!=undefined?j:0;this.exec=function(k){k.quadraticCurveTo(i,f,h,e);k.stroke()}}b.CurveToCommand=a})(psd.fenix.display.commands);(function(a){function b(d,h,c){this.className="psd.fenix.display.commands.DrawCircleCommand";var f=d!=undefined?d:0;var e=h!=undefined?h:0;var g=c!=undefined?c:0;this.exec=function(i){i.arc(f,e,g,0,2*Math.PI,false)}}a.DrawCircleCommand=b})(psd.fenix.display.commands);(function(b){function a(e,j,i,d){this.className="psd.fenix.display.commands.DrawRectCommand";var g=e!=undefined?e:0;var f=j!=undefined?j:0;var c=i!=undefined?i:0;var h=d!=undefined?d:0;this.exec=function(k){k.beginPath();k.fillRect(g,f,c,h);k.strokeRect(g,f,c,h);k.closePath()}}b.DrawRectCommand=a})(psd.fenix.display.commands);(function(a){function b(){this.className="psd.fenix.display.commands.EndFillCommand";this.exec=function(c){c.fill();c.stroke()}}a.EndFillCommand=b})(psd.fenix.display.commands);(function(b){function a(m,g,f,e,c,i){this.className="psd.fenix.display.commands.LineStyleCommand";var j=m!=undefined?m:0;var l=g!=undefined?g:0;var k=g!=undefined?f:1;var n=e!=undefined?e:"";var d=c!=undefined?c:"";var h=i!=undefined?i:0;this.exec=function(o){o.lineWidth=j;o.lineCap=n;o.lineJoin=d;o.miterLimit=h;o.strokeStyle=psd.fenix.ColorUtil.colorToRGB(l,k)}}b.LineStyleCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.LineToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.lineTo(e,d);g.stroke()}}b.LineToCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.MoveToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.closePath();g.beginPath();g.moveTo(e,d)}}b.MoveToCommand=a})(psd.fenix.display.commands);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.DisplayObject";var c=[];this.draw=function(d){var e;d.save();d.beginPath();for(e=0;e<c.length;e++){c[e].exec(d)}d.closePath();d.restore()};this.beginFill=function(d,e){c.push(new psd.fenix.display.commands.BeginFillCommand(d,e))};this.beginGradientFill=function(h,f,e,d,g){c.push(new psd.fenix.display.commands.BeginGradientFillCommand(h,f,e,d,g))};this.clear=function(){c=[]};this.curveTo=function(f,e,d,g){c.push(new psd.fenix.display.commands.CurveToCommand(f,e,d,g))};this.drawCircle=function(e,f,d){c.push(new psd.fenix.display.commands.DrawCircleCommand(e,f,d))};this.drawRect=function(e,g,f,d){c.push(new psd.fenix.display.commands.DrawRectCommand(e,g,f,d))};this.endFill=function(){c.push(new psd.fenix.display.commands.EndFillCommand())};this.lineStyle=function(g,f,i,h,d,e){c.push(new psd.fenix.display.commands.LineStyleCommand(g,f,i,h,d,e))};this.lineTo=function(d,e){c.push(new psd.fenix.display.commands.LineToCommand(d,e))};this.moveTo=function(d,e){c.push(new psd.fenix.display.commands.MoveToCommand(d,e))}}b.Graphics=a})(psd.fenix.display);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.DisplayObject";var p=psd.fenix.UID.getKeyId();var q=false;var m=0;var t=0;var w=0;var h=0;var v=0;var r=0;var d=null;var e=false;var u=function(x){s=x.currentTarget};this.addEventListener(psd.fenix.StageEvent.ADDED,u);var f=function(x){o=x.currentTarget;j=o.context2d()};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,f,this);this._prepareContext=function(x){if(x){x.translate(this.x,this.y);x.rotate(this.rotation);x.scale(l,i);x.globalAlpha=this.globalAlpha();if(this.scrollRect!=null){x.beginPath();x.rect(0,0,this.scrollRect.width,this.scrollRect.height);x.clip();x.translate(-this.scrollRect.x,-this.scrollRect.y)}}};this.name="instance_"+p;this.x=0;this.globalX=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.x}else{return this.parent().globalX()+this.x*this.parent().scaleX()}}};this.y=0;this.globalY=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.y}else{return this.parent().globalY()+this.y*this.parent().scaleY()}}};this.z=0;this.width=function(x){if(x&&x!=t){t=x;q=false}if(!q){this.measure()}return w};this.height=function(x){if(x&&x!=v){v=x;q=false}if(!q){this.measure()}return r};var l=1;this.scaleX=function(x){if(x&&x!=l){l=x;q=false}return l};var i=1;this.scaleY=function(x){if(x&&x!=i){i=x;q=false}return i};this.rotation=0;this.alpha=1;var k=false;this.boundsDetection=function(x){if(x!=undefined){k=x}return k};this.globalAlpha=function(x){if(x&&x!=_alpha){_alpha=x}if(this.className=="psd.fenix.Stage"){return this.alpha}else{if(this.parent()==null){return 1}else{return this.parent().globalAlpha()*this.alpha}}};this.visible=true;this.mouseEnabled=true;this.buttonMode=false;this.useHandCursor=true;this.scrollRect=null;this.cacheAsBitmap=false;var g;this.cache=function(){return g};this.invalidateCache=function(){if(Object.prototype.toString.call(x)==="[object HTMLCanvasElement]"){var x=document.createElement("canvas");g={canvas:x,ctx:x.getContext("2d"),svg:null,data:null,url:null,img:new Image(),caching:false,ready:0,delay:Math.floor(Math.random()*60),DOMURL:self.URL||self.webkitURL||self}}else{g={}}this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH))};var o=null;this.stage=function(){return o};var s=null;this.parent=function(){return s};var j=null;this.context2d=function(){return j};var c=new psd.fenix.display.Graphics();this.graphics=function(){return c};this.invalidateSize=function(x,y){if(x!=null&&x!=undefined){m=x}if(y!=null&&y!=undefined){h=y}q=false;if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateSize()}this.invalidateCache();if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateCache()}};this.validateSize=function(x,y){if(!q){if(m!=0){x=m}if(h!=0){y=h}if(x==0){x=t}if(y==0){y=v}if(t!=0&&x!=0){l=t/x}if(v!=0&&y!=0){i=v/y}w=x*l;r=y*i;q=true;this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH));this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}};this.measure=function(){this.validateSize(m,h)};this.render=function(x){if(!q){this.measure()}if(x!=null&&this.visible&&this.globalAlpha()>0){x.save();this._prepareContext.apply(this,[x]);this.graphics().draw(x);if(this._render){this._render(x)}x.restore()}};this.testHit=function(z,C,A){var B=(z>=this.globalX()&&z<=this.globalX()+this.width()&&C>=this.globalY()&&C<=this.globalY()+this.height());if(B&&!k&&psd!=null&&psd.fenix!=null&&A!=null){A.clearRect(0,0,1,1);A.save();this._prepareContext(A);if(typeof(this._render)!="undefined"){this._render(A,true)}if(typeof(A.getImageData)!="undefined"){B=A.getImageData(0,0,1,1).data[3]>1}A.restore()}return B};var n=false;this.isMouseDown=function(x){if(x==true||x==false){n=x}return n};this.invalidateMouseStatus=function(x){this.updateMouseStatus(false,x,true)};this.calculateMouseStatus=function(y){var x=this.visible&&this.testHit(y.x,y.y,y.hitContext);this.updateMouseStatus(x,y,false);return x};this.updateMouseStatus=function(x,y,z){if(this.className!="psd.fenix.Stage"){if(x){if(!e){e=true;if(!z){if(this.buttonMode&&this.useHandCursor){document.body.style.cursor="pointer"}}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,y.x,y.y))}}else{if(e){e=false;if(!z){document.body.style.cursor="auto"}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,y.x,y.y))}}}};this.calculateMouseDownStatus=function(y){var x=this.visible&&this.testHit(y.x,y.y,y.hitContext);this.updateMouseDownStatus(x,y);return x};this.updateMouseDownStatus=function(x,y){if(y.down){if(x){if(!n){n=true;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,y.x,y.y,y.x-this.globalX(),y.y-this.globalY()))}}}else{if(n){n=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,y.x,y.y,y.x-this.globalX(),y.y-this.globalY()))}}}}else{if(n){n=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,y.x,y.y,y.x-this.globalX(),y.y-this.globalY()))}}}};this.invalidateCache()}b.DisplayObject=a})(psd.fenix);(function(a){b.prototype=new psd.fenix.DisplayObject();function b(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.DisplayObjectContainer";var d=function(f){var g,h=c.length;for(g=0;g<h;g++){c[g].dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,f.currentTarget))}};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,d,this);var c=[];this.displayList=function(){return c};this.numChildren=function(){return c.length};var e=true;this.mouseChildren=function(f){if(f==true||f==false){e=f}return e};this.addChild=function(f){c.push(f);f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return f};this.removeChild=function(g){var f=this.getChildIndex(g);if(f>=0){c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED_FROM_STAGE,this))}}return g};this.addChildAt=function(g,f){c.splice(f,0,g);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return g};this.removeChildAt=function(f){var g=null;if(f>=0&&f<=c.length){g=c[f];c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}}return g};this.getChildIndex=function(h){var g=0,f=-1;for(g in c){if(c[g]===h){f=g;break}}return f};this.measure=function(){var g,m,k=c.length,f=Number.MAX_VALUE,j=-Number.MAX_VALUE,l=Number.MAX_VALUE,h=-Number.MAX_VALUE;if(k){for(g=0;g<k;g++){m=c[g];if(m.x<f){f=m.x}if((m.x+m.width())>j){j=m.x+m.width()}if(m.y<l){l=m.y}if((m.y+m.height())>h){h=m.y+m.height()}}this.validateSize((j-f),(h-l))}else{this.validateSize(0,0)}};this.removeAllChildren=function(){while(this.numChildren()>0){this.removeChildAt(0)}};this.render=function(g){var k,j=this.cache(),f=this.width(),l=this.height();if(g!=null&&this.visible&&this.globalAlpha()>0){g.save();this._prepareContext(g);if(this.cacheAsBitmap&&j.ready>0){j.ready=Math.max(j.ready-1,0);g.drawImage(j.img,0,0)}else{this.graphics().draw(g);if(this._render){this._render(g)}for(k=0;k<c.length;k++){c[k].render(g)}if(this.cacheAsBitmap){if(j.delay>0){j.delay--}else{if(j.ready==0&&!j.caching){f=2*f;l=2*l;j.caching=true;j.canvas.setAttribute("width",f);j.canvas.setAttribute("height",l);j.ctx.clearRect(0,0,f,l);this.graphics().draw(j.ctx);if(this._render){this._render(j.ctx)}for(k=0;k<c.length;k++){c[k].render(j.ctx)}j.url=j.canvas.toDataURL();j.img.onload=function(){j.ready=60*60*5;j.caching=false};j.img.src=j.url}}}}this.measure();g.restore()}};this.invalidateMouseStatus=function(g){var f;for(f in c){c[f].invalidateMouseStatus(g)}b.prototype.invalidateMouseStatus.apply(this,[g])};this.calculateMouseStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseStatus(j);if(h){break}}if(f>0){while(f>0){f--;c[f].invalidateMouseStatus(j)}}g.restore();if(!h){h=b.prototype.calculateMouseStatus.apply(this,[j])}this.updateMouseStatus(h,j,true)}return h};this.calculateMouseDownStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseDownStatus(j);if(h){break}}g.restore();if(!h){h=b.prototype.calculateMouseDownStatus.apply(this,[j])}this.updateMouseDownStatus(h,j)}return h}}a.DisplayObjectContainer=b})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(f,i){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Movieclip";var h=0;var g=true;var e=f;var d=i;this.invalidateSize(d[0].frame.w,d[0].frame.h);this._render=function(s,r){var p=d[h],l=p.frame,n=p.rotated,k=n?l.h:l.w,o=n?l.w:l.h,q=n?this.height():this.width(),m=n?this.width():this.height();if(n){s.translate(0,m/2);s.rotate(-Math.PI/2)}s.drawImage(e,l.x,l.y,k,o,0,0,k,o);if(g&&!r){h++;if(h>=d.length){h=0}}};var j=function(k){var m=h,l;for(l in d){if(d[l].label==k){m=l;break}}return m};var c=function(o){var k={width:0,height:0},m=d[o],l=m.frame,n=m.rotated;k.width=n?l.h:l.w;k.height=n?l.w:l.h;return k};this.gotoAndStop=function(l){var k;this.stop();if(typeof(l)=="number"){h=l}else{if(typeof(l)=="string"){h=j(l)}}k=c.apply(this,[h]);this.invalidateSize(k.width,k.height)};this.gotoAndPlay=function(k){if(typeof(k)=="number"){h=k}else{if(typeof(k)=="string"){h=j(k)}}this.play()};this.play=function(){g=true};this.stop=function(){g=false};this.currentFrame=function(){return h};this.currentLabel=function(){return d[h].label}}b.Movieclip=a})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(e){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.display.Video";var f=e;var d=false;var c=f.mediaTag();this._render=function(g){if(d&&c!=null){g.drawImage(c,0,0,this.width(),this.height())}};this.testHit=function(g,h){return(g>=this.x&&g<=this.x+this.width()&&h>=this.y&&h<=this.y+this.height())}}b.Video=a})(psd.fenix.display);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(d){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Clip";this.viewPort=null;var e=d;var f=false;var c=new Image();c.onload=(function(g){return function(){f=true;g.invalidateSize(c.width,c.height)}})(this);this._render=function(g,h){if(f==true){if(this.viewPort==null){if(this.width()==0&&this.height()==0){g.drawImage(c,0,0)}else{g.drawImage(c,0,0,this.width(),this.height())}}else{g.drawImage(c,this.viewPort.x,this.viewPort.y,this.viewPort.width,this.viewPort.height,this.x,this.y,this.width(),this.height())}}};c.src=e}b.Clip=a})(psd.fenix);(function(b){a.prototype=new psd.framework.EventDispatcher();a.TYPE_VIDEO="video";a.TYPE_AUDIO="audio";function a(f,d,ab){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaElement";var c=d;var T=f;var v=ab;var R=null;var u=null;var C=(function(ag){return function(ah){M.apply(ag,[ah])}})(this);var M=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ABORT))};var H=(function(ag){return function(ah){k.apply(ag,[ah])}})(this);var k=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY))};var U=(function(ag){return function(ah){j.apply(ag,[ah])}})(this);var j=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH))};var n=(function(ag){return function(ah){E.apply(ag,[ah])}})(this);var E=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.DURATION_CHANGE))};var o=(function(ag){return function(ah){V.apply(ag,[ah])}})(this);var V=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.EMPTIED))};var ae=(function(ag){return function(ah){l.apply(ag,[ah])}})(this);var l=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ENDED));R.load()};var J=(function(ag){return function(ah){Q.apply(ag,[ah])}})(this);var Q=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ERROR))};var X=(function(ag){return function(ah){aa.apply(ag,[ah])}})(this);var aa=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_DATA))};var P=(function(ag){return function(ah){af.apply(ag,[ah])}})(this);var af=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_METADATA))};var Z=(function(ag){return function(ah){N.apply(ag,[ah])}})(this);var N=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOAD_START))};var i=(function(ag){return function(ah){q.apply(ag,[ah])}})(this);var q=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var s=(function(ag){return function(ah){S.apply(ag,[ah])}})(this);var S=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var ac=(function(ag){return function(ah){F.apply(ag,[ah])}})(this);var F=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAYING))};var z=(function(ag){return function(ah){w.apply(ag,[ah])}})(this);var w=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PROGRESS))};var I=(function(ag){return function(ah){K.apply(ag,[ah])}})(this);var K=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.RATE_CHANGE))};var r=(function(ag){return function(ah){p.apply(ag,[ah])}})(this);var p=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.READY_STATE_CHANGE))};var x=(function(ag){return function(ah){O.apply(ag,[ah])}})(this);var O=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKED))};var B=(function(ag){return function(ah){h.apply(ag,[ah])}})(this);var h=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKING))};var t=(function(ag){return function(ah){ad.apply(ag,[ah])}})(this);var ad=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.STALLED))};var A=(function(ag){return function(ah){g.apply(ag,[ah])}})(this);var g=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SUSPEND))};var y=(function(ag){return function(ah){D.apply(ag,[ah])}})(this);var D=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.TIME_UPDATE,R.currentTime))};var W=(function(ag){return function(ah){G.apply(ag,[ah])}})(this);var G=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.VOLUME_CHANGE))};var e=(function(ag){return function(ah){L.apply(ag,[ah])}})(this);var L=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.WAITING))};var Y=function(){var ah="[object HTMLVideoElement]",al="[object HTMLAudioElement]",aj="[object Array]",ak=Object.prototype.toString.apply(c),ai,am;R=(ak==ah||ak==al)?c:null;u=ak==aj?c:[c];if(R==null&&(T==a.TYPE_VIDEO||T==a.TYPE_AUDIO)){R=document.createElement(T);if(T=="audio"){R.setAttribute("style","position:absolute;")}else{R.setAttribute("style","position:absolute; background:black;")}R.setAttribute("width",v.width);R.setAttribute("height",v.height);for(ai in u){var ag=document.createElement("source");ag.setAttribute("src",u[ai].src);R.appendChild(ag)}if(typeof(v)!="undefined"&&v!=null){am=v.autoplay;if(typeof(am)!="undefined"&&(am=="true"||am==true)){R.setAttribute("autoplay","autoplay")}am=v.poster;if(typeof(am)!="undefined"&&am!=""){R.setAttribute("poster",am)}}m(psd.fenix.event.MediaEvent.ABORT,C);m(psd.fenix.event.MediaEvent.CAN_PLAY,H);m(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH,U);m(psd.fenix.event.MediaEvent.DURATION_CHANGE,n);m(psd.fenix.event.MediaEvent.EMPTIED,o);m(psd.fenix.event.MediaEvent.ENDED,ae);m(psd.fenix.event.MediaEvent.ERROR,J);m(psd.fenix.event.MediaEvent.LOADED_DATA,X);m(psd.fenix.event.MediaEvent.LOADED_METADATA,P);m(psd.fenix.event.MediaEvent.LOAD_START,Z);m(psd.fenix.event.MediaEvent.PAUSE,i);m(psd.fenix.event.MediaEvent.PLAY,s);m(psd.fenix.event.MediaEvent.PLAYING,ac);m(psd.fenix.event.MediaEvent.PROGRESS,z);m(psd.fenix.event.MediaEvent.RATE_CHANGE,I);m(psd.fenix.event.MediaEvent.READY_STATE_CHANGE,r);m(psd.fenix.event.MediaEvent.SEEKED,x);m(psd.fenix.event.MediaEvent.SEEKING,B);m(psd.fenix.event.MediaEvent.STALLED,t);m(psd.fenix.event.MediaEvent.SUSPEND,A);m(psd.fenix.event.MediaEvent.TIME_UPDATE,y);m(psd.fenix.event.MediaEvent.VOLUME_CHANGE,W);m(psd.fenix.event.MediaEvent.WAITING,e);psd.fenix.topLevelApplication.insertBefore(R,psd.fenix.topLevelCanvas)}};var m=function(ag,ah){if(R){if(R.addEventListener){R.addEventListener(ag,ah,false)}else{if(R.attachEvent){R.attachEvent(ag,ah)}}}};Y.apply(this);this.currentTime=function(ah){var ag=0;if(R){if(typeof(ah)!="undefined"){R.currentTime=ah}ag=R.currentTime}return ag};this.duration=function(){if(R){return R.duration}else{return 0}};this.autoplay=function(ag){if(R){if(ag==false){R.removeAttribute("autoplay")}else{R.setAttribute("autoplay","autoplay")}}};this.pause=function(){if(R){R.pause()}};this.paused=function(){if(R){return R.paused}else{return false}};this.play=function(){if(R){R.play()}};this.resize=function(ag,aj,ah,ai){if(R){if(ah){R.width=ah}if(ai){R.height=ai}}};this.volume=function(ah){var ag=0;if(R){if(ah>=0&&ah<=1){R.volume=ah}ag=R.volume}return ag}}b.MediaElement=a})(psd.fenix.media);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaController";var d=null;var i=false;var h=function(k){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var e=function(k){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var g=function(k){i=false;d.autoplay(false);d.pause();d.currentTime(0);this.dispatchEvent(k)};var f=function(k){if(!i){i=true;this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.BEGIN))}this.dispatchEvent(k)};var c=function(k){this.dispatchEvent(k)};var j=function(k){this.dispatchEvent(k)};this.attachStream=function(k){d=k;d.addEventListener(psd.fenix.event.MediaEvent.PLAY,h,this);d.addEventListener(psd.fenix.event.MediaEvent.PAUSE,e,this);d.addEventListener(psd.fenix.event.MediaEvent.ENDED,g,this);d.addEventListener(psd.fenix.event.MediaEvent.PLAYING,f,this);d.addEventListener(psd.fenix.event.MediaEvent.TIME_UPDATE,j,this);d.addEventListener(psd.fenix.event.MediaEvent.WAITING,c,this)};this.currentTime=function(){if(d){return d.currentTime()}else{return 0}};this.currentTimeAsTimeCode=function(k){return this.secondsAsTimeCode(this.currentTime(),k)};this.duration=function(){if(d){return d.duration()}else{return 0}};this.durationAsTimeCode=function(k){return this.secondsAsTimeCode(this.duration(),k)};this.play=function(){if(d){d.play()}};this.pause=function(){if(d){d.pause()}};this.paused=function(){if(d){return d.paused()}else{return false}};this.secondsAsTimeCode=function(o,n){var l=Math.floor(o/3600),m=Math.floor((o-(l*3600))/60),p=Math.floor(o-(l*3600)-(m*60)),k="";if(l<10){l="0"+l}if(m<10){m="0"+m}if(p<10){p="0"+p}if(n==null){k=l+":"+m+":"+p}else{k=n.replace("hh",l);k=k.replace("mm",m);k=k.replace("ss",p)}return k};this.seek=function(k){if(k>0&&k<1){k=k*d.duration()}d.currentTime(k)};this.volume=function(k){if(d){return d.volume(k)}else{return 0}}}a.MediaController=b})(psd.fenix.media);(function(b){function a(){this.className="psd.fenix.text.TextFormat";this.bold=false;this.color=0;this.font="Verdana, Geneva, sans-serif";this.italic=false;this.size=16;this.toCanvasString=function(){var c="";if(this.bold){c+="bold "}if(this.italic){c+="italic "}c+=this.size+"px ";c+=this.font+" ";return c};this.toCSSString=function(){var c=this.color.toString(16);if(c.indexOf("0x")==0){c=c.substr(2)}var d="";d+="font-family:"+this.font+";";d+="font-size:"+this.size+"px;";d+="font-style:"+(this.italic?"italic;":"normal;");d+="font-weight:"+(this.bold?"bold;":"normal;");d+="color:#"+c+";";return d}}b.TextFormat=a})(psd.fenix.text);(function(a){a.TextFieldAutoSize={};a.TextFieldAutoSize.CENTER="center";a.TextFieldAutoSize.LEFT="left";a.TextFieldAutoSize.NONE="none";a.TextFieldAutoSize.RIGHT="right"})(psd.fenix.text);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.text.TextField";var i;var m="<svg xmlns='http://www.w3.org/2000/svg' width='{WIDTH}px' height='{HEIGHT}px'><foreignObject width='100%' height='100%'><div xmlns='http://www.w3.org/1999/xhtml'><span style='{STYLE}'>{TEXT}</span></div></foreignObject></svg>";var n=new psd.fenix.text.TextFormat();this._render=function(p){var o=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){o=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){o=-this.width()}p.beginPath();p.rect(o,0,this.width(),this.height());p.lineWidth=1;p.strokeStyle=psd.fenix.ColorUtil.colorToRGB(g,1);p.fillStyle=psd.fenix.ColorUtil.colorToRGB(h,1);if(c){p.fill()}if(l){p.stroke()}p.beginPath();p.rect(o,0,this.width()+35,this.height());p.clip();p.closePath();if(!d){p.textAlign=f;p.textBaseline="top";p.font=n.toCanvasString();p.fillStyle=psd.fenix.ColorUtil.colorToRGB(n.color,1);p.fillText(j,0,0)}else{if(i.svg==null||i.img==null){i.img=new Image();i.data=m.replace("{TEXT}",j).replace("{WIDTH}",this.width()).replace("{HEIGHT}",this.height()).replace("{STYLE}",n.toCSSString());i.svg=new Blob([i.data],{type:"image/svg+xml;charset=utf-8"});i.url=i.DOMURL.createObjectURL(i.svg);i.img.onload=function(){i.DOMURL.revokeObjectURL(i.url);i.ready=true};i.img.src=i.url}else{if(i.ready){p.drawImage(i.img,0,0)}}}};var e=function(){var o=document.getElementsByTagName("body")[0],q=document.createElement("span"),r=document.createTextNode(j),p=n.toCSSString();q.appendChild(r);q.setAttribute("style",p);if(d){q.setAttribute("style",p+"display:block;width:"+this.width()+"px;")}o.appendChild(q);if(f!=psd.fenix.text.TextFieldAutoSize.NONE){if(!d){this.invalidateSize(q.offsetWidth,q.offsetHeight)}else{this.invalidateSize(this.width(),q.offsetHeight)}}o.removeChild(q)};var k=function(){i={svg:null,data:null,url:null,img:null,ready:false,DOMURL:self.URL||self.webkitURL||self}};var f=psd.fenix.text.TextFieldAutoSize.LEFT;this.autoSize=function(o){if(o==psd.fenix.text.TextFieldAutoSize.NONE||o==psd.fenix.text.TextFieldAutoSize.LEFT||o==psd.fenix.text.TextFieldAutoSize.RIGHT||o==psd.fenix.text.TextFieldAutoSize.CENTER){f=o}return f};var c=false;this.background=function(o){if(o==true||o==false){c=o}return c};var h=16777215;this.backgroundColor=function(o){if(o!=undefined&&o!=null){h=o}return h};var l=false;this.border=function(o){if(o==true||o==false){l=o}return l};var g=0;this.borderColor=function(o){if(o!=undefined&&o!=null){g=o}return g};this.getTextFormat=function(){var o,p={};for(o in n){p[o]=n[o]}return p};var d=false;this.multiline=function(o){if(o!=undefined&&o!=null){d=o}return d};this.setTextFormat=function(o){if(typeof(o.className)!="undefined"&&o.className=="psd.fenix.text.TextFormat"){n=o;if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}}};var j="";this.text=function(o){if(o!=undefined&&o!=null){j=o}if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}k();return j};this.testHit=function(p,q){var o=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){o=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){o=-this.width()}return(p>=(o+this.globalX())&&p<=(o+this.globalX()+this.width())&&q>=this.globalY()&&q<=(this.globalY()+this.height()))};this.addEventListener(psd.fenix.event.CacheEvent.CACHE_FLUSH,k,this);k()}b.TextField=a})(psd.fenix.text);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(s,y,A,r,c,v){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.ProgressBar";var e=false;var D=s;var u=y;var w=null;var x=A;var C=null;var m=r;var p=null;var B=null;var n=c;var i=null;var f=null;var t=null;var d=v;var q=false;var z=0;var l=function(){w=new psd.fenix.Movieclip(D,u);w.gotoAndStop(0);C=new psd.fenix.Movieclip(D,x);C.gotoAndStop(0);p=new psd.fenix.Movieclip(D,m);p.buttonMode=true;p.useHandCursor=true;p.gotoAndStop(0);B=new psd.fenix.Movieclip(D,u);B.buttonMode=true;B.useHandCursor=true;B.alpha=1;B.gotoAndStop(0);i=new psd.fenix.Movieclip(D,n);i.buttonMode=true;i.useHandCursor=true;i.gotoAndStop(0);i.width(0);this.addChild(w);this.addChild(B);this.addChild(p);this.addChild(C);this.addChild(i);if(d!=null){d.x=z*p.width();d.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,g,this);this.addChild(d)}B.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,j,this);p.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,j,this);i.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,j,this);e=true};var j=function(E){z=E.localX/p.width();this.setProgress(z);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,z))};var g=function(E){q=true;this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,o,this);this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_UP,k,this)};var o=function(F){var E=F.stageX-this.globalX();if(E<0){E=0}if(E>p.width()){E=p.width()}d.x=E-d.width()/2;if(h){z=E;i.width(E);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,E/p.width()))}};var k=function(F){var E=F.stageX-this.globalX();if(E<0){E=0}if(E>p.width()){E=p.width()}z=E;q=false;d.x=E-d.width()/2;this.setProgress(E/p.width());this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,E/p.width()));this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,o,this);this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_UP,k,this)};l.apply(this);var h=false;this.liveUpdate=function(E){if(E!=undefined){h=E}return h};this.resize=function(F,E){if(e){w.x=0;C.x=F-C.width();p.x=w.x+w.width();p.width(C.x-p.x);i.x=p.x;i.width(p.width()*z);if(f!=null){w.height(f);C.height(f);p.height(f);i.height(f)}if(t!=null){B.height(t);B.width(p.width());B.x=p.x;B.y=(p.height()-B.height())/2}if(d!=null){d.x=d.x=p.width()*z-d.width()/2;d.y=(p.height()-d.height())/2;if(d.x-d.width/2<0){d.x=v.width/2}}}};this.slider=function(E){if(d!=null){this.removeChild(d)}d=E;d.x=z*p.width()-d.width()/2;d.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,g,this);this.addChild(d)};this.setProgress=function(F){z=F;if(e){var E=p.width()*F==0?1:p.width()*F;if(!h||!q){i.width(E)}if(d!=null&&!q){d.x=E-d.width()/2}}};this.currentProgress=function(){return z};this.barHeight=function(E){f=E};this.zoneHeight=function(E){t=E}}b.ProgressBar=a})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(e,l,s){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.MediaControlBar";var c=s;var q=l;var g=e;var u=null;var k=null;var x=null;var B=null;var o=null;var f=null;var d=false;var n=(function(D){return function(){C.apply(D)}})(this);var C=function(){var E=t.texture(),D=t.getFrames(["play","pause"]);fullscreenFrames=t.getFrames(["fullscreen","normalscreen"]),barLeftFrames=t.getFrames("barLeft"),barRightFrames=t.getFrames("barRight"),barCenterFrames=t.getFrames("barCenterEmpty"),barFillFrames=t.getFrames("barCenterFill");u=new psd.fenix.Movieclip(E,D);u.useHandCursor=true;u.buttonMode=true;u.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,m,this);u.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,v,this);u.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,z,this);u.gotoAndStop("play-idle");x=new psd.fenix.Movieclip(E,fullscreenFrames);x.useHandCursor=true;x.buttonMode=true;x.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,j,this);x.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,r,this);x.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,y,this);x.gotoAndStop("normal-idle");B=new psd.fenix.controls.ProgressBar(E,barLeftFrames,barRightFrames,barCenterFrames,barFillFrames);B.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,p,this);var F=new psd.fenix.text.TextFormat();F.color=16777215;F.size=14;o=new psd.fenix.text.TextField();o.setTextFormat(F);o.text("00:00");f=new psd.fenix.text.TextField();f.setTextFormat(F);f.text("00:00");this.addChild(u);this.addChild(x);this.addChild(B);this.addChild(o);this.addChild(f);d=true};var p=function(E){var D=(E.stageX-B.globalX())/B.width();g.seek(D)};var m=function(D){var E=u.currentLabel(),F=E.substr(0,E.indexOf("-"));u.gotoAndStop(F+"-over")};var v=function(D){var E=u.currentLabel(),F=E.substr(0,E.indexOf("-"));u.gotoAndStop(F+"-idle")};var z=function(D){var E=u.currentLabel(),F=E.substr(0,E.indexOf("-"));if(g.paused()){g.play()}else{g.pause()}if(F=="play"){u.gotoAndStop("pause-over")}else{u.gotoAndStop("play-over")}this.dispatchEvent(new psd.framework.Event("play"))};var j=function(D){x.gotoAndStop(this.stage().displayState()+"-over")};var r=function(D){x.gotoAndStop(this.stage().displayState()+"-idle")};var y=function(D){if(this.stage()!=null){if(this.stage().displayState()==psd.fenix.stage.StageDisplayState.NORMAL){this.stage().displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)}else{this.stage().displayState(psd.fenix.stage.StageDisplayState.NORMAL)}}};var t=new psd.fenix.textures.TextureAtlas(q,c);t.addEventListener("texture_atlas_ready",n);var i=function(D){this.removeEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,i,this);this.stage().addEventListener(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE,w,this);this.resize(this.stage().stageWidth()-40,this.stage().stageHeight())};var w=function(D){x.gotoAndStop(this.stage().displayState()+"-idle")};var h=function(D){B.setProgress(g.currentTime()/g.duration());o.text(g.timeAsTimeCode("mm:ss"));f.text(g.durationAsTimeCode("mm:ss"))};var A=function(D){if(d){f.text(g.durationAsTimeCode("mm:ss"))}};g.addEventListener("timeupdate",h,this);g.addEventListener("metadata",A,this);this.resize=function(E,D){if(d){u.x=0;x.x=E-x.width();o.x=u.x+u.width()+10;o.y=u.height()/2-o.height()/2;f.x=x.x-f.width()-10;f.y=u.height()/2-o.height()/2;B.x=o.x+o.width()+10;B.resize(f.x-15-B.x)}};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,i,this)}b.MediaControlBar=a})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(j){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.VideoPlayback";var i=j;var g=null;var c=null;var f=null;var d=null;var e=false;var h=function(){g=new psd.fenix.media.VideoElement(i);c=new psd.fenix.display.Video(g);f=new psd.fenix.media.MediaController();f.attachStream(g);d=new psd.fenix.controls.MediaControlBar(f);this.addChild(c);this.addChild(d);e=true};this.resize=function(m,k){var l=m-40;if(e){g.width(m);g.height(k);d.x=20;d.y=k-50;d.resize(l,k)}};h.apply(this)}b.VideoPlayback=a})(psd.fenix.controls);(function(a){a.StageDisplayState={};a.StageDisplayState.NORMAL="normal";a.StageDisplayState.FULL_SCREEN="fullscreen"})(psd.fenix.stage);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();b.FPS=60;function b(j,aa){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.Stage";var U=j;var w=null;var Y=U+"_fenix";var k=null;var m;var O=U+"_hits";var x=null;var B=null;var I=0;var A=0;var K=true;var C=false;var c=false;var Q=true;var H=null;var l=null;var v=null;var t={autosize:true};if(aa!=undefined&&aa!=null){t.autosize=aa.autosize!=null&&aa.autosize!=undefined?aa.autosize:true;t.width=aa.width!=null&&aa.width!=undefined?aa.width:400;t.height=aa.height!=null&&aa.height!=undefined?aa.height:300;t.hitCanvas=aa.hitCanvas!=null&&aa.hitCanvas!=undefined?aa.hitCanvas:false}var D=(function(ad){return function(){W.apply(ad)}})(this);var W=function(){x=document.getElementById(U);if(x==null){this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT_ERROR));return}B=document.createElement("div");B.setAttribute("style","position:relative; width:100%; height:100%;");x.appendChild(B);l=B.requestFullScreen||B.mozRequestFullScreen||B.webkitRequestFullScreen||function(){};v=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||function(){};if(document.addEventListener){document.addEventListener("fullscreenchange",X,false);document.addEventListener("mozfullscreenchange",X,false);document.addEventListener("webkitfullscreenchange",X,false);document.addEventListener("keydown",n,false)}else{if(document.attachEvent){document.attachEvent("onfullscreenchange",X);document.attachEvent("onmozfullscreenchange",X);document.attachEvent("onwebkitfullscreenchange",X);document.attachEvent("onkeydown",n)}}if(t.autosize==true){F=I=x.clientWidth==undefined||x.clientWidth==0?448:x.clientWidth;J=A=x.clientHeight==undefined||x.clientHeight==0?365:x.clientHeight}else{F=t.width;J=t.height}w=document.createElement("canvas");w.setAttribute("style","position:absolute;");w.id=Y;w.width=F;w.height=J;B.appendChild(w);k=document.createElement("canvas");k.id=O;k.width=k.height=1;if(t.hitCanvas){var ad=document.getElementById(t.hitCanvas);if(ad!=null){k.width=ad.clientWidth;k.height=ad.clientHeight;ad.appendChild(k)}}if(Object.prototype.toString.call(w)==="[object HTMLCanvasElement]"){Log.log("Initializing fenix in standard mode...");m=w.getContext("2d");P=k.getContext("2d");m.fillStyle=p;psd.fenix.topLevelApplication=B;psd.fenix.topLevelCanvas=w;this.start();this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}else{Log.log("Initializing fenix in compatibility mode...");requestAnimationFrame=null;G_vmlCanvasManager.initElement(w);G_vmlCanvasManager.initElement(k);m=w.getContext("2d");P=k.getContext("2d");m.fillStyle=p;psd.fenix.topLevelApplication=B;psd.fenix.topLevelCanvas=w;this.changeFrameRate(10);this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}};var X=(function(ad){return function(){R.apply(ad)}})(this);var R=function(){if(document.mozFullScreenElement||document.webkitFullscreenElement){S=psd.fenix.stage.StageDisplayState.FULL_SCREEN}else{S=psd.fenix.stage.StageDisplayState.NORMAL}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE))};var n=(function(ad){return function(ae){Z.apply(ad,[ae])}})(this);var Z=function(ad){var ae=0;if(ad==null){ae=window.event.keyCode}else{ae=ad.keyCode}this.dispatchEvent(new psd.fenix.event.KeyboardEvent(psd.fenix.event.KeyboardEvent.KEY_DOWN,ae))};var M=(function(ad){return function(){f.apply(ad)}})(this);var f=function(){if(S==psd.fenix.stage.StageDisplayState.NORMAL){if((x.clientWidth!=I||x.clientHeight!=A)&&!psd.framework.ua.msie){I=x.clientWidth;A=x.clientHeight;if(t.autosize){w.width=F=I;w.height=J=A}else{w.width=F=t.width;w.height=J=t.height}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}else{if(window.innerWidth!=I||window.innerHeight!=A){I=window.innerWidth;A=window.innerHeight;w.width=F=I;w.height=J=A;this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}if(K){N();this.render(m)}if(c&&Q){Q=false;h.apply(this,[this.calculateMouseStatus])}if(requestAnimationFrame!=undefined){requestAnimationFrame(M)}};var N=function(){m.clearRect(0,0,F,J);m.fillStyle=p;m.fillRect(0,0,F,J)};var o=(function(ad){return function(){e.apply(ad)}})(this);var e=function(){if(!C){C=true;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,ac,ab))}};var u=(function(ad){return function(){L.apply(ad)}})(this);var L=function(){if(C){C=false;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,ac,ab))}};var h=function(ad){P.clearRect(0,0,1,1);P.save();P.translate(-ac,-ab);ad.apply(this,[{x:ac,y:ab,down:C,hitContext:P}]);P.restore()};var z=(function(ad){return function(ae){i.apply(ad,[ae])}})(this);var i=function(ad){var ae=q(w,ad);if(ad.offsetX){ac=ad.offsetX;ab=ad.offsetY}else{ac=ae.x;ab=ae.y}Q=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_MOVE,ac,ab))};var T=(function(ad){return function(ae){G.apply(ad,[ae])}})(this);var G=function(ad){var ae=q(w,ad);if(ad.offsetX){ac=ad.offsetX;ab=ad.offsetY}else{ac=ae.x;ab=ae.y}c=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,ac,ab))};var V=(function(ad){return function(){E.apply(ad)}})(this);var E=function(){ac=-5;ab=-5;h.apply(this,[this.calculateMouseStatus]);c=false;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,ac,ab))};var g=(function(ad){return function(ae){s.apply(ad,[ae])}})(this);var s=function(ad){var ae=new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_WHEEL,ac,ab);ae.delta=ad.wheelDelta||ad.detail||0;this.dispatchEvent(ae)};function q(af,ad){var aj=af;var ai=0;var ah=0;while(aj&&aj.tagName!="BODY"){ai+=aj.offsetTop;ah+=aj.offsetLeft;aj=aj.offsetParent}var ag=ad.clientX-ah+window.pageXOffset;var ae=ad.clientY-ai+window.pageYOffset;return{x:ag,y:ae}}var d=function(){if(w.addEventListener){w.addEventListener("mousemove",z,false);w.addEventListener("mouseover",T,false);w.addEventListener("mouseout",V,false);w.addEventListener("mousedown",o,false);w.addEventListener("mouseup",u,false);w.addEventListener("DOMMouseScroll",g,false);w.addEventListener("mosuewheel",g,false)}else{if(w.attachEvent){w.attachEvent("onmousemove",z);w.attachEvent("onmouseover",T);w.attachEvent("onmouseout",V);w.attachEvent("onmousedown",o);w.attachEvent("onmouseup",u);w.attachEvent("DOMMouseScroll",g);w.attachEvent("mousewheel",g)}}};var r=function(){if(w.removeEventListener){w.removeEventListener("mousemove",z,false);w.removeEventListener("mouseover",T,false);w.removeEventListener("mouseout",V,false);w.removeEventListener("mousedown",o,false);w.removeEventListener("mouseup",u,false);w.removeEventListener("DOMMouseScroll",g,false);w.removeEventListener("mousewheel",g,false)}else{if(w.attachEvent){w.detachEvent("onmousemove",z);w.detachEvent("onmouseover",T);w.detachEvent("onmouseout",V);w.detachEvent("onmousedown",o);w.detachEvent("onmouseup",u);w.detachEvent("DOMMouseScroll",g);w.detachEvent("mousewheel",g)}}};var F=0;this.stageWidth=function(){return F};var J=0;this.stageHeight=function(){return J};var y=aa&&!isNaN(aa.fps)?aa.fps:60;this.frameRate=function(){return y};var ac=-5;this.mouseX=function(){return ac};var ab=-5;this.mouseY=function(){return ab};var P=null;this.hitContext=function(){return P};var S=psd.fenix.stage.StageDisplayState.NORMAL;this.displayState=function(ae){var af=psd.fenix.stage.StageDisplayState.NORMAL,ad=psd.fenix.stage.StageDisplayState.FULL_SCREEN;if(ae==ad&&l!=undefined){l.apply(B)}if(ae==af&&v!=undefined){v.apply(document)}return S};var p="rgba(255,255,255,0)";this.backgroundColor=function(ad){if(ad){p=ad;if(typeof(m)!="undefined"){m.fillStyle=p}}return p};this.init=function(){if(document.readyState==="complete"||document.readyState==="loaded"){W.apply(this)}else{if(window.addEventListener){window.addEventListener("load",D,false)}else{if(window.attachEvent){window.attachEvent("onload",D)}}}};this.start=function(){d();var ad=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=ad;if(ad!=undefined){ad(M)}else{H=setInterval(M,(1000/y))}};this.pause=function(){r();if(H!=null){clearInterval(H)}};this.changeFrameRate=function(ad){y=ad;if(H!=null){clearInterval(H)}H=setInterval(M,1000/y)};this.freeze=function(ad){if(ad==true||ad==false){K=!ad}}}a.Stage=b})(psd.fenix);
/*!
 * VERSION: beta 1.27
 * DATE: 2012-05-24
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(ad){var S=function(f){var f=f.split("."),j=ad,d;for(d=0;d<f.length;d++){j[f[d]]=j=j[f[d]]||{}}return j},ae=S("com.greensock"),ac,af,ah,g,Q={},X=function(j,o,f,l){this.sc=Q[j]?Q[j].sc:[];Q[j]=this;this.gsClass=null;this.def=f;var m=o||[],n=[];this.check=function(s){for(var q=m.length,r=0,p;-1<--q;){(p=Q[m[q]]||new X(m[q])).gsClass?n[q]=p.gsClass:(r++,s&&p.sc.push(this))}if(0===r&&f){var s=("com.greensock."+j).split("."),q=s.pop(),d=S(s.join("."))[q]=this.gsClass=f.apply(f,n);l&&((ad.GreenSockGlobals||ad)[q]=d,"function"===typeof define&&define.amd?define((ad.GreenSockAMDPath?ad.GreenSockAMDPath+"/":"")+j.split(".").join("/"),[],function(){return d}):"undefined"!==typeof module&&module.exports&&(module.exports=d));for(q=0;q<this.sc.length;q++){this.sc[q].check(!1)}}};this.check(!0)},aa=ae._class=function(f,j,d){new X(f,[],function(){return j},d);return j};ad._gsDefine=function(f,l,d,j){return new X(f,l,d,j)};var P=[0,0,1,1],W=[],Y=aa("easing.Ease",function(f,l,d,j){this._func=f;this._type=d||0;this._power=j||0;this._params=l?P.concat(l):P},!0);ah=Y.prototype;ah._calcEnd=!1;ah.getRatio=function(f){if(this._func){return this._params[0]=f,this._func.apply(null,this._params)}var l=this._type,d=this._power,j=1===l?1-f:2===l?f:0.5>f?2*f:2*(1-f);1===d?j*=j:2===d?j*=j*j:3===d?j*=j*j*j:4===d&&(j*=j*j*j*j);return 1===l?1-j:2===l?j:0.5>f?j/2:1-j/2};ac=["Linear","Quad","Cubic","Quart","Quint"];for(af=ac.length;-1<--af;){ah=aa("easing."+ac[af],function(){},!0),g=aa("easing.Power"+af,function(){},!0),ah.easeOut=g.easeOut=new Y(null,null,1,af),ah.easeIn=g.easeIn=new Y(null,null,2,af),ah.easeInOut=g.easeInOut=new Y(null,null,3,af)}aa("easing.Strong",ae.easing.Power4,!0);ae.easing.Linear.easeNone=ae.easing.Linear.easeIn;ah=aa("events.EventDispatcher",function(d){this._listeners={};this._eventTarget=d||this}).prototype;ah.addEventListener=function(j,q,f,l,o){var o=o||0,p=this._listeners[j],m=0,n;null==p&&(this._listeners[j]=p=[]);for(n=p.length;-1<--n;){j=p[n],j.c===q?p.splice(n,1):0===m&&j.pr<o&&(m=n+1)}p.splice(m,0,{c:q,s:f,up:l,pr:o})};ah.removeEventListener=function(f,l){var d=this._listeners[f];if(d){for(var j=d.length;-1<--j;){if(d[j].c===l){d.splice(j,1);break}}}};ah.dispatchEvent=function(j){var n=this._listeners[j];if(n){for(var f=n.length,l,m=this._eventTarget;-1<--f;){l=n[f],l.up?l.c.call(l.s||m,{type:j,target:m}):l.c.call(l.s||m)}}};var c=ad.requestAnimationFrame,Z=ad.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()};ac=["ms","moz","webkit","o"];for(af=ac.length;-1<--af&&!c;){c=ad[ac[af]+"RequestAnimationFrame"],Z=ad[ac[af]+"CancelAnimationFrame"]||ad[ac[af]+"CancelRequestAnimationFrame"]}Z||(Z=function(d){ad.clearTimeout(d)});aa("Ticker",function(u,s){this.frame=this.time=0;var t=this,n=O(),r=!1!==s,l,o,p,q,m;this.tick=function(){t.time=(O()-n)/1000;if(!l||t.time>=m){t.frame++,m=t.time+q-(t.time-m)-0.0005,m<=t.time&&(m=t.time+0.001),t.dispatchEvent("tick")}p=o(t.tick)};this.fps=function(d){if(!arguments.length){return l}l=d;q=1/(l||60);m=this.time+q;o=0===l?function(){}:!r||!c?function(f){return ad.setTimeout(f,1000*(m-t.time)+1>>0||1)}:c;Z(p);p=o(t.tick)};this.useRAF=function(d){if(!arguments.length){return r}r=d;this.fps(l)};this.fps(u)});ah=ae.Ticker.prototype=new ae.events.EventDispatcher;ah.constructor=ae.Ticker;var ab=aa("core.Animation",function(f,j){this.vars=j||{};this._duration=this._totalDuration=f||0;this._delay=Number(this.vars.delay)||0;this._timeScale=1;this._active=!0==this.vars.immediateRender;this.data=this.vars.data;this._reversed=!0==this.vars.reversed;if(V){var d=this.vars.useFrames?N:V;d.insert(this,d._time);this.vars.paused&&this.paused(!0)}}),U=ab.ticker=new ae.Ticker;ah=ab.prototype;ah._dirty=ah._gc=ah._initted=ah._paused=!1;ah._totalTime=ah._time=0;ah._rawPrevTime=-1;ah._next=ah._last=ah._onUpdate=ah._timeline=ah.timeline=null;ah._paused=!1;ah.play=function(d,f){arguments.length&&this.seek(d,f);this.reversed(!1);return this.paused(!1)};ah.pause=function(d,f){arguments.length&&this.seek(d,f);return this.paused(!0)};ah.resume=function(d,f){arguments.length&&this.seek(d,f);return this.paused(!1)};ah.seek=function(d,f){return this.totalTime(Number(d),!1!=f)};ah.restart=function(d,f){this.reversed(!1);this.paused(!1);return this.totalTime(d?-this._delay:0,!1!=f)};ah.reverse=function(d,f){arguments.length&&this.seek(d||this.totalDuration(),f);this.reversed(!0);return this.paused(!1)};ah.render=function(){};ah.invalidate=function(){return this};ah._enabled=function(d,f){this._gc=!d;this._active=d&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration;!0!=f&&(d&&null==this.timeline?this._timeline.insert(this,this._startTime-this._delay):!d&&null!=this.timeline&&this._timeline._remove(this,!0));return !1};ah._kill=function(){return this._enabled(!1,!1)};ah.kill=function(d,f){this._kill(d,f);return this};ah._uncache=function(d){for(d=d?this:this.timeline;d;){d._dirty=!0,d=d.timeline}return this};ah.eventCallback=function(j,n,f,l){if(null==j){return null}if("on"===j.substr(0,2)){if(1===arguments.length){return this.vars[j]}if(null==n){delete this.vars[j]}else{if(this.vars[j]=n,this.vars[j+"Params"]=f,this.vars[j+"Scope"]=l,f){for(var m=f.length;-1<--m;){"{self}"===f[m]&&(f=this.vars[j+"Params"]=f.concat(),f[m]=this)}}}"onUpdate"===j&&(this._onUpdate=n)}return this};ah.delay=function(d){if(!arguments.length){return this._delay}this._timeline.smoothChildTiming&&this.startTime(this._startTime+d-this._delay);this._delay=d;return this};ah.duration=function(d){if(!arguments.length){return this._dirty=!1,this._duration}this._duration=this._totalDuration=d;this._uncache(!0);this._timeline.smoothChildTiming&&this._active&&0!=d&&this.totalTime(this._totalTime*(d/this._duration),!0);return this};ah.totalDuration=function(d){this._dirty=!1;return !arguments.length?this._totalDuration:this.duration(d)};ah.time=function(d,f){if(!arguments.length){return this._time}this._dirty&&this.totalDuration();d>this._duration&&(d=this._duration);return this.totalTime(d,f)};ah.totalTime=function(f,j){if(!arguments.length){return this._totalTime}if(this._timeline){0>f&&(f+=this.totalDuration());if(this._timeline.smoothChildTiming&&(this._dirty&&this.totalDuration(),f>this._totalDuration&&(f=this._totalDuration),this._startTime=(this._paused?this._pauseTime:this._timeline._time)-(!this._reversed?f:this._totalDuration-f)/this._timeScale,this._timeline._dirty||this._uncache(!1),!this._timeline._active)){for(var d=this._timeline;d._timeline;){d.totalTime(d._totalTime,!0),d=d._timeline}}this._gc&&this._enabled(!0,!1);this._totalTime!=f&&this.render(f,j,!1)}return this};ah.startTime=function(d){if(!arguments.length){return this._startTime}d!=this._startTime&&(this._startTime=d,this.timeline&&this.timeline._sortChildren&&this.timeline.insert(this,d-this._delay));return this};ah.timeScale=function(d){if(!arguments.length){return this._timeScale}d=d||0.000001;if(this._timeline&&this._timeline.smoothChildTiming){var f=this._pauseTime||0==this._pauseTime?this._pauseTime:this._timeline._totalTime;this._startTime=f-(f-this._startTime)*this._timeScale/d}this._timeScale=d;return this._uncache(!1)};ah.reversed=function(d){if(!arguments.length){return this._reversed}d!=this._reversed&&(this._reversed=d,this.totalTime(this._totalTime,!0));return this};ah.paused=function(d){if(!arguments.length){return this._paused}d!=this._paused&&this._timeline&&(!d&&this._timeline.smoothChildTiming&&(this._startTime+=this._timeline.rawTime()-this._pauseTime,this._uncache(!1)),this._pauseTime=d?this._timeline.rawTime():null,this._paused=d,this._active=!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration);this._gc&&(d||this._enabled(!0,!1));return this};ae=aa("core.SimpleTimeline",function(d){ab.call(this,0,d);this.autoRemoveChildren=this.smoothChildTiming=!0});ah=ae.prototype=new ab;ah.constructor=ae;ah.kill()._gc=!1;ah._first=ah._last=null;ah._sortChildren=!1;ah.insert=function(j,m){j._startTime=Number(m||0)+j._delay;j._paused&&this!==j._timeline&&(j._pauseTime=j._startTime+(this.rawTime()-j._startTime)/j._timeScale);j.timeline&&j.timeline._remove(j,!0);j.timeline=j._timeline=this;j._gc&&j._enabled(!0,!0);var f=this._last;if(this._sortChildren){for(var l=j._startTime;f&&f._startTime>l;){f=f._prev}}f?(j._next=f._next,f._next=j):(j._next=this._first,this._first=j);j._next?j._next._prev=j:this._last=j;j._prev=f;this._timeline&&this._uncache(!0);return this};ah._remove=function(d,f){d.timeline===this&&(f||d._enabled(!1,!0),d.timeline=null,d._prev?d._prev._next=d._next:this._first===d&&(this._first=d._next),d._next?d._next._prev=d._prev:this._last===d&&(this._last=d._prev),this._timeline&&this._uncache(!0));return this};ah.render=function(j,m){var f=this._first,l;for(this._totalTime=this._time=this._rawPrevTime=j;f;){l=f._next;if(f._active||j>=f._startTime&&!f._paused){f._reversed?f.render((!f._dirty?f._totalDuration:f.totalDuration())-(j-f._startTime)*f._timeScale,m,!1):f.render((j-f._startTime)*f._timeScale,m,!1)}f=l}};ah.rawTime=function(){return this._totalTime};var ag=aa("TweenLite",function(f,j,d){ab.call(this,j,d);if(null==f){throw"Cannot tween an undefined reference."}this.target=f;this._overwrite=null==this.vars.overwrite?M[ag.defaultOverwrite]:"number"===typeof this.vars.overwrite?this.vars.overwrite>>0:M[this.vars.overwrite];if((f instanceof Array||f.jquery)&&"object"===typeof f[0]){this._targets=f.slice(0);this._propLookup=[];this._siblings=[];for(f=0;f<this._targets.length;f++){d=this._targets[f],d.jquery?(this._targets.splice(f--,1),this._targets=this._targets.concat(d.constructor.makeArray(d))):(this._siblings[f]=k(d,this,!1),1===this._overwrite&&1<this._siblings[f].length&&T(d,this,null,1,this._siblings[f]))}}else{this._propLookup={},this._siblings=k(f,this,!1),1===this._overwrite&&1<this._siblings.length&&T(f,this,null,1,this._siblings)}(this.vars.immediateRender||0===j&&0===this._delay&&!1!=this.vars.immediateRender)&&this.render(0,!1,!0)},!0);ah=ag.prototype=new ab;ah.constructor=ag;ah.kill()._gc=!1;ah.ratio=0;ah._firstPT=ah._targets=ah._overwrittenProps=null;ah._notifyPluginsOfEnabled=!1;ag.version=12;ag.defaultEase=ah._ease=new Y(null,null,1,1);ag.defaultOverwrite="auto";ag.ticker=U;var i=ag._plugins={},R={},b=0,a={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1},M={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},N=ab._rootFramesTimeline=new ae,V=ab._rootTimeline=new ae;V._startTime=U.time;N._startTime=U.frame;V._active=N._active=!0;ab._updateRoot=function(){V.render((U.time-V._startTime)*V._timeScale,!1,!1);N.render((U.frame-N._startTime)*N._timeScale,!1,!1);if(!(U.frame%120)){var f,j,d;for(d in R){j=R[d].tweens;for(f=j.length;-1<--f;){j[f]._gc&&j.splice(f,1)}0===j.length&&delete R[d]}}};U.addEventListener("tick",ab._updateRoot);var k=function(j,n,f){var m=j._gsTweenID,l;if(!R[m||(j._gsTweenID=m="t"+b++)]){R[m]={target:j,tweens:[]}}if(n&&(j=R[m].tweens,j[l=j.length]=n,f)){for(;-1<--l;){j[l]===n&&j.splice(l,1)}}return R[m].tweens},T=function(y,w,x,v,u){var p,r,s;if(1===v||4<=v){y=u.length;for(p=0;p<y;p++){if((s=u[p])!==w){s._gc||s._enabled(!1,!1)&&(r=!0)}else{if(5===v){break}}}return r}var t=w._startTime+1e-10,q=[],o=0,n;for(p=u.length;-1<--p;){if(!((s=u[p])===w||s._gc||s._paused)){s._timeline!==w._timeline?(n=n||e(w,0),0===e(s,n)&&(q[o++]=s)):s._startTime<=t&&s._startTime+s.totalDuration()/s._timeScale+1e-10>t&&((0===w._duration||!s._initted)&&2e-10>=t-s._startTime||(q[o++]=s))}}for(p=o;-1<--p;){if(s=q[p],2===v&&s._kill(x,y)&&(r=!0),2!==v||!s._firstPT&&s._initted){s._enabled(!1,!1)&&(r=!0)}}return r},e=function(j,n){for(var f=j._timeline,m=f._timeScale,l=j._startTime;f._timeline;){l+=f._startTime;m*=f._timeScale;if(f._paused){return -100}f=f._timeline}l/=m;return l>n?l-n:!j._initted&&2e-10>l-n?1e-10:(l+=j.totalDuration()/j._timeScale/m)>n?0:l-n-1e-10};ah._init=function(){this.vars.startAt&&(this.vars.startAt.overwrite=0,this.vars.startAt.immediateRender=!0,ag.to(this.target,0,this.vars.startAt));var d,f;this._ease=this.vars.ease instanceof Y?this.vars.easeParams instanceof Array?this.vars.ease.config.apply(this.vars.ease,this.vars.easeParams):this.vars.ease:"function"===typeof this.vars.ease?new Y(this.vars.ease,this.vars.easeParams):ag.defaultEase;this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets){for(d=this._targets.length;-1<--d;){if(this._initProps(this._targets[d],this._propLookup[d]={},this._siblings[d],this._overwrittenProps?this._overwrittenProps[d]:null)){f=!0}}}else{f=this._initProps(this.target,this._propLookup,this._siblings,this._overwrittenProps)}f&&ag._onPluginEvent("_onInitAllProps",this);this._overwrittenProps&&null==this._firstPT&&"function"!==typeof this.target&&this._enabled(!1,!1);if(this.vars.runBackwards){for(d=this._firstPT;d;){d.s+=d.c,d.c=-d.c,d=d._next}}this._onUpdate=this.vars.onUpdate;this._initted=!0};ah._initProps=function(s,q,r,p){var o,j,l,m,n;if(null==s){return !1}for(o in this.vars){if(a[o]){if("onStartParams"===o||"onUpdateParams"===o||"onCompleteParams"===o||"onReverseCompleteParams"===o||"onRepeatParams"===o){if(n=this.vars[o]){for(j=n.length;-1<--j;){"{self}"===n[j]&&(n=this.vars[o]=n.concat(),n[j]=this)}}}}else{if(i[o]&&(m=new i[o])._onInitTween(s,this.vars[o],this)){this._firstPT={_next:this._firstPT,t:m,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:m._priority};for(j=m._overwriteProps.length;-1<--j;){q[m._overwriteProps[j]]=this._firstPT}if(m._priority||m._onInitAllProps){l=!0}if(m._onDisable||m._onEnable){this._notifyPluginsOfEnabled=!0}}else{this._firstPT=q[o]={_next:this._firstPT,t:s,p:o,f:"function"===typeof s[o],n:o,pg:!1,pr:0},this._firstPT.s=!this._firstPT.f?parseFloat(s[o]):s[o.indexOf("set")||"function"!==typeof s["get"+o.substr(3)]?o:"get"+o.substr(3)](),this._firstPT.c="number"===typeof this.vars[o]?this.vars[o]-this._firstPT.s:"string"===typeof this.vars[o]?parseFloat(this.vars[o].split("=").join("")):0}}this._firstPT&&this._firstPT._next&&(this._firstPT._next._prev=this._firstPT)}return p&&this._kill(p,s)?this._initProps(s,q,r,p):1<this._overwrite&&this._firstPT&&1<r.length&&T(s,this,q,this._overwrite,r)?(this._kill(q,s),this._initProps(s,q,r,p)):l};ah.render=function(t,r,s){var q=this._time,p,o;if(t>=this._duration){if(this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(p=!0,o="onComplete"),0===this._duration){if(0===t||0>this._rawPrevTime){this._rawPrevTime!==t&&(s=!0)}this._rawPrevTime=t}}else{if(0>=t){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==q||0===this._duration&&0<this._rawPrevTime){o="onReverseComplete",p=this._reversed}0>t?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(s=!0),this._rawPrevTime=t)):this._initted||(s=!0)}else{if(this._totalTime=this._time=t,this._easeType){var m=t/this._duration,n=this._easeType,l=this._easePower;if(1===n||3===n&&0.5<=m){m=1-m}3===n&&(m*=2);1===l?m*=m:2===l?m*=m*m:3===l?m*=m*m*m:4===l&&(m*=m*m*m*m);this.ratio=1===n?1-m:2===n?m:0.5>t/this._duration?m/2:1-m/2}else{this.ratio=this._ease.getRatio(t/this._duration)}}}if(this._time!==q||s){this._initted||(this._init(),!p&&this._time&&(this.ratio=this._ease.getRatio(this._time/this._duration)));!this._active&&!this._paused&&(this._active=!0);if(0===q&&this.vars.onStart&&(0!==this._time||0===this._duration)){r||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||W)}for(t=this._firstPT;t;){if(t.f){t.t[t.p](t.c*this.ratio+t.s)}else{t.t[t.p]=t.c*this.ratio+t.s}t=t._next}this._onUpdate&&(r||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||W));o&&!this._gc&&(p&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),r||this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||W))}};ah._kill=function(t,r){"all"===t&&(t=null);if(null==t&&(null==r||r==this.target)){return this._enabled(!1,!1)}var r=r||this._targets||this.target,s,q,p,o,m,n,l;if((r instanceof Array||r.jquery)&&"object"===typeof r[0]){for(s=r.length;-1<--s;){this._kill(t,r[s])&&(m=!0)}}else{if(this._targets){for(s=this._targets.length;-1<--s;){if(r===this._targets[s]){o=this._propLookup[s]||{};this._overwrittenProps=this._overwrittenProps||[];q=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}}else{if(r!==this.target){return !1}o=this._propLookup;q=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){for(p in n=t||o,l=t!=q&&"all"!=q&&t!=o&&(null==t||!0!=t._tempKill),n){if(s=o[p]){s.pg&&s.t._kill(n)&&(m=!0);if(!s.pg||0===s.t._overwriteProps.length){s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null}delete o[p]}l&&(q[p]=1)}}}return m};ah.invalidate=function(){this._notifyPluginsOfEnabled&&ag._onPluginEvent("_onDisable",this);this._onUpdate=this._overwrittenProps=this._firstPT=null;this._initted=this._active=this._notifyPluginsOfEnabled=!1;this._propLookup=this._targets?{}:[];return this};ah._enabled=function(f,j){if(f&&this._gc){if(this._targets){for(var d=this._targets.length;-1<--d;){this._siblings[d]=k(this._targets[d],this,!0)}}else{this._siblings=k(this.target,this,!0)}}ab.prototype._enabled.call(this,f,j);return this._notifyPluginsOfEnabled&&this._firstPT?ag._onPluginEvent(f?"_onEnable":"_onDisable",this):!1};ag.to=function(f,j,d){return new ag(f,j,d)};ag.from=function(f,j,d){d.runBackwards=!0;!1!=d.immediateRender&&(d.immediateRender=!0);return new ag(f,j,d)};ag.fromTo=function(j,m,f,l){l.startAt=f;f.immediateRender&&(l.immediateRender=!0);return new ag(j,m,l)};ag.delayedCall=function(j,n,f,m,l){return new ag(n,0,{delay:j,onComplete:n,onCompleteParams:f,onCompleteScope:m,onReverseComplete:n,onReverseCompleteParams:f,onReverseCompleteScope:m,immediateRender:!1,useFrames:l,overwrite:0})};ag.set=function(d,f){return new ag(d,0,f)};ag.killTweensOf=ag.killDelayedCallsTo=function(j,m){for(var f=ag.getTweensOf(j),l=f.length;-1<--l;){f[l]._kill(m,j)}};ag.getTweensOf=function(j){if(null!=j){var m,f,l;if((j instanceof Array||j.jquery)&&"object"===typeof j[0]){m=j.length;for(f=[];-1<--m;){f=f.concat(ag.getTweensOf(j[m]))}for(m=f.length;-1<--m;){l=f[m];for(j=m;-1<--j;){l===f[j]&&f.splice(m,1)}}}else{f=k(j).concat();for(m=f.length;-1<--m;){f[m]._gc&&f.splice(m,1)}}return f}};var h=aa("plugins.TweenPlugin",function(d,f){this._overwriteProps=(d||"").split(",");this._propName=this._overwriteProps[0];this._priority=f||0},!0);ah=h.prototype;h.version=12;h.API=2;ah._firstPT=null;ah._addTween=function(l,q,j,p,o,n){var m;if(null!=p&&(m="number"===typeof p||"="!==p.charAt(1)?Number(p)-j:Number(p.split("=").join("")))){this._firstPT={_next:this._firstPT,t:l,p:q,s:j,c:m,f:"function"==typeof l[q],n:o||q,r:n},this._firstPT._next&&(this._firstPT._next._prev=this._firstPT)}};ah.setRatio=function(f){for(var j=this._firstPT,d;j;){d=j.c*f+j.s;j.r&&(d=d+(0<d?0.5:-0.5)>>0);if(j.f){j.t[j.p](d)}else{j.t[j.p]=d}j=j._next}};ah._kill=function(d){if(null!=d[this._propName]){this._overwriteProps=[]}else{for(var f=this._overwriteProps.length;-1<--f;){null!=d[this._overwriteProps[f]]&&this._overwriteProps.splice(f,1)}}for(f=this._firstPT;f;){null!=d[f.n]&&((f._next&&(f._next._prev=f._prev),f._prev)?(f._prev._next=f._next,f._prev=null):this._firstPT===f&&(this._firstPT=f._next)),f=f._next}return !1};ah._roundProps=function(f,j){for(var d=this._firstPT;d;){if(f[this._propName]||null!=d.n&&f[d.n.split(this._propName+"_").join("")]){d.r=j}d=d._next}};ag._onPluginEvent=function(l,r){var j=r._firstPT,q;if("_onInitAllProps"===l){for(var p,o,m,n;j;){n=j._next;for(p=o;p&&p.pr>j.pr;){p=p._next}(j._prev=p?p._prev:m)?j._prev._next=j:o=j;(j._next=p)?p._prev=j:m=j;j=n}j=r._firstPT=o}for(;j;){j.pg&&"function"===typeof j.t[l]&&j.t[l]()&&(q=!0),j=j._next}return q};h.activate=function(d){for(var f=d.length;-1<--f;){d[f].API===h.API&&(ag._plugins[(new d[f])._propName]=d[f])}return !0};if(ac=ad._gsQueue){for(af=0;af<ac.length;af++){ac[af]()}for(ah in Q){Q[ah].def||console.log("Warning: TweenLite encountered missing dependency: com.greensock."+ah)}}})(window);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();function b(I,ae,Y,Q,Z){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.media.SkinnedSimpleMediaPlayer";var z=Z;var j=z.skin.id;var A=I;var m=ae;var D=Y;var s=null;var S=Q;var O=null;var V=null;var g=null;var c=false;var ad=null;var P=null;var L=null;var U=null;var ac=null;var f=null;var T=null;var G=null;var M=0.8;var ab=0.8;var v=false;var p=false;var B=false;var l=false;var W=function(){var af=(m&&D)?false:true;s=new psd.fenix.Stage(A,{autosize:af,width:m,height:D});s.addEventListener(psd.fenix.StageEvent.INIT,i,this);s.addEventListener(psd.fenix.StageEvent.INIT_ERROR,h,this);s.addEventListener(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE,J,this);s.addEventListener(psd.fenix.StageEvent.RESIZE,n,this);s.init()};var h=function(){Log.log("INIT ERROR")};var i=function(){var ah=e("psd.media.skins.MediaSimple_"+j),ag=typeof(z.base)!="undefined"?z.base:"",af=z.media.type.indexOf("video")>=0?psd.fenix.media.MediaElement.TYPE_VIDEO:psd.fenix.media.MediaElement.TYPE_AUDIO;O=new psd.fenix.media.MediaElement(af,S,{autoplay:z.player.autoplay,poster:z.media.poster,width:m,height:D});V=new psd.fenix.media.MediaController();V.addEventListener(psd.fenix.event.MediaEvent.ENDED,t,this);V.addEventListener(psd.fenix.event.MediaEvent.BEGIN,H,this);V.addEventListener(psd.fenix.event.MediaEvent.PLAYING,R,this);V.addEventListener(psd.fenix.event.MediaEvent.TIME_UPDATE,K,this);V.addEventListener(psd.fenix.event.MediaEvent.PLAY,C,this);V.addEventListener(psd.fenix.event.MediaEvent.PAUSE,y,this);V.addEventListener(psd.fenix.event.MediaEvent.WAITING,X,this);V.attachStream(O);if(z.player.controls==undefined||(z.player.controls!=false&&z.player.controls!="false")){g=new ah(z.skin,ag);if(typeof(g.mediaType)!="undefined"){g.mediaType(Z.media.type)}if(typeof(g.isLive)!="undefined"){g.isLive(z.media.live)}g.addEventListener(psd.media.SkinEvent.SKIN_READY,k,this);this.addChild(g)}s.addChild(this)};var e=function(ai){var aj=ai.split("."),af=aj.length,ag,ah=(window||this);for(ag=0;ag<af;ag++){ah=ah[aj[ag]]}return ah};var k=function(){if(typeof(g.playPauseElement)!="undefined"){ad=g.playPauseElement();ad.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,aa,this)}if(typeof(g.playBeginElement)!="undefined"){P=g.playBeginElement();if(P!=null){P.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,F,this)}}if(typeof(g.fullscreenElement)!="undefined"){U=g.fullscreenElement();if(U!=null){U.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,E,this)}}if(typeof(g.currentTimeElement)!="undefined"){ac=g.currentTimeElement()}if(typeof(g.totalTimeElement)!="undefined"){f=g.totalTimeElement()}if(typeof(g.progressBarElement)!="undefined"){L=g.progressBarElement();L.addEventListener(psd.fenix.event.ProgressEvent.CHANGE,r,this)}if(typeof(g.volumeElement)!="undefined"){T=g.volumeElement();T.setProgress(0.8);T.addEventListener(psd.fenix.event.ProgressEvent.CHANGE,o,this)}if(typeof(g.muteElement)!="undefined"){G=g.muteElement();G.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,d,this)}if(typeof(g.singleMuteElement)!="undefined"){_singleMuteElement=g.singleMuteElement();_singleMuteElement.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,u,this)}if(typeof(g.reiniElement)!="undefined"){_reiniElement=g.reiniElement();_reiniElement.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,x,this)}if(this.isPlaying()){g.updateOnStatusChange("play")}g.resizeSkin(s.stageWidth(),s.stageHeight());c=true};var aa=function(af){if(V.paused()){this.play()}else{this.pause()}};var F=function(af){P.visible=false;g.showProgressBar();this.play()};var E=function(){if(s.displayState()==psd.fenix.stage.StageDisplayState.NORMAL){s.displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)}else{s.displayState(psd.fenix.stage.StageDisplayState.NORMAL)}};var r=function(af){N(af.data)};var N=function(af){V.seek(af)};var x=function(af){V.seek(0);this.play()};var o=function(af){q(af.data)};var q=function(af){V.volume(af);M=af;if(g){if(g.muteElement!=undefined){if(af==0){g.updateOnMuteChange("muted")}else{g.updateOnMuteChange("active")}}}};var d=function(af){w()};var w=function(){if(ab<=0){ab=M<=0?0.8:M;if(g){g.volumeElement().setProgress(ab)}if(g){g.updateOnMuteChange("active")}}else{M=ab;if(g){g.volumeElement().setProgress(0)}if(g){g.updateOnMuteChange("muted")}ab=0}V.volume(ab)};var u=function(af){if(M<=0){M=0.8;g.updateOnMuteChange("active")}else{M=0;g.updateOnMuteChange("muted")}V.volume(M)};var K=function(){var ah=V.duration()>3600?"hh:mm:ss":"mm:ss",ag=V.duration(),af=V.currentTime();if(ac){ac.text(V.currentTimeAsTimeCode(ah))}if(f){if(z.media.live!=undefined&&z.media.live==true){f.text("Live")}else{f.text(V.durationAsTimeCode(ah))}}if(L){L.setProgress(V.currentTime()/V.duration())}if(!v&&af>0.25*ag){v=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_FIRST_QUART,{duration:ag}))}if(!p&&af>0.5*ag){p=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_HALF,{duration:ag}))}if(!B&&af>0.75*ag){B=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_THIRD_QUART,{duration:ag}))}if(l==true){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_PROGRESS,{duration:ag,time:af}))}};var H=function(af){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_BEGIN,{duration:V.duration()}))};var C=function(af){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_START,{duration:V.duration()}))};var y=function(af){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_STOP,{duration:V.duration()}))};var t=function(af){if(g){g.updateOnStatusChange("pause")}if(L){L.setProgress(0.01)}this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_COMPLETE,{duration:V.duration()}));v=false;p=false;B=false};var R=function(af){if(g&&c){g.updateOnStatusChange("play")}this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_FULL,{duration:V.duration(),time:V.currentTime()}))};var X=function(af){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_EMPTY,{duration:V.duration(),time:V.currentTime()}))};var n=function(){var af=new psd.fenix.Rectangle(0,0,s.stageWidth(),s.stageHeight());if(g){af=g.resizeSkin(s.stageWidth(),s.stageHeight())}O.resize(af.x,af.y,af.width,af.height)};var J=function(){if(g){g.updateOnDisplayStateChange(s.displayState())}};this.isPlaying=function(){return !V.paused()};this.duration=function(){return V.duration()};this.play=function(){if(g){g.updateOnStatusChange("play")}V.play()};this.pause=function(){if(g){g.updateOnStatusChange("pause")}V.pause()};this.volume=function(af){q(af);if(g){g.volumeElement().setProgress(af)}};this.mute=function(){w()};this.currentTime=function(af){N(af)};this.setProgressEvent=function(af){l=af};this.requestFullScreen=function(){s.displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)};this.cancelFullScreen=function(){s.displayState(psd.fenix.stage.StageDisplayState.NORMAL)};W.apply(this)}a.SkinnedSimpleMediaPlayer=b}(psd.media));(function(b){a.prototype=new psd.framework.Event();a.SKIN_READY="SKIN_READY";function a(c){psd.framework.Event.call(this,c)}b.SkinEvent=a})(psd.media);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(D,z){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.media.skins.MediaSimple_plusjunior";var p=1000;var d=58;var k=null;var g=2;var j=new psd.fenix.DisplayObjectContainer();var f=D;var x=z!=undefined?z:"";var c=null;var h=false;var B=null;var e=null;var l=null;var w=null;var r=null;var o=null;var t=null;var n=null;var C=null;var v=null;var A=null;var E=this;var q=false;var i="pause";var y="active";var u=function(){c=new psd.fenix.textures.TextureAtlas(x+"/psdmedia/media/simple/skins/plusjunior/rsc/player.atlas.png",x+"/psdmedia/media/simple/skins/plusjunior/rsc/player.atlas.php",x!="");c.addEventListener("texture_atlas_ready",s,this)};var s=function(){var H=c.getFrames("bar_bg_center");var R=c.texture();var Q=c.getFrames(["play","pause"]);var S=c.getFrames(["play","pause"]);var F=c.getFrames("reini");var G=c.getFrames("fullscreen");var I=c.getFrames(["vol_on","vol_off"]);var O=c.getFrames("bar_fg_begin");var P=c.getFrames("bar_bg_end");var J=c.getFrames("bar_bg_center");var N=c.getFrames("bar_fg_center");var L=c.getFrames("seek_btn");B=new psd.fenix.Movieclip(R,H);e=new psd.fenix.Movieclip(R,H);l=new psd.fenix.Movieclip(R,Q);l.useHandCursor=true;l.buttonMode=true;l.gotoAndStop("play_out");l.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){i=="play"?l.gotoAndStop("pause_over"):l.gotoAndStop("play_over")});l.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){i=="play"?l.gotoAndStop("pause_out"):l.gotoAndStop("play_out")});E.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,M,this);function M(T){if(T.stageY<=(E.stage().stageHeight()-d)){l.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN))}}w=new psd.fenix.Movieclip(R,Q);w.useHandCursor=true;w.buttonMode=true;w.width();w.height();w.gotoAndStop("play_out");w.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){i=="play"?w.gotoAndStop("pause_over"):w.gotoAndStop("play_over")});w.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){i=="play"?w.gotoAndStop("pause_out"):w.gotoAndStop("play_out")});r=new psd.fenix.Movieclip(R,F);r.boundsDetection(true);r.useHandCursor=true;r.buttonMode=true;r.gotoAndStop("reini_out");r.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){r.gotoAndStop("reini_over")});r.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){r.gotoAndStop("reini_out")});o=new psd.fenix.Movieclip(R,G);o.boundsDetection(true);o.useHandCursor=true;o.buttonMode=true;o.gotoAndStop("min_out");o.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){o.gotoAndStop("min_over")});o.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){o.gotoAndStop("min_out")});t=new psd.fenix.Movieclip(R,I);t.boundsDetection(true);t.useHandCursor=true;t.buttonMode=true;t.gotoAndStop("vol_on_out");t.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){t.gotoAndStop("vol_off_over")});t.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){t.gotoAndStop("vol_off_out")});t.addEventListener(psd.fenix.MouseEvent.MOUSE_OVER,function(){y=="active"?t.gotoAndStop("vol_on_over"):t.gotoAndStop("vol_off_over")});t.addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,function(){y=="active"?t.gotoAndStop("vol_on_out"):t.gotoAndStop("vol_off_out")});v=new psd.fenix.Movieclip(R,L);v.useHandCursor=true;v.buttonMode=true;v.gotoAndStop("normal");_progressBarElement=new psd.fenix.controls.ProgressBar(R,O,P,J,N);_progressBarElement.slider(v);var K=new psd.fenix.text.TextFormat();K.color=10131870;K.size=12;n=new psd.fenix.text.TextField();n.setTextFormat(K);n.text("00:00");n.visible=true;C=new psd.fenix.text.TextField();C.setTextFormat(K);C.text("00:00");C.visible=true;this.addChild(j);j.addChild(B);j.addChild(e);j.addChild(l);this.addChild(w);j.addChild(r);j.addChild(o);j.addChild(t);j.addChild(_progressBarElement);j.addChild(n);j.addChild(C);posY=E.stage().stageHeight()-j.y;h=true;window.onkeydown=m;this.dispatchEvent(new psd.media.SkinEvent(psd.media.SkinEvent.SKIN_READY))};var m=function(F){if(F.keyCode=="13"){if(E.stage().displayState()==psd.fenix.stage.StageDisplayState.NORMAL){E.stage().displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)}else{E.stage().displayState(psd.fenix.stage.StageDisplayState.NORMAL)}}else{if(F.keyCode=="32"){l.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN))}}};this.resizeSkin=function(G,F){if(h){j.x=0;j.y=F-d;l.x=g*2;l.y=g*2;w.width(85);w.height(85);w.x=G/2-w.width()/2;w.y=F/2-w.height()/2;r.x=l.x+l.width()+g*2;r.y=l.y+10;B.width(E.stage().stageWidth());B.height(d);B.alpha=0.2;e.x=r.x+r.width()+g*4;e.y=r.y+r.height()/4;e.width(G-l.width()-r.width()-t.width()-o.width()-14*g);e.height(r.height()/2);e.alpha=0.2;e.alpha=0.2;o.x=G-2*o.width()-4*g;o.y=l.y+10;o.alpha=0.2;t.x=G-t.width()-2*g;t.y=l.y+10;E.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,this.onMouseMove,this);E.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_OUT,this.onMouseOut,this);n.x=r.x+r.width()+g*4;n.y=l.y+5;n.visible=false;C.x=o.x-C.width()-10;C.y=l.y+5;C.visible=false;_progressBarElement.x=r.x+r.width()+g*8;_progressBarElement.y=r.y+g*8-1;_progressBarElement.resize(o.x-10-_progressBarElement.x)}return new psd.fenix.Rectangle(0,0,G,F)};this.updateOnStatusChange=function(F){i=F;if(F=="play"){l.gotoAndStop("pause_out");w.gotoAndStop("pause_out");w.visible=false}else{if(F=="pause"){l.gotoAndStop("play_out");w.gotoAndStop("play_out");w.visible=true}}};this.updateOnMuteChange=function(F){y=F;if(y=="active"){t.gotoAndStop("vol_on_out")}else{if(y=="muted"){t.gotoAndStop("vol_off_out")}}};this.updateOnDisplayStateChange=function(F){this.requestTheatreMode;TweenLite.to(j,0,{y:E.stage().stageHeight(),overwrite:"all"});if(F==psd.fenix.stage.StageDisplayState.NORMAL){q=false}else{q=true}};this.hideControl=function(){TweenLite.defaultOverwrite="all";TweenLite.to(j,2,{y:E.stage().stageHeight(),delay:1.5,overwrite:"all"})};this.onMouseOut=function(){TweenLite.defaultOverwrite="all";TweenLite.to(j,2,{y:E.stage().stageHeight(),overwrite:"all"})};this.onMouseMove=function(F){TweenLite.defaultOverwrite="all";TweenLite.to(j,0.5,{y:E.stage().stageHeight()-d,onComplete:this.hideControl,overwrite:"all"})};this.playPauseElement=function(){return l};this.beginElement=function(){return w};this.reiniElement=function(){return r};this.fullscreenElement=function(){return o};this.singleMuteElement=function(){return t};this.currentTimeElement=function(){return n};this.totalTimeElement=function(){return C};this.progressBarElement=function(){return _progressBarElement};u.apply(this)}b.MediaSimple_plusjunior=a}(psd.media.skins));