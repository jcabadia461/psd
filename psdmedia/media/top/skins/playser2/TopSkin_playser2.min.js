(function(a){b.prototype=new emic.top.ui.UISkinBase();a.ORDER_TITLE_SUBTITLE_IMAGE="order_title_subtitle_image";a.ORDER_SHOW_HIDE_SOCIAL="order_show_hide_social";function b(){emic.top.ui.UISkinBase.call(this);var c="Contenido Publicitario";a.EXTERNAL_ORDER_COMPARTIR="external_order_compartir";a.EXTERNAL_ORDER_EMBEBER="external_order_embeber";var s,f,A,N,i,g,w,j,q,E,x,K,e,B,H,u,G,v=false,F;var D=null;var I=null;var k=false;var O=false;var L;var l;var y="/psdmedia/media/top/skins/playser2/assets/template.html",t="/psdmedia/media/top/skins/playser2/assets/estilos.css",p=0,m=1;var C=function(){var Q=document.createElement("link"),P=L.genericData.urlBase?(L.genericData.urlBase+t):t;Q.setAttribute("rel","stylesheet");Q.setAttribute("type","text/css");Q.setAttribute("href",P);if(typeof Q!="undefined"){document.getElementsByTagName("head")[0].appendChild(Q)}};var z=function(){var R=new psd.framework.Parser(),P=new psd.framework.Mediator(),Q=L.genericData.urlBase?(L.genericData.urlBase+y):y;P.corsIE(true);P.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,h,this);P.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,r,this);P.mediate(Q,R,psd.framework.Mediator.RESPONSE_TEXT)};this.externalOrder=function(P,Q){switch(P){case a.ORDER_TITLE_SUBTITLE_IMAGE:J(Q);break;case a.ORDER_SHOW_HIDE_SOCIAL:n(Q);break}};var n=function(P){if(P!=null){if(P){H.style.display="block";E.style.right="80px"}else{H.style.display="none";E.style.right="10px"}}else{if(H.style.display!="none"){H.style.display="none";E.style.right="10px"}else{H.style.display="block";E.style.right="80px"}}};var J=function(P){A.innerHTML=L.mediaData.title=P.title;N.innerHTML=L.mediaData.description=P.subtitle;if((P.image!="")&&(P.image!=undefined)){F=P.image;i.className=i.className.replace("byDefaultMini","");i.className=i.className.replace("byDefault","");i.style.background="";i.style.backgroundSize="auto 111";i.style.backgroundPosition="center center";i.style.backgroundImage="url("+P.image+")"}else{i.style.background="";if(L.uiData.skinData.miniImage){if(i.className.indexOf("byDefaultMini")<0){i.className+=" byDefaultMini"}}else{if(i.className.indexOf("byDefault")<0){i.className+=" byDefault"}}}};var h=function(P){var Q;if(P.result.parserResult.code==p){Q=P.result.parserResult.result.replace(/{<-%ID%->}/g,L.genericData.id);l.innerHTML=Q;M.apply(this);this.recolocarIE8();this.notifyInitComplete()}else{if(P.result.parserResult.code==m){}}};var r=function(P){};var d=function(P){return document.getElementById(P+L.genericData.id)};var M=function(){s=d("play");f=d("pause");j=d("dsprograma");D=s;this.hide(f);A=d("titulo");N=d("subtitulo");i=d("imagendirecto");if(L.uiData.poster){i.style.backgroundImage="url('"+L.uiData.poster+"')"}g=d("bumetroContainer");A.innerHTML=L.mediaData.title;N.innerHTML=L.mediaData.description;s.onclick=(function(Q){return function(){Q.notifyOrderPlay()}})(this);f.onclick=(function(Q){return function(){Q.notifyOrderPause()}})(this);w=d("contenedorMini");q=d("botonesMini");E=d("tiempo");x=d("txtTiempo");K=d("txtDirecto");e=d("currentTime");B=d("totalTime");B.innerHTML="";if(L.mediaData.duration){if((L.mediaData.duration!="")&&(L.mediaData.duration!=null)&&(L.mediaData.duration>0)){L.mediaData.duration=L.mediaData.duration/1000;B.innerHTML=" - "+this.secondsAsTimeCode(L.mediaData.duration,"hh:mm:ss")}}u=d("compartir_");G=d("conectar_");H=d("social_");if(L.uiData.skinData.hideSocial){n(false)}if(u){u.onclick=(function(Q){return function(){Q.notifyOrderExternal(a.EXTERNAL_ORDER_EMBEBER)}})(this)}if(G){G.onclick=(function(Q){return function(){Q.notifyOrderExternal(a.EXTERNAL_ORDER_COMPARTIR)}})(this)}if(L.uiData.skinData.miniImage){}g.onclick=(function(Q){return function(S){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}if(L.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if((!L.mediaData.isLive)&&(!k)){var R,V,T;T=Q.getPosition(S.currentTarget);R=S.clientX-T.x;V=S.clientY-T.y;var U=R/g.offsetWidth;Q.notifyOrderSeekByProp(U);if(I){I.setProgress(U*100);I.paint(true)}}}})(this);w.onmousemove=(function(Q){return function(S){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}if(L.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if((!L.mediaData.isLive)&&(!k)){var R,V,T;T=Q.getPosition(S.currentTarget);R=S.clientX-T.x;V=S.clientY-T.y;var U=R/g.offsetWidth;if(I){I.setProgressOver(U*100);if(v){I.paint(true)}}}}})(this);w.onmouseout=(function(Q){return function(R){if(I){I.setProgressOver(0)}if(v){I.paint(true)}}})(this);if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I=new emic.top.ui.Bumetro();I.init("bumetroContainer"+L.genericData.id,{color1:"#aaa",color2:"#eee",colorover:"#feeaab",colorloaded:"#ccc",background:"#fff",lineWidth:3,lineSeparation:2,bottom:3});I.setProfile(I.PROFILE_REAL)}if(L.uiData.skinData.miniImage){}if(L.uiData.skinData.tipoMiniAutorFecha){var P="";if((L.mediaData.author!=undefined)&&(L.mediaData.author!="")){P+=L.mediaData.author}if((L.mediaData.date!=undefined)&&(L.mediaData.date!="")){if(P!=""){P+=" | "}P+=L.mediaData.date}N.innerHTML=P}};this.init=function(P){L=P;l=document.getElementById(L.internalData.skinContainer);C.apply(this);z.apply(this)};this.reset=function(){if(F==undefined){if(L.uiData.poster!=undefined){if(L.uiData.poster==""){if(L.uiData.skinData.miniImage){if(i.className.indexOf("byDefaultMini")<0){i.className+=" byDefaultMini"}}else{if(i.className.indexOf("byDefault")<0){i.className+=" byDefault"}}}else{i.className=i.className.replace("byDefaultMini","");i.className=i.className.replace("byDefault","");i.style.background="";i.style.backgroundSize="auto 111";i.style.backgroundPosition="center center";i.style.backgroundImage="url('"+L.uiData.poster+"')"}}}if(A){A.innerHTML=L.mediaData.title}if(f){this.hide(f)}if(s){this.show(s)}if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.setProgress(0);I.pause()}if(L.mediaData.isLive){this.hide(x);this.show(K)}else{this.show(x);this.hide(K)}var P=L.uiData.skinData.embedMode;if(P){i.className=i.className.replace("byDefault","");i.className+=" embedmode";i.onclick=(function(Q){return function(){window.open("http://cadenaser.com","_blank")}})(this)}};this.resize=function(Q,P){};this.onProgress=function(Q){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}var P=Q.currentTime*100/Q.totalTime;I.setProgress(P);e.innerHTML=this.secondsAsTimeCode(Q.currentTime,"hh:mm:ss");B.innerHTML=" - "+this.secondsAsTimeCode(Q.totalTime,"hh:mm:ss")};this.onVolumeChange=function(P){};this.onBufferEmpty=function(){v=true;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.pause()}o.apply(this,[true])};this.onBufferFull=function(){v=false;if(O){if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.play(150)}}o.apply(this,[false])};this.showLoading=function(P){o.apply(this,[P])};var o=function(P){if(P){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{s.className=s.className.replace("play52","player52PlayCargando");f.className=f.className.replace("pause52","player52PauseCargando")}}else{if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{s.className=s.className.replace("player52PlayCargando","play52");f.className=f.className.replace("player52PauseCargando","pause52")}}};this.onStatusChange=function(P){switch(P){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:this.hide(f);this.show(s);D=s;v=true;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.pause()}O=false;break;case emic.top.MediaModule.STATUS_PLAY:v=false;this.hide(s);this.show(f);D=f;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.play(150)}k=false;O=true;if(L.mediaData.isLive){if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.setdirecto(true)}}break;case emic.top.AdModule.STATUS_PAUSE:v=true;this.hide(f);this.show(s);D=s;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.pause()}break;case emic.top.AdModule.STATUS_PLAY:v=false;this.hide(s);this.show(f);D=f;A.innerHTML=c;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.play(150)}k=true;break;case emic.top.AdModule.STATUS_STOP:v=true;A.innerHTML=L.mediaData.title;if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){I.pause()}break}};this.onMetadata=function(P){};this.onCue=function(P){};this.onError=function(Q,P){};this.onSwitchRequest=function(P){};this.onSwitchComplete=function(P){};this.requestFullScreen=function(){};this.cancelFullScreen=function(){};this.onSeekStart=function(P){};this.onSeekComplete=function(P){}}a.TopSkin_playser2=b})(emic.top.ui);