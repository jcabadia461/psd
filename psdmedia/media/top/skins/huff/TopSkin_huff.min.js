(function(a){b.prototype=new emic.top.ui.UISkinBase();function b(){emic.top.ui.UISkinBase.call(this);var q="Contenido Publicitario";var i,H,Y,g,an,ai,aF,J,ac,aG,k,K,v,aA,n,az,ay,aB,F,j,at,T,A,al,l,ao,aj,R,af,ak,ad,V,aa,o,I,t=[],E,Q="default";var x=true;var c={total_count:0,count:0,doc:[{source_name:"",same_source:"",publish_date:"",orig_url:"","rec-cats":[],rec_en_did:"",url:"",author:"",content:"",thumbnail:{url:"",width:0,height:0,imageImpressionType:""}}]};var aE="";var m,am,M,s=false,aw=false,X=false,d=false,aC=false,av=false,O=false,aD=false;var u,U;var ax,y;var L="/psdmedia/media/top/skins/huff/assets/template.html",ab="/psdmedia/media/top/skins/huff/assets/estilos.css",h="/psdmedia/media/top/skins/huff/assets/estilos_ie8.css",ar=0,W=1;var ag=function(){var aI=document.createElement("link"),aH=y.genericData.urlBase?(y.genericData.urlBase+ab):ab;aI.setAttribute("rel","stylesheet");aI.setAttribute("type","text/css");aI.setAttribute("href",aH);if(typeof aI!="undefined"){document.getElementsByTagName("head")[0].appendChild(aI)}};var au=function(){var aI=document.createElement("link"),aH=y.genericData.urlBase?(y.genericData.urlBase+h):h;aI.setAttribute("rel","stylesheet");aI.setAttribute("type","text/css");aI.setAttribute("href",aH);if(typeof aI!="undefined"){document.getElementsByTagName("head")[0].appendChild(aI)}};var w=function(aH){i.className=i.className.replace(U,aH);U=aH};var C=function(aJ){var aM=aJ.getBoundingClientRect();var aN=document.body;var aI=document.documentElement;var aH=window.pageYOffset||aI.scrollTop||aN.scrollTop;var aK=window.pageXOffset||aI.scrollLeft||aN.scrollLeft;var aL=aI.clientTop||aN.clientTop||0;var aO=aI.clientLeft||aN.clientLeft||0;var aP=aM.top+aH-aL;var aQ=aM.left+aK-aO;return{y:Math.round(aP),x:Math.round(aQ)}};var ae=function(){return/(safari|opera|chrome)/.test(navigator.userAgent.toLowerCase())};var G=function(){return/(firefox)/.test(navigator.userAgent.toLowerCase())};this.onSwitchRequest=function(aH){i.className=i.className+" playerMRSTN_cargando_calidad"};this.onSwitchComplete=function(aI){var aH;for(aH in t){if(aH==aI){t[aH].className="playerMRSTN_seleccionado"}else{t[aH].className=""}}ad.innerHTML=y.mediaData.renditions[aI].label;if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){s=true;ad.style.fontStyle="normal"}ad.style.visibility="visible"};var ah=function(aI,aH){var aJ=document.createElement("a");aJ.text=aI.label;aJ.href="javascript:void(0)";aJ.id="Quality"+String(aH);aJ.onclick=(function(aK){return function(aL){aJ.className="PlayerMRSTN_seleccionado";aK.notifyOrderSwitchDirect(aH)}})(this);return aJ};var P=function(){var aH,aJ=y.mediaData.renditions,aI=document.createElement("div");t=[];for(aH in aJ){t[aH]=ah.apply(this,[aJ[aH],aH]);aI.appendChild(t[aH])}ak.innerHTML="";ak.appendChild(aI)};var D=function(aY){var aZ=aY.length;var aH=aZ-1;var aI,aS;var a5=[];var aK;if(aZ>0){if(aZ==1){aK=1}else{if(aZ==2){aK=2}else{if(aZ<7){aK=3}else{aK=4}}}var a9=parseInt(aZ/3);var aW=aZ%3;if(aW>0){++a9}switch(aK){case 1:a5=[1,3,80,10,5,5,16];break;case 2:a5=[2,3,50,3,0,0,0];break;default:a5=[a9,3,50,3,0,0,0];break}var aU=a5[0];var aL=a5[1];var aX=a5[2];var aM=a5[3];var aP=a5[4];var aQ=a5[5];var a2=a5[6];var a1=0;aS=0;for(var a4=1;a4<=aU;a4++){var a0=document.createElement("div");a0.className="playerMRSTN_enlaces_videos playerMRSTN_estirar";a0.style.marginTop=aM+"%";for(var a3=1;a3<=aL;a3++){a1=aL*(a4-1)+a3-1;if(a1==aZ){break}if((s)&&(a1==(aZ-1))){break}var aJ=document.createElement("a");var aT=aY[a1].content;var aN=aT.length;if(aN>aX){aT=aT.substr(0,aX)+"..."}aJ.title=aY[a1].content;aJ.href=aY[a1].url;aJ.className="playerMRSTN_video";var a8=document.createElement("div");a8.className="playerMRSTN_foto";a8.backgroundColor="#FFF";var aV=document.createElement("div");aV.className="playerMRSTN_formato";var aR=document.createElement("div");aR.className="playerMRSTN_foto_interior";var a6=document.createElement("img");a6.src=aY[a1].thumbnail.url;var a7=document.createElement("div");a7.className="playerMRSTN_boton_play";var aO=document.createElement("div");aO.className="playerMRSTN_titulo";aO.innerHTML=aT;aJ.appendChild(a8);a8.appendChild(aV);a8.appendChild(aR);aR.appendChild(a6);a8.appendChild(a7);aJ.appendChild(aO);a0.appendChild(aJ)}a0.id="row"+a4;aI=i.offsetHeight;if((a4*220)>=aI){a0.style.display="none"}V.appendChild(a0)}}av=true};var S=function(){var aJ=new psd.framework.Parser(),aH=new psd.framework.Mediator(),aI=y.genericData.urlBase?(y.genericData.urlBase+L):L;aH.corsIE(true);aH.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,aq,this);aH.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,z,this);aH.mediate(aI,aJ,psd.framework.Mediator.RESPONSE_TEXT)};var N=function(){y.mediaData.relacionadosUrl="";var aJ=new psd.framework.parser.JSONParser(),aH=new psd.framework.Mediator(),aI=y.genericData.urlBase?(y.mediaData.relacionadosUrl):y.mediaData.relacionadosUrl;aH.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,B,this);aH.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,e,this);aH.mediate(aI,aJ,psd.framework.Mediator.RESPONSE_JSON)};var aq=function(aH){var aI;if(aH.result.parserResult.code==ar){aI=aH.result.parserResult.result.replace(/{<-%ID%->}/g,y.genericData.id);ax.innerHTML=aI;p.apply(this);this.recolocarIE8();this.notifyInitComplete()}else{if(aH.result.parserResult.code==W){}}};var z=function(aH){};var B=function(aH){var aI;if(aH.result.parserResult.code==ar){aI=aH.result.parserResult.result}else{if(aH.result.parserResult.code==W){}}};var e=function(aH){};var r=function(aH){return document.getElementById(aH+y.genericData.id)};var p=function(){i=r("wrapper");H=r("PlayerPlayBig");Y=r("PlayerPlayEstirar");g=r("PlayerPlay");an=r("PlayerPause");ai=r("PlayerShare");aF=r("PlayerReplay");n=r("PlayerTotalTime");az=r("PlayerTotalTimeInf");o=r("imagenInicio");I=r("centrador");J=r("PlayerCerrarCompartir");k=r("reproducido");K=r("manejador");v=r(("time_current"));ay=r("volumen");aB=r("mute");F=r("mascaravolumen");ac=r("PlayerProgress");j=r("PlayerThumbnails");at=r("foto");T=r("mosaic");al=r("numero");l=r("pico");R=r("PlayerNombreVideo");af=r("videosRotulo");ao=r("twitter");aj=r("facebook");aa=r("PlayerFullScreen");ak=r("PlayerCalidad");ad=r("PlayerQuality_1");V=r("PlayerRelatedVideos");aG=r("PlayerDesc");n.innerHTML="";aA=0;s=false;if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<11)){i.className=i.className+" playerMRSTN_b_fullscreen_0"}H.onclick=(function(aH){return function(){aH.notifyOrderPlay()}})(this);g.onclick=(function(aH){return function(){aH.notifyOrderPlay()}})(this);ay.onclick=(function(aI,aH){return function(aM){var aJ,aP,aN;var aK=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aH:aM.currentTarget;var aL=aM||window.event;aN=aI.getPosition(aK);aP=aL.layerY;var aO=aP/this.offsetHeight;aO=1-aO;aI.notifyOrderVolumeChange(aO)}})(this,ay);an.onclick=(function(aH){return function(){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){s=true;Y.style.height=i.offsetHeight+"px"}aH.notifyOrderPause()}})(this);ai.onclick=(function(aH){return function(){if((d)&&(!X)){M=am;aH.notifyOrderPause()}w(" playerMRSTN_estado_compartiendo")}})(this);aF.onclick=(function(aH){return function(){var aI=0;X=false;k.style.width=aI+"%";K.style.left=aI+"%";w(u);aH.notifyOrderPlay()}})(this);J.onclick=(function(aH){return function(){w(" playerMRSTN_b_compartir_0");if((m)&&(X)){w(" playerMRSTN_estado_fin playerMRSTN_b_calidad_0")}else{if(!d){w(u)}else{if(!M){aH.notifyOrderPlay()}else{ap()}}}}})(this);aj.onclick=(function(aH){return function(){var aJ=window.location.href;var aI="https://www.facebook.com/sharer/sharer.php?u="+aJ;window.open(aI,"_blank")}})(this);aa.onclick=(function(aH){return function(){if(aD){aD=false}else{aD=true}aH.notifyOrderFullScreen()}})(this);switch(y.uiData.skinData.previewMode){case"small":u=" playerMRSTN_estado_off_2";i.className+=u;U=u;break;default:u=" playerMRSTN_estado_off_1";i.className+=" playerMRSTN_estado_off_1";U=u;break}Z.apply(this)};var Z=function(){o.style.visibility="visible";k.style.width=0;K.style.left=0;if(y.mediaData.urlMosaic){A=y.mediaData.urlMosaic;aC=true}else{m=false}if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){E=new emic.top.ui.Mosaic();E.init("mosaic"+y.genericData.id,A)}if(y.mediaData.renditions.length>0){_resoluciones=y.mediaData.renditions;aw=true}else{i.className=i.className+" playerMRSTN_b_calidad_0";m=false}if(y.uiData.poster){o.src=y.uiData.poster}else{m=false}if(y.mediaData.title){R.innerHTML=y.mediaData.title;R.style.title=y.mediaData.title}else{m=false}if(getDevice().mobile){document.getElementsByClassName("playerMRSTN_volumen")[0].style.display="none"}else{if(y.mediaData.duration){if((y.mediaData.duration!="")&&(y.mediaData.duration!=null)&&(y.mediaData.duration>0)){var aH=y.mediaData.duration/1000;n.innerHTML=this.secondsAsTimeCode(aH,"hh:mm:ss");n.title=this.secondsAsTimeCode(aH,"hh:mm:ss");az.innerHTML=this.secondsAsTimeCode(aH,"hh:mm:ss");az.title=this.secondsAsTimeCode(aH,"hh:mm:ss")}}else{n.style.visibility="hidden";az.style.visibility="hidden";m=false}}aG.innerHTML=y.mediaData.title;if(aw){ad.innerHTML=y.mediaData.renditions[0].label}ac.onclick=(function(aJ,aI){return function(aN){if((y.mediaData.isLive)&&(!y.mediaData.isDVR)){}else{var aK,aQ,aO;var aL=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aI:aN.currentTarget;var aM=aN||window.event;if((aD)&&(ae())){aO=C(aL)}else{aO=aJ.getPosition(aL)}aK=aM.clientX-aO.x;aQ=aM.clientY-aO.y;var aP=aK/ac.offsetWidth;if(aP<0.02){aP=0}aJ.notifyOrderSeekByProp(aP)}}})(this,ac);ac.onmouseover=(function(aI){return function(aJ){if(y.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if((!y.mediaData.isLive)){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){j.style.visibility="hidden"}else{j.style.visibility="visible";l.style.left=0+"px"}}}})(this);ac.onmousemove=(function(aJ,aI){return function(aS){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}if(y.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if(!aC){j.style.left="-1000000px"}if((!y.mediaData.isLive)){var aY,aW,aV,aZ,aO,aL,aR,aN,aX;var aQ=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aI:aS.currentTarget;var aK=aS||window.event;if((aD)&&(ae())){aX=C(aQ)}else{aX=aJ.getPosition(aQ)}aY=aK.clientX-aX.x;var aU=aY;aW=aK.clientY-aX.y;_posThumbRec=aY;j.visibility="visible";aL=ac.offsetWidth;var aT=aA/aL;var aM=aY*aT+1;if(aM>aA){aM=aA}if(aM<0){aM=0}al.innerHTML=aJ.secondsAsTimeCode(aM,"hh:mm:ss");if(aC){aZ=j.offsetWidth}else{aZ=al.offsetWidth}aR=aL-aZ/2+1;aN=aZ/2-1;aV=aY;if(aY>=aR){aY=aL-aZ;aO=Math.abs(aL-aV-parseInt(aZ/2));l.style.left=aO+"px"}else{if(aY<=aN){aY=1;aO=aV-parseInt(aZ/2);l.style.left=aO+"px"}else{aY-=parseInt(aZ/2)}}if(aC){E.paint((aU/ac.offsetWidth)*100);j.style.marginLeft=aY+"px"}else{at.style.visibility="hidden";var aP=(aY-aZ)-(aZ/2)+5;j.style.marginLeft=aP+"px"}}}})(this);ao.onclick=(function(aI){return function(){if(y.mediaData.description=="{}"){y.mediaData.description=" "}var aL=y.mediaData.title+"-"+y.mediaData.description;if(aL.length>100){aL=aL.substr(0,100)+"..."}aL=aL.replace(/\|/g," ");var aK=window.location.href;var aJ=" https://twitter.com/intent/tweet?text=";aJ+=aL;aJ+="&via=";aJ+="ElHuffPost";aJ+="&url=";aJ+=aK;window.open(aJ,"_blank")}})(this)};this.inArray=function(aK,aJ){var aI=aJ.length;for(var aH=0;aH<aI;aH++){if(aJ[aH]==aK){return true}}return false};this.init=function(aH){y=aH;Q=y.uiData.skinData.sharetext;ax=document.getElementById(y.internalData.skinContainer);ag.apply(this);if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){s=true;au.apply(this)}S.apply(this)};this.reset=function(){m=false;Z.apply(this)};this.onBufferEmpty=function(){X=false;f.apply(this,[true])};this.onBufferFull=function(){f.apply(this,[false])};this.showLoading=function(aH){f.apply(this,[aH])};var f=function(aH){var aI=(psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10);if(!aI&&(y.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)){if(aH){w(" playerMRSTN_estado_cargando playerMRSTN_cargando_calidad")}else{ap()}}};this.onStatusChange=function(aH){switch(aH){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:am=true;break;case emic.top.MediaModule.STATUS_PLAY:o.style.visibility="hidden";_position=emic.top.TopPlayer.POSITION_MEDIA;if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){w(" playerMRSTN_estado_on playerMRSTN_b_compartir_0")}d=true;am=false;break;case emic.top.AdModule.STATUS_PLAY:_currentStateButton=an;j.style.visibility="hidden";aG.innerHTML=q;w(" playerMRSTN_estado_on playerMRSTN_b_calidad_0 playerMRSTN_b_compartir_0");break;case emic.top.AdModule.STATUS_PAUSE:n.style.visibility="visible";w(" playerMRSTN_estado_pausado playerMRSTN_b_calidad_0 playerMRSTN_b_compartir_0");_currentStateButton=g;break;case emic.top.AdModule.STATUS_STOP:aG.innerHTML=y.mediaData.title;j.style.visibility="visible";break}ap()};this.onPositionChange=function(aH){switch(aH){case emic.top.TopPlayer.POSITION_PREVIEW:n.style.visibility="hidden";az.style.visibility="hidden";if(m){w(" playerMRSTN_estado_fin playerMRSTN_b_calidad_0");X=true;if(O){if(!av){N.apply(this)}}else{af.innerHTML="";I.style.background="url("+y.uiData.poster+") no-repeat center center";I.style.backgroundSize="cover"}}else{w(u+" playerMRSTN_b_calidad_0");if(aw){P.apply(this)}}break;case emic.top.TopPlayer.POSITION_MEDIA:m=true;if(aw){P.apply(this)}document.getElementById(y.mediaData.container).style.visibility="visible";break;case emic.top.TopPlayer.POSITION_PREROLL:w(u+" playerMRSTN_b_calidad_0");break;case emic.top.TopPlayer.POSITION_AD_PREROLL:o.style.visibility="hidden";w(" playerMRSTN_estado_on");break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:w(" playerMRSTN_estado_on");j.style.visibility="visible";break}};this.onProgress=function(aI){aA=aI.totalTime;var aH=aI.currentTime*100/aA;k.style.width=aH+"%";K.style.left=aH+"%";v.innerHTML=this.secondsAsTimeCode(aI.currentTime,"hh:mm:ss");az.innerHTML=this.secondsAsTimeCode(aA,"hh:mm:ss");az.title=this.secondsAsTimeCode(aA,"hh:mm:ss");n.innerHTML=this.secondsAsTimeCode(aA,"hh:mm:ss");n.title=this.secondsAsTimeCode(aA,"hh:mm:ss");n.style.visibility="visible";az.style.visibility="visible";if((y.mediaData.isDVR)&&(y.mediaData.isLive)){az.style.display="none"}};this.onVolumeChange=function(aH){F.style.height=(aH*100)+"%"};this.onSeekComplete=function(aH){ap.apply(this)};var ap=function(){if(y.internalData.position==emic.top.TopPlayer.POSITION_MEDIA){if(am){w(" playerMRSTN_estado_pausado")}else{w(" playerMRSTN_estado_on")}}else{if((y.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL)||(y.internalData.position==emic.top.TopPlayer.POSITION_AD_POSTROLL)){w(" playerMRSTN_estado_on")}else{w(" playerMRSTN_estado_off_1")}}}}a.TopSkin_huff=b})(emic.top.ui);