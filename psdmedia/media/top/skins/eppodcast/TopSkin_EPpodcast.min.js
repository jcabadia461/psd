!function(a){"use strict";function b(){emic.top.ui.UISkinBase.call(this);var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=this,s="/psdmedia/media/top/skins/eppodcast/assets/",t="/psdmedia/media/top/skins/eppodcast/assets/",u=0,v=!1,w=0,x=!1,y="mm_AudioPlayer_pequeno",z=0,A="template.html",B="podcast.css",C=function(){var a=document.createElement("link"),c=b.genericData.urlBase?b.genericData.urlBase+t+B:t+B;a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",c),void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a)},D=function(){var a=new psd.framework.Parser,c=new psd.framework.Mediator,d=b.genericData.urlBase?b.genericData.urlBase+s+A:s+A;c.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,F,this),c.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,E,this),c.mediate(d,a,psd.framework.Mediator.RESPONSE_TEXT)},E=function(a){},F=function(c){var d;c.result.parserResult.code==u?(d=c.result.parserResult.result.replace(/{<-%ID%->}/g,b.genericData.id),a.innerHTML=d,H.apply(this),this.notifyInitComplete()):c.result.parserResult.code},G=function(a){return document.getElementById(b.genericData.id+a)},H=function(){if(c=G("_player"),d=G("_btn_play"),e=G("_barra_azul"),f=G("_manejador"),g=G("_progress"),h=G("_current_time"),i=G("_total_time"),j=G("_cont_volumen"),k=G("_btn_volumen"),l=G("_barra_volumen"),m=G("_percent_volumen"),n=G("_descarga"),o=G("_titulo"),p=G("_desc"),q=G("_cover"),getDevice().mobile||(c.className=c.className.replace("xxx","xxx mm_AudioPlayer--escritorio")),d.onclick=function(a){return function(){v?a.notifyOrderPause():a.notifyOrderPlay()}}(this),g.onclick=function(a){return function(b){if(1!=x||(x=!1,getDevice().mobile)){x=!1;var c;c=b.offsetX?b.offsetX/g.offsetWidth:b.layerX/g.offsetWidth,a.notifyOrderSeekByProp(c)}}}(this),l.onclick=function(a){return function(b){var c;c=b.offsetX?b.offsetX/l.offsetWidth:b.layerX/l.offsetWidth,a.notifyOrderVolumeChange(Math.min(Math.max(c,0),100))}}(this),k.onclick=function(a){return function(b){(" "+k.className).indexOf("mm_boton_silencio")>0?a.notifyOrderVolumeChange(w):a.notifyOrderVolumeChange(0)}}(this),!(null!=psd.framework.ua.msie&&psd.framework.ua.msie&&parseInt(psd.framework.ua.version)<9)){var a=function(){f.style.left=parseInt(e.offsetWidth)+"px",x=!0,f.style.position="absolute !important"},b=function(){e.style.width=parseInt(f.style.left)+"px",f.style.position="absolute";var a=parseInt(f.offsetLeft)/parseInt(g.offsetWidth),b=Math.min(z,Math.max(z*a,0));return h.innerHTML=r.secondsAsTimeCode(b,"hh:mm:ss"),g.offsetWidth},s=function(a){return function(){f.style.position="absolute";var b=parseInt(f.offsetLeft)/parseInt(g.offsetWidth);a.notifyOrderSeekByProp(b)}}(this);if(getDevice().mobile){new emic.top.ui.DragContainer(g,f,a,b,s,0,g.offsetWidth).registrarDrag()}else{new emic.top.ui.Drag(f,g,a,b,s).registrarDragFromParent()}}getDevice().mobile||void 0===psd.framework.ua.firefox||(n.target="_blank"),I.apply(this),r.calculateClassSize()},I=function(){i&&(i.innerHTML=this.secondsAsTimeCode(Math.ceil(b.mediaData.duration/1e3),"hh:mm:ss")),n.href=b.mediaData.url,o.innerHTML=b.mediaData.title,p.innerHTML=b.mediaData.description,q.src=b.uiData.poster,""==b.uiData.poster||null==b.uiData.poster||void 0===b.uiData.poster?q.style.display="none":q.style.display="block"};this.init=function(c){b=c,a=document.getElementById(b.internalData.skinContainer),D.apply(this),C.apply(this)},this.reset_skin=function(){},this.reset=function(){v=!1,d.className=d.className.replace(/mm_boton_pausa/g,"mm_boton_play"),h.innerHTML="0:00:00",e.style.width=0,f.style.left=0},this.secondsAsTimeCode=function(a,b){var c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f="";return d<10&&(d="0"+d),e<10&&(e="0"+e),null==b?f=c+":"+d+":"+e:(f=b.replace("hh",c),f=f.replace("mm",d),f=f.replace("ss",e)),f},this.resize=function(a,b){},this.onProgress=function(a){var b=100*a.currentTime/a.totalTime;z=a.totalTime,x||(e.style.width=b+"%",f.style.left=b+"%"),i.innerHTML=this.secondsAsTimeCode(a.totalTime,"hh:mm:ss"),h.innerHTML=this.secondsAsTimeCode(a.currentTime,"hh:mm:ss")},this.onVolumeChange=function(a){var b=100*a;0!=a?(w=a,k.className=k.className.replace(/mm_boton_silencio/g,"mm_boton_sonido")):k.className=k.className.replace(/mm_boton_sonido/g,"mm_boton_silencio"),m.style.width=b+"%",m.setAttribute("aria-valuenow",b),m.setAttribute("aria-valuetext",b+"% volumen")},this.onBufferEmpty=function(){},this.onBufferFull=function(){},this.showLoading=function(a){J.apply(this,[a])};var J=function(a){};this.externalOrder=function(a,b){};this.onStatusChange=function(a){switch(a){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:case emic.top.AdModule.STATUS_PAUSE:v=!1,d.className=d.className.replace(/mm_boton_pausa/g,"mm_boton_play");break;case emic.top.MediaModule.STATUS_PLAY:v=!0,d.className=d.className.replace(/mm_boton_play/g,"mm_boton_pausa");break;case emic.top.AdModule.STATUS_PLAY:case emic.top.event.MediaEvent.ON_MEDIA_END:break;case emic.top.AdModule.STATUS_STOP:case emic.top.AdModule.PUBLI_SKIPPED:}},this.onPositionChange=function(a){switch(a){case emic.top.TopPlayer.POSITION_PREVIEW:case emic.top.TopPlayer.POSITION_AD_PREROLL:case emic.top.TopPlayer.POSITION_AD_POSTROLL:}},this.onMetadata=function(a){},this.onCue=function(a){},this.onError=function(a,b){},this.onSwitchRequest=function(a){},this.onSwitchComplete=function(a){},this.requestFullScreen=function(){},this.cancelFullScreen=function(){},this.onSeekStart=function(a){},this.onSeekComplete=function(a){},this.calculateClassSize=function(){c.offsetWidth<480?(c.className=c.className.replace(new RegExp(y,"g"),"mm_AudioPlayer_pequeno"),y="mm_AudioPlayer_pequeno"):c.offsetWidth<640?(c.className=c.className.replace(new RegExp(y,"g"),"mm_AudioPlayer_mediano"),y="mm_AudioPlayer_mediano"):(c.className=c.className.replace(new RegExp(y,"g"),"mm_AudioPlayer_grande"),y="mm_AudioPlayer_grande")};var K=window.onresize;window.onresize="function"==typeof K?function(){K(),r.calculateClassSize()}:function(){r.calculateClassSize()}}b.prototype=new emic.top.ui.UISkinBase,a.TopSkin_EPpodcast=b}(emic.top.ui);