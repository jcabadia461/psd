(function(b){a.prototype=new emic.top.ui.UISkinBase();function a(){emic.top.ui.UISkinBase.call(this);var r="Contenido Publicitario";var i,K,ab,g,ar,al,aJ,M,af,aK,k,N,x,aE,o,aD,aC,aF,I,j,ax,W,D,ap,l,at,am,U,ai,ao,ag,Y,ad,p,L,v=[],H,n,an,T="default",B="default";var t=null;var z=true;var c={total_count:0,count:0,doc:[{source_name:"",same_source:"",publish_date:"",orig_url:"","rec-cats":[],rec_en_did:"",url:"",author:"",content:"",thumbnail:{url:"",width:0,height:0,imageImpressionType:""}}]};var aI="";var m,aq,P,u=false,aA=false,aa=false,d=false,aG=false,az=false,R=false,aH=false;var w,X;var aB,A;var O="/psdmedia/media/top/skins/los40/assets/template.html",ae="/psdmedia/media/top/skins/los40/assets/estilos.css",h="/psdmedia/media/top/skins/los40/assets/estilos_ie8.css",aw=0,Z=1;var ak=function(){var aM=document.createElement("link"),aL=A.genericData.urlBase?(A.genericData.urlBase+ae):ae;aM.setAttribute("rel","stylesheet");aM.setAttribute("type","text/css");aM.setAttribute("href",aL);if(typeof aM!="undefined"){document.getElementsByTagName("head")[0].appendChild(aM)}};var ay=function(){var aM=document.createElement("link"),aL=A.genericData.urlBase?(A.genericData.urlBase+h):h;aM.setAttribute("rel","stylesheet");aM.setAttribute("type","text/css");aM.setAttribute("href",aL);if(typeof aM!="undefined"){document.getElementsByTagName("head")[0].appendChild(aM)}};var y=function(aL){i.className=i.className.replace(X,aL);X=aL};var F=function(aN){var aQ=aN.getBoundingClientRect();var aR=document.body;var aM=document.documentElement;var aL=window.pageYOffset||aM.scrollTop||aR.scrollTop;var aO=window.pageXOffset||aM.scrollLeft||aR.scrollLeft;var aP=aM.clientTop||aR.clientTop||0;var aS=aM.clientLeft||aR.clientLeft||0;var aT=aQ.top+aL-aP;var aU=aQ.left+aO-aS;return{y:Math.round(aT),x:Math.round(aU)}};var ah=function(){return/(safari|opera|chrome)/.test(navigator.userAgent.toLowerCase())};var J=function(){return/(firefox)/.test(navigator.userAgent.toLowerCase())};this.onSwitchRequest=function(aL){i.className=i.className+" playerMRSTN_cargando_calidad"};this.onSwitchComplete=function(aM){var aL;for(aL in v){if(aL==aM){v[aL].className="playerMRSTN_seleccionado"}else{v[aL].className=""}}ag.innerHTML=A.mediaData.renditions[aM].label;if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){u=true;ag.style.fontStyle="normal"}ag.style.visibility="visible"};var aj=function(aM,aL){var aN=document.createElement("a");aN.text=aM.label;aN.href="javascript:void(0)";aN.id="Quality"+String(aL);aN.onclick=(function(aO){return function(aP){aN.className="PlayerMRSTN_seleccionado";aO.notifyOrderSwitchDirect(aL)}})(this);return aN};var S=function(){var aL,aN=A.mediaData.renditions,aM=document.createElement("div");v=[];for(aL in aN){v[aL]=aj.apply(this,[aN[aL],aL]);aM.appendChild(v[aL])}ao.innerHTML="";ao.appendChild(aM)};var G=function(a2){var a3=a2.length;var aL=a3-1;var aM,aW;var a9=[];var aO;if(a3>0){if(a3==1){aO=1}else{if(a3==2){aO=2}else{if(a3<7){aO=3}else{aO=4}}}var bd=parseInt(a3/3);var a0=a3%3;if(a0>0){++bd}switch(aO){case 1:a9=[1,3,80,10,5,5,16];break;case 2:a9=[2,3,50,3,0,0,0];break;default:a9=[bd,3,50,3,0,0,0];break}var aY=a9[0];var aP=a9[1];var a1=a9[2];var aQ=a9[3];var aT=a9[4];var aU=a9[5];var a6=a9[6];var a5=0;aW=0;for(var a8=1;a8<=aY;a8++){var a4=document.createElement("div");a4.className="playerMRSTN_enlaces_videos playerMRSTN_estirar";a4.style.marginTop=aQ+"%";for(var a7=1;a7<=aP;a7++){a5=aP*(a8-1)+a7-1;if(a5==a3){break}if((u)&&(a5==(a3-1))){break}var aN=document.createElement("a");var aX=a2[a5].content;var aR=aX.length;if(aR>a1){aX=aX.substr(0,a1)+"..."}aN.title=a2[a5].content;aN.href=a2[a5].url;aN.className="playerMRSTN_video";var bc=document.createElement("div");bc.className="playerMRSTN_foto";bc.backgroundColor="#FFF";var aZ=document.createElement("div");aZ.className="playerMRSTN_formato";var aV=document.createElement("div");aV.className="playerMRSTN_foto_interior";var ba=document.createElement("img");ba.src=a2[a5].thumbnail.url;var bb=document.createElement("div");bb.className="playerMRSTN_boton_play";var aS=document.createElement("div");aS.className="playerMRSTN_titulo";aS.innerHTML=aX;aN.appendChild(bc);bc.appendChild(aZ);bc.appendChild(aV);aV.appendChild(ba);bc.appendChild(bb);aN.appendChild(aS);a4.appendChild(aN)}a4.id="row"+a8;aM=i.offsetHeight;if((a8*220)>=aM){a4.style.display="none"}Y.appendChild(a4)}}az=true};var V=function(){var aN=new psd.framework.Parser(),aL=new psd.framework.Mediator(),aM=A.genericData.urlBase?(A.genericData.urlBase+O):O;aL.corsIE(true);aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,av,this);aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,C,this);aL.mediate(aM,aN,psd.framework.Mediator.RESPONSE_TEXT)};var Q=function(){A.mediaData.relacionadosUrl="";var aN=new psd.framework.parser.JSONParser(),aL=new psd.framework.Mediator(),aM=A.genericData.urlBase?(A.mediaData.relacionadosUrl):A.mediaData.relacionadosUrl;aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,E,this);aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,e,this);aL.mediate(aM,aN,psd.framework.Mediator.RESPONSE_JSON)};var av=function(aL){var aM;if(aL.result.parserResult.code==aw){aM=aL.result.parserResult.result.replace(/{<-%ID%->}/g,A.genericData.id);aB.innerHTML=aM;q.apply(this);this.recolocarIE8();this.notifyInitComplete()}else{if(aL.result.parserResult.code==Z){}}};var C=function(aL){};var E=function(aL){var aM;if(aL.result.parserResult.code==aw){aM=aL.result.parserResult.result}else{if(aL.result.parserResult.code==Z){}}};var e=function(aL){};var s=function(aL){return document.getElementById(aL+A.genericData.id)};var q=function(){i=s("wrapper");K=s("PlayerPlayBig");ab=s("PlayerPlayEstirar");g=s("PlayerPlay");ar=s("PlayerPause");al=s("PlayerShare");aJ=s("PlayerReplay");o=s("PlayerTotalTime");aD=s("PlayerTotalTimeInf");p=s("imagenInicio");L=s("centrador");M=s("PlayerCerrarCompartir");k=s("reproducido");N=s("manejador");x=s(("time_current"));aC=s("volumen");aF=s("mute");I=s("mascaravolumen");af=s("PlayerProgress");j=s("PlayerThumbnails");ax=s("foto");W=s("mosaic");ap=s("numero");l=s("pico");U=s("PlayerNombreVideo");ai=s("videosRotulo");at=s("twitter");am=s("facebook");ad=s("PlayerFullScreen");ao=s("PlayerCalidad");ag=s("PlayerQuality_1");Y=s("PlayerRelatedVideos");aK=s("PlayerDesc");o.innerHTML="";aE=0;u=false;n=s("boton_calidad_");an=s("boton_fullscreen_");n.style.display="none";if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<11)){i.className=i.className+" playerMRSTN_b_fullscreen_0"}K.onclick=(function(aL){return function(){aL.notifyOrderPlay()}})(this);g.onclick=(function(aL){return function(){aL.notifyOrderPlay()}})(this);aC.onclick=(function(aM,aL){return function(aQ){var aN,aT,aR;var aO=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aL:aQ.currentTarget;var aP=aQ||window.event;aR=aM.getPosition(aO);aT=aP.layerY;var aS=aT/this.offsetHeight;aS=1-aS;aM.notifyOrderVolumeChange(aS)}})(this,aC);ar.onclick=(function(aL){return function(){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){u=true;ab.style.height=i.offsetHeight+"px"}aL.notifyOrderPause()}})(this);al.onclick=(function(aL){return function(){if((d)&&(!aa)){P=aq;aL.notifyOrderPause()}y(" playerMRSTN_estado_compartiendo")}})(this);aJ.onclick=(function(aL){return function(){var aM=0;aa=false;k.style.width=aM+"%";N.style.left=aM+"%";y(w);aL.notifyOrderPlay()}})(this);M.onclick=(function(aL){return function(){y(" playerMRSTN_b_compartir_0");if((m)&&(aa)){y(" playerMRSTN_estado_fin playerMRSTN_b_calidad_0")}else{if(!d){y(w)}else{if(!P){aL.notifyOrderPlay()}else{au()}}}}})(this);am.onclick=(function(aL){return function(){var aN=window.location.href;var aM="https://www.facebook.com/sharer/sharer.php?u="+aN;window.open(aM,"_blank")}})(this);ad.onclick=(function(aL){return function(){if(aH){aH=false}else{aH=true}aL.notifyOrderFullScreen()}})(this);switch(A.uiData.skinData.previewMode){case"small":w=" playerMRSTN_estado_off_2";i.className+=w;X=w;break;default:w=" playerMRSTN_estado_off_1";i.className+=" playerMRSTN_estado_off_1";X=w;break}ac.apply(this)};var ac=function(){p.style.visibility="visible";k.style.width=0;N.style.left=0;if(A.mediaData.urlMosaic){D=A.mediaData.urlMosaic;aG=true}else{m=false}if(!((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))){H=new emic.top.ui.Mosaic();H.init("mosaic"+A.genericData.id,D)}if(A.mediaData.renditions.length>0){_resoluciones=A.mediaData.renditions;aA=true}else{i.className=i.className+" playerMRSTN_b_calidad_0";m=false}if(A.uiData.poster){p.src=A.uiData.poster}else{m=false}if(A.mediaData.title){U.innerHTML=A.mediaData.title;U.style.title=A.mediaData.title}else{m=false}o.style.display="none";if(getDevice().mobile){if(getDevice().agent.toLowerCase().indexOf("android")==-1){an.style.display="none"}document.getElementsByClassName("playerMRSTN_volumen")[0].style.display="none"}else{if(A.mediaData.duration){if((A.mediaData.duration!="")&&(A.mediaData.duration!=null)&&(A.mediaData.duration>0)){var aL=A.mediaData.duration/1000;o.innerHTML=this.secondsAsTimeCode(aL,"hh:mm:ss");o.title=this.secondsAsTimeCode(aL,"hh:mm:ss");aD.innerHTML=this.secondsAsTimeCode(aL,"hh:mm:ss");aD.title=this.secondsAsTimeCode(aL,"hh:mm:ss")}}else{o.style.visibility="hidden";o.style.display="none";aD.style.visibility="hidden";m=false}}aK.innerHTML=A.mediaData.title;if(aA){ag.innerHTML=A.mediaData.renditions[0].label}af.onclick=(function(aN,aM){return function(aR){if((A.mediaData.isLive)&&(!A.mediaData.isDVR)){}else{var aO,aU,aS;var aP=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aM:aR.currentTarget;var aQ=aR||window.event;if((aH)&&(ah())){aS=F(aP)}else{aS=aN.getPosition(aP)}aO=aQ.clientX-aS.x;aU=aQ.clientY-aS.y;var aT=aO/af.offsetWidth;if(aT<0.02){aT=0}aN.notifyOrderSeekByProp(aT)}}})(this,af);af.onmouseover=(function(aM){return function(aN){if(A.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if((!A.mediaData.isLive)){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){j.style.visibility="hidden"}else{j.style.visibility="visible";l.style.left=0+"px"}}}})(this);af.onmousemove=(function(aN,aM){return function(aW){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}if(A.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA){return}if(!aG){j.style.left="-1000000px"}if((!A.mediaData.isLive)){var a2,a0,aZ,a3,aS,aP,aV,aR,a1;var aU=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?aM:aW.currentTarget;var aO=aW||window.event;if((aH)&&(ah())){a1=F(aU)}else{a1=aN.getPosition(aU)}a2=aO.clientX-a1.x;var aY=a2;a0=aO.clientY-a1.y;_posThumbRec=a2;j.visibility="visible";aP=af.offsetWidth;var aX=aE/aP;var aQ=a2*aX+1;if(aQ>aE){aQ=aE}if(aQ<0){aQ=0}ap.innerHTML=aN.secondsAsTimeCode(aQ,"hh:mm:ss");if(aG){a3=j.offsetWidth}else{a3=ap.offsetWidth}aV=aP-a3/2+1;aR=a3/2-1;aZ=a2;if(a2>=aV){a2=aP-a3;aS=Math.abs(aP-aZ-parseInt(a3/2));l.style.left=aS+"px"}else{if(a2<=aR){a2=1;aS=aZ-parseInt(a3/2);l.style.left=aS+"px"}else{a2-=parseInt(a3/2)}}if(aG){H.paint((aY/af.offsetWidth)*100);j.style.marginLeft=a2+"px"}else{ax.style.visibility="hidden";var aT=(a2-a3)-(a3/2)+5;j.style.marginLeft=aT+"px"}}}})(this);at.onclick=(function(aM){return function(){if(A.mediaData.description=="{}"){A.mediaData.description=" "}var aP=A.mediaData.title;if(A.mediaData.description!=""){aP+=" - "+A.mediaData.description}if(T!="default"){switch(T){case"premios40ballantines":aP="Estoy viendo los #Premios40Ballantines y I love it! ;) via @Los40_Spain";break;case"backstage":aP="Estoy viendo la cámara #SinFiltroBallantines";break;case"arribaespana":aP="Yo ya estoy viendo en directo Arriba España";break;case"lomejordeaquiyalli":aP="Estoy viendo en directo #LoMejordeAquíydeAllí";break}}if(aP.length>100){aP=aP.substr(0,100)+"..."}aP=aP.replace(/\|/g," ");aP=encodeURIComponent(aP);var aO=window.location.href;if(B!="default"){aO=B}var aN=" https://twitter.com/intent/tweet?text=";aN+=aP;if(t!=null){aN+="&via="+t}aN+="&url=";aN+=aO;window.open(aN,"_blank")}})(this)};this.inArray=function(aO,aN){var aM=aN.length;for(var aL=0;aL<aM;aL++){if(aN[aL]==aO){return true}}return false};this.init=function(aM){A=aM;T=A.uiData.skinData.sharetext;B=(A.uiData.skinData.shareurl==undefined?"default":A.uiData.skinData.shareurl);aB=document.getElementById(A.internalData.skinContainer);var aL="";if((A.uiData.skinData.idCSS!=undefined)&&(A.uiData.skinData.idCSS!="default")){aL=A.uiData.skinData.idCSS}switch(A.uiData.skinData.udn){case"m80":t="m80radio_";break;case"radiole":t="Radiole_oficial";break;case"maximafm":t="maximafm_radio";break;case"tropicanacolombia":t="Tropibogota";break;case"dial":t="Cadena_Dial";break;case"los40":t="Los40_Spain";break}if((A.uiData.skinData.udn)&&(this.inArray(A.uiData.skinData.udn,["maximafm","radiole","m80","dial","los40","radioacktiva","default","los40aniversario","tropicanacolombia"]))){ae="/psdmedia/media/top/skins/los40/assets/"+A.uiData.skinData.udn+"/estilos"+aL+".css";h="/psdmedia/media/top/skins/los40/assets/"+A.uiData.skinData.udn+"estilos"+aL+"._ie8.css"}ak.apply(this);if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){u=true;ay.apply(this)}V.apply(this)};this.reset=function(){m=false;ac.apply(this)};this.onBufferEmpty=function(){aa=false;f.apply(this,[true])};this.onBufferFull=function(){f.apply(this,[false])};this.showLoading=function(aL){f.apply(this,[aL])};var f=function(aL){var aM=(psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10);if(!aM&&(A.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)){if(aL){y(" playerMRSTN_estado_cargando playerMRSTN_cargando_calidad")}else{au()}}};this.onStatusChange=function(aL){switch(aL){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:aq=true;break;case emic.top.MediaModule.STATUS_PLAY:p.style.visibility="hidden";_position=emic.top.TopPlayer.POSITION_MEDIA;if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){y(" playerMRSTN_estado_on playerMRSTN_b_compartir_0")}d=true;aq=false;break;case emic.top.AdModule.STATUS_PLAY:_currentStateButton=ar;j.style.visibility="hidden";aK.innerHTML=r;y(" playerMRSTN_estado_on playerMRSTN_b_calidad_0 playerMRSTN_b_compartir_0");break;case emic.top.AdModule.STATUS_PAUSE:o.style.visibility="visible";y(" playerMRSTN_estado_pausado playerMRSTN_b_calidad_0 playerMRSTN_b_compartir_0");_currentStateButton=g;break;case emic.top.AdModule.STATUS_STOP:aK.innerHTML=A.mediaData.title;j.style.visibility="visible";p.style.visibility="hidden";break}au()};this.onPositionChange=function(aL){switch(aL){case emic.top.TopPlayer.POSITION_PREVIEW:o.style.visibility="hidden";aD.style.visibility="hidden";if(m){y(" playerMRSTN_estado_fin playerMRSTN_b_calidad_0");aa=true;if(R){if(!az){Q.apply(this)}}else{ai.innerHTML="";L.style.background="url("+A.uiData.poster+") no-repeat center center";L.style.backgroundSize="cover"}}else{y(w+" playerMRSTN_b_calidad_0");if(aA){S.apply(this)}}break;case emic.top.TopPlayer.POSITION_MEDIA:m=true;if(aA){S.apply(this)}document.getElementById(A.mediaData.container).style.visibility="visible";break;case emic.top.TopPlayer.POSITION_PREROLL:y(w+" playerMRSTN_b_calidad_0");break;case emic.top.TopPlayer.POSITION_AD_PREROLL:p.style.visibility="hidden";y(" playerMRSTN_estado_on");break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:y(" playerMRSTN_estado_on");j.style.visibility="visible";break}};this.onRenditions=function(aL){};this.onProgress=function(aM){aE=aM.totalTime;var aL=aM.currentTime*100/aE;k.style.width=aL+"%";N.style.left=aL+"%";x.innerHTML=this.secondsAsTimeCode(aM.currentTime,"hh:mm:ss");aD.innerHTML=this.secondsAsTimeCode(aE,"hh:mm:ss");aD.title=this.secondsAsTimeCode(aE,"hh:mm:ss");o.innerHTML=this.secondsAsTimeCode(aE,"hh:mm:ss");o.title=this.secondsAsTimeCode(aE,"hh:mm:ss");o.style.visibility="visible";aD.style.visibility="visible";p.style.visibility="hidden";if(A.mediaData.isLiveActive){aD.style.display="none";x.style.display="none"}else{aD.style.display="block";x.style.display="block"}};this.onVolumeChange=function(aL){if(I!=undefined){I.style.height=(aL*100)+"%"}};this.onSeekComplete=function(aL){au.apply(this)};var au=function(){if(A.internalData.position==emic.top.TopPlayer.POSITION_MEDIA){if(aq){y(" playerMRSTN_estado_pausado")}else{y(" playerMRSTN_estado_on")}}else{if((A.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL)||(A.internalData.position==emic.top.TopPlayer.POSITION_AD_POSTROLL)){y(" playerMRSTN_estado_on")}else{y(" playerMRSTN_estado_off_1")}}}}b.TopSkin_los40=a})(emic.top.ui);