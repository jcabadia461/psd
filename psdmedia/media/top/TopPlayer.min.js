mm_top_compilation= "27-10-2017 10:53:16";
Autor= "JVlopez";
mm_top_compilation="27-10-2017 10:53:16",function(a){void 0==a.emic&&(a.emic={}),void 0==a.emic.top&&(a.emic.top={}),void 0==a.emic.top.media&&(a.emic.top.media={}),void 0==a.emic.top.event&&(a.emic.top.event={}),void 0==a.emic.top.ui&&(a.emic.top.ui={}),void 0==a.emic.top.social&&(a.emic.top.social={}),void 0==a.emic.top.ui.skins&&(a.emic.top.ui.skins={}),void 0==a.emic.top.ui.skins.fenix&&(a.emic.top.ui.skins.fenix={})}(window),function(a){function b(a){this.data={},this.id=null,psd.framework.Event.call(this,a)}b.prototype=new psd.framework.Event,b.ON_INIT_COMPLETE="onInitComplete",b.ON_RESET_COMPLETE="onResetComplete",b.ON_PRELOAD_CONTROLLER_COMPLETE="onPreloadControllerComplete",b.ON_READY="onReady",b.ON_MEDIA_END="onMediaEnd",b.ON_MEDIA_BEGIN="onMediaBegin",b.ON_CUE="onCue",b.ON_METADATA="onMetadata",b.ON_ERROR="onError",b.ON_STATUS_CHANGE="onStatusChange",b.ON_VOLUME_CHANGE="onVolumeChange",b.ON_PROGRESS="onProgress",b.ON_SEEK_START="onSeekStart",b.ON_SEEK_COMPLETE="onSeekComplete",b.ON_BUFFER_EMPTY="onBufferEmpty",b.ON_BUFFER_FULL="onBufferFull",b.ON_SWITCH_REQUEST="onSwitchRequest",b.ON_SWITCH_COMPLETE="onSwitchComplete",b.ON_IS_LIVE_STREAM="onIsLiveStream",b.ON_RENDITIONS="onRenditions",b.ON_TAG="onTag",a.MediaEvent=b}(emic.top.event),function(a){function b(a){this.data={},psd.framework.Event.call(this,a)}b.prototype=new psd.framework.Event,b.ON_INIT_COMPLETE="onInitComplete",b.ON_ORDER_BEGIN="onOrderBegin",b.ON_ORDER_PLAY="onOrderPlay",b.ON_ORDER_PAUSE="onOrderPause",b.ON_ORDER_PLAYPAUSE="onOrderPlayPause",b.ON_ORDER_STOP="onOrderStop",b.ON_ORDER_VOLUME_CHANGE="onOrderVolumeChange",b.ON_ORDER_MUTE="onOrderMute",b.ON_ORDER_FULLSCREEN="onOrderFullScreen",b.ON_ORDER_SEEK_BY_PROP="onOrderSeekByProp",b.ON_ORDER_SEEK_LIVE="onOrderSeekLive",b.ON_ORDER_SEEK_BY_SECS="onOrderSeekBySecs",b.ON_ORDER_NEXT="onOrderNext",b.ON_ORDER_PREV="onOrderPrev",b.ON_ORDER_SWITCH_UP="onOrderSwitchUp",b.ON_ORDER_SWITCH_DOWN="onOrderSwitchDown",b.ON_ORDER_SWITCH_DIRECT="onOrderSwitchDirect",b.ON_ORDER_SHARE_FACEBOOK="onOrderShareFacebook",b.ON_ORDER_SHARE_TWITTER="onOrderShareTwitter",b.ON_ORDER_SHARE_GOOGLEPLUS="onOrderShareGoogleplus",b.ON_ORDER_SHARE_WHATSAPP="onOrderShareGoogleplus",b.ON_ORDER_SHARE_SUBSCRIBE="onOrderShareSubscribe",b.ON_ORDER_SHARE_EXTERNAL="onOrderShareExternal",b.ON_ORDER_EMBED_EXTERNAL="onOrderEmbedExternal",b.ON_ORDER_EXTERNAL="onOrderExternal",b.ON_ORDER_RESET="onOrderReset",b.ON_ORDER_CHANGE_LIVE="onOrderChangeLive",b.ON_ORDER_BUTTON="onOrderButton",b.ON_ORDER_RRSS="onOrderRRSS",b.ON_ORDER_INICIOCOMPARTIR="onOrderInicioCompartir",b.ON_SKIN_READY="onSkinReady",b.ON_PREVIEW_READY="onPreviewReady",b.ON_ORDER_SKIP_AD="onOrderSkipAd",a.UIEvent=b}(emic.top.event),function(a){function b(a){this.data={},this.contentType="",this.id=null,this.idMedia=null,psd.framework.Event.call(this,a)}b.prototype=new psd.framework.Event,b.ON_AD_INSTREAM_START="onAdInStreamStart",b.ON_AD_INSTREAM_END="onAdInStreamEnd",b.ON_AD_VIDEO_START="onAdVideoStart",b.ON_AD_VIDEO_PAUSE="onAdVideoPause",b.ON_AD_VIDEO_RESUME="onAdVideoResume",b.ON_AD_PROGRESS="onAdVideoProgress",b.ON_AD_VOLUME_CHANGE="onAdVolumeChange",b.ON_AD_VIDEO_END="onAdVideoEnd",b.ON_AD_VIDEO_SKIP="onAdVideoSkip",b.ON_AD_POSITION_END="onAdPositionEnd",b.ON_NO_AD="onNoAd",b.ON_AD_ERROR="onAdError",b.ON_READY="onReady",b.ON_INIT_ERROR="onInitError",a.AdEvent=b}(emic.top.event),function(a){function b(a){this.data={},this.id=null,psd.framework.Event.call(this,a)}b.prototype=new psd.framework.Event,b.ON_READY="onReady",b.ON_POSITION_CHANGE="onPositionChange",b.ON_LOADING="onLoading",a.TopEvent=b}(emic.top.event),function(a){function b(a){var b=[],c=a,d=function(a){emic.top.debug("[MediaControllerFactory.js][_createControllerLayer]>> ",a);var b,d;c.internalData.controllerContainers[a]||(c.internalData.controllerContainers[a]="Controller_"+a+"_"+c.genericData.id),(b=document.getElementById(c.internalData.controllerContainers[a]))||(b=document.createElement("div"),b.id=c.internalData.controllerContainers[a],b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="100%",d=document.getElementById(c.mediaData.container),d.appendChild(b))};this.destroyController=function(a){emic.top.debug("[MediaControllerFactory.js][destroyController]>> ",a),b[a]&&(b[a].kill(),b[a]=void 0)},this.saveController=function(a){emic.top.debug("[MediaControllerFactory.js][saveController]>> ",a),b[a]&&b[a].reset()},this.getController=function(a){emic.top.debug("[MediaControllerFactory.js][getController]>> ",a);var c;if(b[a])emic.top.debug("[MediaControllerFactory.js][getController]>> Ya existía"),c=b[a];else{switch(a){case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS:case emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD:c=new emic.top.media.FlashController(a);break;case emic.top.MediaModule.CONTROLLER_TYPE_TRITON:c=new emic.top.media.TritonController;break;case emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE:c=new emic.top.media.HTML5Controller;break;case emic.top.MediaModule.CONTROLLER_TYPE_YT:c=new emic.top.media.YTController;break;case emic.top.MediaModule.CONTROLLER_TYPE_DM:c=new emic.top.media.DMController;break;case emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS:c=new emic.top.media.HLSController(a);break;case emic.top.MediaModule.CONTROLLER_TYPE_HLS:c=new emic.top.media.FlashController(a)}c&&(emic.top.debug("[MediaControllerFactory.js][getController]>> Se crea nuevo"),d.apply(this,[a]),b[a]=c)}return emic.top.debug("[MediaControllerFactory.js][getController]>> Instancia: ",c),c}}a.MediaControllerFactory=b}(emic.top.media),function(a){function b(){psd.framework.EventDispatcher.call(this);var a=!0;this.setAutoSwitch=function(b){a=b,this.onAutoSwitchChange()},this.getAutoSwitch=function(){return a};var b=!1;this.isReady=function(){return b},this.isBeginAllowed=function(a){var b=!0;return a.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW&&0==a.uiData.overrideNativeControls&&0==a.uiData.showPreview&&(b=!1,a.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)),b},this.notifyReady=function(){b=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY))},this.notifyMediaBegin=function(){b=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_BEGIN))},this.notifyMediaEnd=function(){b=!0,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_MEDIA_END))},this.notifyCue=function(a){var b=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_CUE);b.data=a,this.dispatchEvent(b)},this.notifyMetadata=function(a){var b=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_METADATA);b.data=a,this.dispatchEvent(b)},this.notifyError=function(a,b){var c=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_ERROR);c.idCode=a,null!=b&&(c.data=b),this.dispatchEvent(c)},this.notifyStatusChange=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_STATUS_CHANGE),ev.data={},ev.data.status=a,this.dispatchEvent(ev)},this.notifyVolumeChange=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE),ev.data=a,this.dispatchEvent(ev)},this.notifyProgress=function(a,b,c,d){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PROGRESS),ev.data={},ev.data.currentTime=a,ev.data.totalTime=b,ev.data.bytesLoaded=c,ev.data.bytesTotal=d,this.dispatchEvent(ev)},this.notifySeekStart=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_START),ev.data={},ev.data.offset=a,this.dispatchEvent(ev)},this.notifySeekComplete=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SEEK_COMPLETE),ev.data={},ev.data.offset=a,this.dispatchEvent(ev)},this.notifyBufferEmpty=function(){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_EMPTY),this.dispatchEvent(ev)},this.notifyBufferFull=function(){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_BUFFER_FULL),this.dispatchEvent(ev)},this.notifySwitchRequest=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_REQUEST),ev.data={},ev.data.index=a,this.dispatchEvent(ev)},this.notifySwitchComplete=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE),ev.data={},ev.data.index=a,this.dispatchEvent(ev)},this.notifyIsLiveStream=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM),ev.data=a,this.dispatchEvent(ev)},this.notifyRenditions=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RENDITIONS),ev.data=a,this.dispatchEvent(ev)},this.notifyID3TagPubli=function(a){ev=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_TAG),ev.data=a,this.dispatchEvent(ev)},this.init=function(){},this.preload=function(){},this.reload=function(){},this.reset=function(){},this.kill=function(){},this.cancelInit=function(){},this.play=function(){},this.pause=function(){},this.playpause=function(){},this.resume=function(){},this.stop=function(){},this.switchUp=function(){},this.switchDown=function(){},this.switchDirect=function(a){},this.seek=function(a){},this.seekLive=function(){},this.setVolume=function(a){},this.onAutoSwitchChange=function(){}}b.prototype=new psd.framework.EventDispatcher,a.MediaControllerBase=b}(emic.top.media),function(a){function b(a){emic.top.media.MediaControllerBase.call(this);var b,c,d,e={},f=a,g="/psdmedia/resources/swf/psd/FlashController.swf",h="/psdmedia/resources/swf/ext/expressInstall.swf";this.init=function(a){emic.top.debug("[FlashController.js][init]>> ",a),e=a,emic.top["FlashInstance_"+e.genericData.id]=this,i.apply(this)},this.reset=function(){emic.top.debug("[FlashController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[FlashController.js][reload]>> ");var a={};a.isLive=e.mediaData.isLive,a.url=encodeURIComponent(e.mediaData.url),a.id=e.mediaData.id,a.idPlayer=e.genericData.id,a.controller=f,a.mimetype=e.mediaData.mimetype,a.autoplay=!0,a.clipBegin=e.mediaData.clipBegin,a.clipEnd=e.mediaData.clipEnd,a.absolute=e.mediaData.absolute,emic.top.debug("[FlashController.js][reload]>> Se le pasa obj a flash:",a),-1!=e.mediaData.mimetype.indexOf("audio")?(b.style.width="1px",b.style.height="1px"):b.style.visibility="";try{b.loadJS(a)}catch(a){}},this.kill=function(){emic.top.debug("[FlashController.js][kill]>> "),swfobject.removeSWF(d)},this.play=function(){emic.top.debug("[FlashController.js][play]>> ");try{b.playJS()}catch(a){}},this.pause=function(){emic.top.debug("[FlashController.js][pause]>> ");try{b.pauseJS()}catch(a){}},this.playpause=function(){emic.top.debug("[FlashController.js][playpause]>> ");try{b.playpauseJS()}catch(a){}},this.resume=function(){emic.top.debug("[FlashController.js][resume]>> ");try{b.playpauseJS()}catch(a){}},this.stop=function(){emic.top.debug("[FlashController.js][stop]>> ");try{b.stopJS()}catch(a){}},this.switchUp=function(){emic.top.debug("[FlashController.js][switchUp]>> ");try{b.switchUpJS()}catch(a){}},this.switchDown=function(){emic.top.debug("[FlashController.js][switchDown]>> ");try{b.switchDownJS()}catch(a){}},this.switchDirect=function(a){emic.top.debug("[FlashController.js][switchDirect]>> ");try{b.switchDirectJS(a,!1)}catch(a){}},this.seek=function(a){emic.top.debug("[FlashController.js][seek]>> ",a);try{b.seekJS(a)}catch(a){}},this.setVolume=function(a){emic.top.debug("[FlashController.js][setVolume]>> ",a);try{b.setVolumeJS(a)}catch(a){}},this.onAutoSwitchChange=function(a){b.autoSwitchJS(a)};var i=function(){emic.top.debug("[FlashController.js][_createFlashObj]>> ");var a,b,i,k;if(c=document.getElementById(e.internalData.controllerContainers[f])){for(;c.firstChild;)c.removeChild(c.firstChild);b=document.createElement("div"),d="flashContainer_"+e.genericData.id,b.id=d,c.appendChild(b),-1!=e.mediaData.mimetype.indexOf("audio")?(k="1px",i="1px"):(k="100%",i="100%");var l={isLive:e.mediaData.isLive,url:encodeURIComponent(e.mediaData.url),id:e.mediaData.id,idPlayer:e.genericData.id,controller:f,mimetype:e.mediaData.mimetype,autoplay:e.mediaData.autoplay,clipBegin:e.mediaData.clipBegin,clipEnd:e.mediaData.clipEnd,absolute:e.mediaData.absolute},m={menu:"false",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:e.uiData.bgColor,wmode:e.mediaData.wmode},n={id:d};for(a in e.mediaData.controllerData)m["cdn_"+a]=e.mediaData.controllerData[a];var o=function(a){return function(){j.apply(a)}}(this),p=e.genericData.urlBase?e.genericData.urlBase+g:g,q=e.genericData.urlBase?e.genericData.urlBase+h:h;emic.top.debug("[FlashController.js][_createFlashObj]>> Se crea flash con los siguientes datos:",{urlFlashController:p,container:b.id,ancho:i,alto:k,flashvars:l,params:m,attributes:n}),swfobject.embedSWF(p,b.id,i,k,"10.0.0",q,l,m,n,o)}},j=function(a){emic.top.debug("[FlashController.js][_onReady]>> "),b=document.getElementById(d),-1!=e.mediaData.mimetype.indexOf("audio")?(b.style.width="0px",b.style.height="0px"):b.style.visibility=""},k=function(a){var b,c,d,e,f="",g="",h=[],i=[{bitrate:0,label:"Auto"}],j=[{bitrate:0,label:"vacio"}],k=-1,l=[{calidad:"144p",bitrate:5e4},{calidad:"240p",bitrate:3e5},{calidad:"360p",bitrate:4e5},{calidad:"480p",bitrate:5e5},{calidad:"720p",bitrate:15e5},{calidad:"1080p",bitrate:3e6},{calidad:"2160p",bitrate:45e5}],m=[{calidad:"240p",size:320},{calidad:"360p",size:640},{calidad:"480p",size:720},{calidad:"720p",size:1280},{calidad:"1080p",size:1920},{calidad:"2160p",size:3840}];for(b in a){if(d=a[b],0==d.width)for(c in l)d.bitrate>=l[c].bitrate&&k++;else for(c in m)d.width>=m[c].size&&k++;d.audio||(0==d.width?(h[b]={bitrate:d.bitrate,label:l[k].calidad==f?l[k].calidad+"+":l[k].calidad},f=l[k].calidad):(h[b]={bitrate:d.bitrate,label:m[k].calidad==g?m[k].calidad+"+":m[k].calidad},g=m[k].calidad)),k=-1}return e=h.length>1?i.concat(h):j,e.reverse()};this.notifyMediaBeginSWF=function(a){emic.top.debug("[FlashController.js][notifyMediaBeginSWF]>> "),void 0!==a[0]&&""!=a&&this.notifyRenditions(k(a)),this.notifyMediaBegin()},this.notifyMediaEndSWF=function(){emic.top.debug("[FlashController.js][notifyMediaEndSWF]>> "),this.notifyMediaEnd()},this.notifyBufferEmptySWF=function(){emic.top.debug("[FlashController.js][notifyBufferEmptySWF]>> "),this.notifyBufferEmpty()},this.notifyBufferFullSWF=function(){emic.top.debug("[FlashController.js][notifyBufferFullSWF]>> "),this.notifyBufferFull()},this.notifySeekStartSWF=function(a){emic.top.debug("[FlashController.js][notifySeekStartSWF]>> ",a),this.notifySeekStart(a)},this.notifySeekCompleteSWF=function(a){emic.top.debug("[FlashController.js][notifySeekCompleteSWF]>> ",a),this.notifySeekComplete(a)},this.notifySwitchRequestSWF=function(a){emic.top.debug("[FlashController.js][notifySwitchRequestSWF]>> ",a),this.notifySwitchRequest(a)},this.notifySwitchCompleteSWF=function(a){emic.top.debug("[FlashController.js][notifySwitchCompleteSWF]>> ",a),this.notifySwitchComplete(a)},this.notifyReadySWF=function(){emic.top.debug("[FlashController.js][notifyReadySWF]>>"),this.notifyReady()},this.notifyMetadataSWF=function(a){emic.top.debug("[FlashController.js][notifyMetadataSWF]>> ",a),this.notifyMetadata(a)},this.notifyErrorSWF=function(a){emic.top.debug("[FlashController.js][notifyErrorSWF]>> ",a),this.notifyError(a)},this.notifyVolumeChangeSWF=function(a){emic.top.debug("[FlashController.js][notifyVolumeChangeSWF]>> ",a),this.notifyVolumeChange(a)},this.notifyStatusChangeSWF=function(a){emic.top.debug("[FlashController.js][notifyStatusChangeSWF]>> ",a);var b=-1;switch(a){case 0:b=emic.top.MediaModule.STATUS_INITIALIZING;break;case 2:b=emic.top.MediaModule.STATUS_PLAY;break;case 3:b=emic.top.MediaModule.STATUS_PAUSE}this.isReady()&&-1!=b&&this.notifyStatusChange(b)},this.notifyProgressSWF=function(a,b,c,d){this.notifyProgress(a,b,c,d)},this.notifyIsLiveStreamSWF=function(a){emic.top.debug("[FlashController.js][notifyIsLiveStreamSWF]>> ",a),this.notifyIsLiveStream(a)}}b.prototype=new emic.top.media.MediaControllerBase,a.FlashController=b}(emic.top.media),function(a){function b(){emic.top.media.MediaControllerBase.call(this);var c,d,e,f,g,h,i=this,j=function(){return c},k=!1,l=function(){return k},m=0,n=5e3,o=3e3,p=5e3,q=n,r=function(){return m},s=!1,t=function(a){return function(b){var d=b.data.code;switch(emic.top.debug("[TritonController.js][_onStatus]>> ",b.data.code),b.data.code){case"LIVE_STOP":d=emic.top.MediaModule.STATUS_STOP;break;case"LIVE_PAUSE":d=emic.top.MediaModule.STATUS_PAUSE;break;case"LIVE_PLAYING":c.internalData.position!=emic.top.TopPlayer.POSITION_MEDIA?this.pause():(d=emic.top.MediaModule.STATUS_PLAY,s||(a.notifyMediaBegin(),s=!0));break;case"LIVE_FAILED":a.notifyError(emic.top.MediaModule.ERROR_LIVE_FAILED,b.data);break;case"STREAM_GEO_BLOCKED":a.notifyError(emic.top.MediaModule.ERROR_STREAM_GEO_BLOCKED,b.data);break;case"STATION_NOT_FOUND":a.notifyError(emic.top.MediaModule.ERROR_STATION_NOT_FOUND,b.data)}(c.internalData.position==emic.top.TopPlayer.POSITION_MEDIA||c.internalData.position==emic.top.TopPlayer.POSITION_AD_PREROLL&&"pause"==d)&&a.notifyStatusChange(d)}}(this),u=function(a){return function(){emic.top.debug("[TritonController.js][_onReady]>> "),k||(e.addEventListener("stream-status",t),e.addEventListener("ad-break-cue-point",D),e.addEventListener("ad-break-synced-element",C),e.addEventListener("video-mid-roll-playback-start",E),e.addEventListener("video-mid-roll-playback-complete",F),e.addEventListener("track-cue-point",B),e.addEventListener("timeout-alert",w),e.addEventListener("timeout-reach",x),e.addEventListener("stream-config-error",y),e.addEventListener("stream-error",z),e.addEventListener("configuration-error",A),a.notifyReady())}}(this),v=function(a){return function(){emic.top.debug("[TritonController.js][_onModuleError]>> "),a.notifyError(b.ERROR_ID_MODULES)}}(this),w=function(a){return function(b){emic.top.debug("[TritonController.js][_onTimeoutAlert]>> ",b.data),a.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:b.data.errors[0]._code,status:b.data.errors[0]._message})}}(this),x=function(a){return function(b){emic.top.debug("[TritonController.js][_onTimeoutReach]>> ",b.data),a.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:b.data.errors[0]._code,status:b.data.errors[0]._message})}}(this),y=function(a){return function(b){emic.top.debug("[TritonController.js][_onStreamConfigError]>> ",b.data),a.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:b.data.errors[0]._code,status:b.data.errors[0]._message})}}(this),z=function(a){return function(b){emic.top.debug("[TritonController.js][_onStreamError]>> ",b.data),a.notifyError(emic.top.MediaModule.ERROR_TIMEOUT_ALERT,{code:b.data.errors[0]._code,status:b.data.errors[0]._message})}}(this),A=function(a){return function(b){emic.top.debug("[TritonController.js][_onConfiguracionError]>> ",b.data),a.notifyError(emic.top.MediaModule.ERROR_CONFIGURATION_ERROR,{code:b.data.errors[0]._code,status:b.data.errors[0]._message})}}(this),B=function(a){return function(b){emic.top.debug("[TritonController.js][_onTrackCuePoint]>> ",b.data),a.notifyCue(b.data)}}(this),C=function(a,b){return function(c){emic.top.debug("[TritonController.js][_onAdSyncStart]>> ",c);var d,e,f;try{d=c.data.data.url,e=d.match(/\&cid=([^\&]*)&/)[1]}catch(a){e="Unable to retrieve ID"}a().internalData.adModule&&(f={},f.provider=emic.top.AdModule.PROVIDER_TRITON,f.internalData=c,f.name=e,f.adType=emic.top.AdModule.ADTYPE_INSTREAM,a().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,f,c.data.id)),setTimeout(function(){emic.top.debug("[TritonController.js][_onAdSyncStart]>> End timeout banner"),a().internalData.adModule&&(f={},f.provider=emic.top.AdModule.PROVIDER_TRITON,f.internalData=c,f.name=e,f.adType=emic.top.AdModule.ADTYPE_INSTREAM,a().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,f,c.data.id))},b())}}(j,r),D=function(a){return function(a){emic.top.debug("[TritonController.js][_onAdBreak]>> ",a);try{m=a.data.adBreakData.duration}catch(a){}}}(),E=function(a){return function(b){if(emic.top.debug("[TritonController.js][_onVideoMidStart]>> ",b),a().internalData.adModule){var c={};c.internalData=b,c.provider=emic.top.AdModule.PROVIDER_TRITON,c.adType=emic.top.AdModule.ADTYPE_VIDEO,a().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_START,c)}}}(j),F=function(a){return function(b){if(emic.top.debug("[TritonController.js][_onVideoMidComplete]>> ",b),a().internalData.adModule){var c={};c.internalData=b,c.provider=emic.top.AdModule.PROVIDER_TRITON,c.adType=emic.top.AdModule.ADTYPE_VIDEO,a().internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_VIDEO_END,c)}}}(j),G=function(){emic.top.debug("[TritonController.js][_forzarCampana]>> ");var a={},b=c;document.body.style.fontSize="24px",document.getElementById(c.mediaData.controllerData.container_banner_bigbox).style.backgroundColor="#00ff00",document.getElementById(c.mediaData.controllerData.container_banner_bigbox).style.width="300px",document.getElementById(c.mediaData.controllerData.container_banner_bigbox).style.height="250px",document.getElementById(c.mediaData.controllerData.container_banner_bigbox).style.display="none",document.getElementById(c.mediaData.controllerData.container_banner_leaderboard).style.backgroundColor="#ffff00",document.getElementById(c.mediaData.controllerData.container_banner_leaderboard).style.width="728px",document.getElementById(c.mediaData.controllerData.container_banner_leaderboard).style.height="90px",document.getElementById(c.mediaData.controllerData.container_banner_leaderboard).style.display="none";var d=[c.mediaData.controllerData.container_banner_bigbox,c.mediaData.controllerData.container_banner_leaderboard],e=d[Math.floor(1.99999*Math.random())];c.internalData.adModule&&(a={},a.internalData={},a.provider="TestProvider",a.internalData.id=e,a.name=e,a.adType=emic.top.AdModule.ADTYPE_INSTREAM,c.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_START,a,e)),setTimeout(function(){b.internalData.adModule&&(a={},a.internalData={},a.provider="TestProvider",a.internalData.id=e,a.name=e,a.adType=emic.top.AdModule.ADTYPE_INSTREAM,b.internalData.adModule.externalNotify(emic.top.event.AdEvent.ON_AD_INSTREAM_END,a,e))},1e4)};this.loadTritonAPI=function(){emic.top.debug("[TritonController.js][loadTritonAPI]>> Iniciando peticion de librerías a Triton");var b=document.createElement("script");b.setAttribute("type","text/javascript"),"2.4"==c.mediaData.controllerData.version?(b.setAttribute("data-dojo-config","async: 1, tlmSiblingOfDojo: 0, deps:['tdapi/run']"),b.setAttribute("src","//eu-playerservices.streamtheworld.com/tdplayerapi/2.4/dojo/dojo.js")):(b.setAttribute("src","//sdk.listenlive.co/web/v/2.9.19-183/td-sdk.min.js"),b.setAttribute("id","triton-sdk")),b.onload=function(){I.apply(i)},document.getElementsByTagName("head")[0].appendChild(b),a.tritonScriptCreated=!0},this.cancelInit=function(){emic.top.debug("[TritonController.js][cancelInit]>> "),k=!0,f&&clearInterval(f),g&&clearInterval(g),h&&clearInterval(h)},this.preload=function(){emic.top.debug("[TritonController.js][preload]>> "),this.play(),this.pause()},this.init=function(b){if(emic.top.debug("[TritonController.js][init]>> ",b),k=!1,c=b,c.mediaData.controllerData.debugInStream){var d=function(a){return function(){G.apply(a)}}(this),e=function(a){return function(){E.apply(a)}}(this),i=function(a){return function(){F.apply(a)}}(this);f=setInterval(d,14e3,this),g=setInterval(e,23e3),setTimeout(function(){h=setInterval(i,23e3)},7e3)}a.directInstance=this,a.tritonScriptCreated?H.apply(this):this.loadTritonAPI(this)},this.onTritonLoaded=function(){emic.top.debug("[TritonController.js][onTritonLoaded]>> Librerías de Triton cargadas"),H.apply(this)};var H=function(){if(emic.top.debug("[TritonController.js][_init]>> "),!k){var a=function(a,b,c){return function(){a.isReady()||c()||(emic.top.debug("[TritonController.js][connectDef]>> Retrying Triton modules loading, next call in:",q/1e3,"segs"),a.init(b))}}(this,c,l);setTimeout(a,q),q<p&&(q+=o),I.apply(this)}},I=function(){emic.top.debug("[TritonController.js][_connect]>> ");var a,b,f,g;if(d=document.getElementById(c.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON])){c.mediaData.controllerData.compatibleContainer&&("none"==d.style.display&&(d.style.display,d.style.height),f=d.style.width,0!=f.indexOf("px")&&"0px"!=f&&""!=f||(f=d.style.width="1px"),f=d.style.height,0!=f.indexOf("px")&&"0px"!=f&&""!=f||(f=d.style.height="1px")),b=[],c.mediaData.controllerData.container_banner_bigbox&&b.push({id:c.mediaData.controllerData.container_banner_bigbox,width:300,height:250}),c.mediaData.controllerData.container_banner_leaderboard&&b.push({id:c.mediaData.controllerData.container_banner_leaderboard,width:300,height:250}),"2.4"==c.mediaData.controllerData.version?"tdplayer-api-3.0.swf":"tdplayer-api-4.0.swf",g={},getDevice().mobile||(g={user:{streamtheworld_user:1}}),a={coreModules:[{id:"MediaPlayer",playerId:c.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON],isDebug:!1,plugins:[{id:"vastAd"}],defaultTrackingParameters:g,sbm:{active:!0,aSyncCuePointFallback:!0}},{id:"SyncBanners",keepElementsVisible:!1,elements:b}]},emic.top.debug("[TritonController.js][_connect]>> Config Triton",a);var h={coreModules:[{id:"MediaPlayer",playerId:c.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_TRITON],isDebug:!1,plugins:[{id:"vastAd"}],defaultTrackingParameters:g,sbm:{active:!0,aSyncCuePointFallback:!1},techPriority:["Html5","Flash"]},{id:"SyncBanners",keepElementsVisible:!1,elements:b}],playerReady:u,configurationError:function(){emic.top.debug("[TritonController.js] Error de configuracion TAP")},moduleError:v,adBlockerDetected:function(){emic.top.debug("[TritonController.js] AdBlock detectado")}};e=new TDSdk(h),this.notifyStatusChange(emic.top.MediaModule.STATUS_INITIALIZING)}else this.notifyError(emic.top.MediaModule.ERROR_NO_CONTAINER)};this.play=function(){emic.top.debug("[TritonController.js][play]>> "),c.mediaData.id&&e&&J.apply(this)};var J=function(){if(emic.top.debug("[TritonController.js][_play]>> ",c.mediaData.id),e.initMediaElement(),e.play){if("2.4"==c.mediaData.controllerData.version)e.play({mount:c.mediaData.id,connectionType:"normalConnection"});else{var a={csegid:2e3};e.play({station:c.mediaData.id,trackingParameters:a})}this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)}};this.pause=function(){emic.top.debug("[TritonController.js][pause]>> "),e.pause&&e.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)},this.resume=function(){emic.top.debug("[TritonController.js][resume]>> "),e.resume&&e.resume()},this.stop=function(){emic.top.debug("[TritonController.js][stop]>> "),void 0!==e&&e.stop&&e.stop(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP)},this.setVolume=function(a){emic.top.debug("[TritonController.js][setVolume]>> ",a),this.isReady()&&(e.setVolume(a),this.notifyVolumeChange(a))},this.mute=function(a){emic.top.debug("[TritonController.js][mute]>> ",a),e&&(a?e.mute():e.unMute())},this.reset=function(){emic.top.debug("[TritonController.js][reset]>> "),this.stop()},this.reload=function(){emic.top.debug("[TritonController.js][reload]>> "),this.stop(),e.play({mount:c.mediaData.id,connectionType:"normalConnection"}),getDevice().mobile&&J(),this.notifyReady()},this.kill=function(){if(emic.top.debug("[TritonController.js][kill]>> "),this.stop(),d)for(;d.firstChild;)d.removeChild(d.firstChild);f&&clearInterval(f),g&&clearInterval(g),h&&clearInterval(h),e=void 0}}window.tdPlayerApiReady=function(){a.directInstance.onTritonLoaded()},b.prototype=new emic.top.media.MediaControllerBase,b.tritonLoaded=!1,b.ERROR_ID_MODULES=1,a.TritonController=b}(emic.top.media),function(a){function b(){emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HTML5Controller";var a,b={},c=!1,d=!1,e=function(e){switch("timeupdate"!=e.type&&emic.top.debug("[HTML5Controller.js][_onMediaEvent]>> ",e.type),e.type){case"playing":d||(this.isBeginAllowed(b)?(d=!0,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):this.stop()),c||(c=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),this.notifyBufferFull();break;case"pause":c&&(c=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":d&&(d=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":void 0!=a&&(this.notifyProgress(a.currentTime,a.duration),a.duration==1/0||0==a.duration?this.notifyIsLiveStream(!0):this.notifyIsLiveStream(!1));break;case"waiting":this.notifyBufferEmpty();break;case"volumechange":void 0!==a&&this.notifyVolumeChange(a.volume);break;case"error":this.notifyError()}},f=function(a){emic.top.debug("[HTML5Controller.js][_getURL]>> ",a);var c,d;return void 0!=b.authParamsHTML5?(c=-1==a.indexOf("?")?"?":"&",d=c+b.authParamsHTML5):d="",a+d},g=function(){emic.top.debug("[HTML5Controller.js][_init]>> "),h.apply(this),this.notifyReady()},h=function(){var c,d,g=document.getElementById(b.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE]),h="100%",k="100%";if(-1!=b.mediaData.mimetype.indexOf("audio")&&(a=document.createElement("audio")),-1!=b.mediaData.mimetype.indexOf("video")&&(a=document.createElement("video")),void 0!==a&&null!=a){d=b.uiData.bgColor,a.setAttribute("id","HTML5Controller_"+b.genericData.id),a.setAttribute("width",h),a.setAttribute("height",k),a.setAttribute("style","background:"+d),a.requestFullScreen=a.requestFullScreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||g.webkitRequestFullScreen;var l=function(a){return function(b){e.apply(a,[b])}}(this);j("playing",l),j("pause",l),j("ended",l),j("timeupdate",l),j("waiting",l),j("volumechange",l),j("error",l),a.getAttribute("autoplay")&&a.removeAttribute("autoplay"),0!=b.uiData.overrideNativeControls&&"false"!=b.uiData.overrideNativeControls||a.setAttribute("controls","controls"),void 0!==b.uiData.poster&&a.setAttribute("poster",b.uiData.poster),i.apply(this),a.volume=b.mediaData.startVolume,g.appendChild(a),b.internalData.mediaElement=a,emic.top.debug("[HTML5Controller.js][_createElement]>> Creado:",a)}else g.innerHTML='<a href="'+f(c)+'"></a>'};this.preload=function(){emic.top.debug("[HTML5Controller.js][preload]>> "),a.load()};var i=function(){var c,d;if(void 0!==b.mediaData.urlHTML5&&b.mediaData.urlHTML5.length>0)d=b.mediaData.urlHTML5;else{if(void 0===b.mediaData.url)return!1;d=b.mediaData.url,b.mediaData.urlHTML5=[b.mediaData.url]}if("[object Array]"===Object.prototype.toString.apply(d))for(c in d)srcNode=document.createElement("source"),srcNode.setAttribute("src",f(d[c])),a.appendChild(srcNode);else a.setAttribute("src",f(d));emic.top.debug("[HTML5Controller.js][_setUrl]>> ",a.src)},j=function(b,c){a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent(b,c))};this.init=function(a){emic.top.debug("[HTML5Controller.js][init]>> "),b=a,g.apply(this)},this.kill=function(){emic.top.debug("[HTML5Controller.js][kill]>> "),a.pause(),a.parentNode.removeChild(a),a=void 0,b.internalData.mediaElement=void 0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)},this.reload=function(){emic.top.debug("[HTML5Controller.js][reload]>> "),d=!1,a.innerHTML="",i.apply(this),a.load(),a.play(),b.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){emic.top.debug("[HTML5Controller.js][play]>> "),void 0!==a&&void 0!==a.play&&(a.play(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY))},this.pause=function(){emic.top.debug("[HTML5Controller.js][pause]>> "),void 0!==a&&void 0!==a.pause&&(a.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE))},this.playpause=function(){emic.top.debug("[HTML5Controller.js][playpause]>> "),d?c?(a.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)):(a.play(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)):a.play()},this.resume=function(){emic.top.debug("[HTML5Controller.js][resume]>> "),void 0!==a&&void 0!==a.play&&a.play()},this.stop=function(){emic.top.debug("[HTML5Controller.js][stop]>> "),void 0!==a&&void 0!==a.pause&&(a.pause(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP))},this.switchUp=function(){emic.top.debug("[HTML5Controller.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HTML5Controller.js][switchDown]>> ")},this.switchDirect=function(a){emic.top.debug("[HTML5Controller.js][switchDirect]>> ",a)},this.seek=function(b){emic.top.debug("[HTML5Controller.js][seek]>> ",b),void 0!==a&&void 0!==a.currentTime&&(a.currentTime=b)},this.seekLive=function(b){emic.top.debug("[HTML5Controller.js][seekLive]>> "),void 0!==a&&(a.pause(),a.src=a.currentSrc,a.play())},this.setVolume=function(b){emic.top.debug("[HTML5Controller.js][setVolume]>> ",b),void 0!==a&&void 0!==a.volume&&(a.volume=b)},this.onAutoSwitchChange=function(){emic.top.debug("[HTML5Controller.js][onAutoSwitchChange]>> ")}}b.prototype=new emic.top.media.MediaControllerBase,a.HTML5Controller=b}(emic.top.media),function(a){function b(){emic.top.media.MediaControllerBase.call(this);var a=this;this.classname="emic.top.media.YTController",this._player="";var b,c,d,e,f,g,h,i,j,k=!1,l=!1,m=!1,n=!0,o=!0,p=!1,q=!1,r=!1,s=!1;this.cancelInit=function(){emic.top.debug("[YTController.js][cancelInit]>> "),m=!0},this.preload=function(){emic.top.debug("[YTController.js][preload]>> "),this.play()},this.init=function(d){if(emic.top.debug("[YTController.js][init]>> ",d),this.notifyReady(),m=!1,b=d,i=b.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_YT],c=b.mediaData.id,_mediaTypeDM=-1!=b.mediaData.mimetype.indexOf("video")?"vod":"aod",document.getElementById(b.uiData.container).style.visibility="hidden",document.getElementById(b.adData.container).style.visibility="hidden",j={},j.height="100%",j.width="100%",j.videoId=c,j.playerVars={},b.mediaData.autoplay&&(getDevice().mobile||(j.playerVars.autoplay=1)),b.mediaData.isPlaylist?j.playerVars.rel="0":b.mediaData.relateds||(j.playerVars.rel="0"),j.playerVars.modestbranding=1,j.playerVars.color="white",j.playerVars.frameborder=0,j.events={},j.events.onReady=function(b){a.onPlayerReady(b)},j.events.onStateChange=function(b){a.onPlayerStateChange(b)},j.events.onPlaybackQualityChange=function(b){a.onPlayerPlaybackQualityChange(b)},j.events.onError=function(b){a.onPlayerError(b)},"undefined"==typeof mm_ytLoadApi){window.mm_ytLoadApi=!1;var e=document.createElement("script"),f=document.createTextNode("function onYouTubePlayerAPIReady(){mm_ytLoadApi = true;}");e.appendChild(f),document.body.appendChild(e),e=document.createElement("script"),e.type="text/javascript",e.src="https://www.youtube.com/iframe_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}this.readyYoutube()},this.readyYoutube=function(){var b;"boolean"==typeof mm_ytLoadApi&&1==mm_ytLoadApi?(clearTimeout(b),this._player=new YT.Player(i,j)):b=setTimeout(function(){a.readyYoutube()},100)},this.onPlayerReady=function(a){l=!0,d=a.target.getDuration(),h=0==parseInt(a.target.getCurrentTime())?"0":parseInt(a.target.getCurrentTime());var c=a.target.getVideoData();e=a.target.getVolume().toPrecision(3),f=a.target.getCurrentTime(),b.mediaData.title=c.title,b.mediaData.duration=1e3*d,b.mediaData.progressTime=h,b.mediaData.premuted?this._player.isMuted()||this._player.mute():this._player.isMuted()&&this._player.unMute()},this.play=function(){l&&k&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.playpause=function(){l&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.resume=function(){l&&k&&1!=this._player.getPlayerState()&&this._player.playVideo()},this.pause=function(){l&&this._player.pauseVideo()},this.stop=function(){n=!1,o=!0,l&&(this._player.stopVideo(),clearInterval(g),k=!1,p=!0),q=!1,r=!1,s=!1},this.reset=function(){},this.inProgress=function(){if(this._player.isMuted()?b.mediaData.premuted||(b.mediaData.premuted=!0):b.mediaData.premuted&&(b.mediaData.premuted=!1),1==this._player.getPlayerState()){h=parseInt(this._player.getCurrentTime());var a=Math.round(100*h/d);!q&&a>=25&&a<=49&&(this.notifyProgress(h,d),q=!0),!r&&a>=50&&a<=74&&(this.notifyProgress(h,d),r=!0),!s&&a>=75&&(this.notifyProgress(h,d),s=!0)}};var t=function(a){n?(a.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),n=!1,q=!1,r=!1,s=!1):n=!0};this.onPlayerStateChange=function(c){c.data==YT.PlayerState.BUFFERING&&o&&(t(this),o=!1),c.data==YT.PlayerState.UNSTARTED&&t(this),c.data==YT.PlayerState.ENDED&&(n=!0),c.data!=YT.PlayerState.PLAYING||k||(k=!0,this.notifyMediaBegin(),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),g=setInterval(function(){a.inProgress()},1e3)),c.data==YT.PlayerState.PAUSED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE),p?(k=!1,p=!1):k=!0),c.data==YT.PlayerState.PLAYING&&(f=c.target.getCurrentTime().toPrecision(4),e=c.target.getVolume().toPrecision(3),k=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)),c.data==YT.PlayerState.BEGIN&&emic.top.event.MediaEvent.ON_MEDIA_BEGIN,c.data==YT.PlayerState.ENDED&&(this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP),h=parseInt(c.target.getCurrentTime()),b.mediaData.progressTime=h,this.notifyProgress(h,d),emic.top.event.MediaEvent.ON_MEDIA_END,this.notifyMediaEnd(),clearInterval(g),k=!1,q=!1,r=!1,s=!1)},this.onPlayerPlaybackQualityChange=function(a){},this.onPlayerError=function(a){switch(a.data){case 2:emic.top.debug("[YTController.js][onPlayerError]>> Iniciando peticion de librerías a Youtube");break;case 5:emic.top.debug("[YTController.js][onPlayerError]>> Error reproducción video con HTML5");break;case 100:emic.top.debug("[YTController.js][onPlayerError]>> Video privado o no encontrado");break;case 101:emic.top.debug("[YTController.js][onPlayerError]>> El propietario no permite reproducción")}}}b.prototype=new emic.top.media.MediaControllerBase,a.YTController=b}(emic.top.media),function(a){function b(){emic.top.media.MediaControllerBase.call(this);var a=this;this.classname="emic.top.media.DMController";var b=!1;this.init=function(c){emic.top.debug("[DMController.js][init]>> ",c),this.notifyReady();var d,e,f,g=c,h=g.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_DM],i=g.mediaData.id,j=g.mediaData.autoplay,k=g.mediaData.startVolume;document.getElementById(g.uiData.container).style.visibility="hidden",document.getElementById(g.adData.container).style.visibility="hidden",function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=document.location.protocol+"//api.dmcdn.net/all.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),window.dmAsyncInit=function(){var c={};DM.init(),DM.api("/videos",{fields:"screenname"},function(l){var m={};m.video=i,m.width="100%",m.height="100%",m.params={},m.params.api="postMessage",m.params.autoplay=j,m.params.logo=!1,m.params.related=!1,m.params.info=!0,m.params.volume=k;var n=DM.player(h,m);n.addEventListener("apiready",function(a){}),n.addEventListener("play",function(a){}),n.addEventListener("pause",function(b){a.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE)}),n.addEventListener("ended",function(b){_progressTime=parseInt(b.target.currentTime),a.notifyProgress(_progressTime,d),c=emic.top.event.MediaEvent.ON_MEDIA_END,a.notifyMediaEnd(),clearInterval(f)}),n.addEventListener("timeupdate",function(c){b||(c.target.setVolume(k),d=parseInt(c.target.duration),e=c.target.title,g.mediaData.title=e,g.mediaData.duration=d,_mediaTypeDM=-1!=g.mediaData.mimetype.indexOf("video")?"vod":"aod",0!=d&&(f=setInterval(function(){_progressTime=parseInt(c.target.currentTime),a.notifyProgress(_progressTime,d)},1e3),b=!0,a.notifyMediaBegin(),a.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY)))})})}}}b.prototype=new emic.top.media.MediaControllerBase,a.DMController=b}(emic.top.media),function(a){function b(){emic.top.media.MediaControllerBase.call(this),this.className="emic.top.media.HLSController";var b,c,d,e=this,f={},g=!1,h=!1,i=new Array,j=function(a){switch("timeupdate"!=a.type&&emic.top.debug("[HLSController.js][_onMediaEvent]>> ",a.type),a.type){case"playing":h||(this.isBeginAllowed(f)?(h=!0,this.notifyMediaBegin(),i.length>2&&this.notifyRenditions(i),this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY),this.notifyVolumeChange(b.volume)):this.stop()),g||(g=!0,this.notifyStatusChange(emic.top.MediaModule.STATUS_PLAY));break;case"pause":g&&(g=!1,this.notifyStatusChange(emic.top.MediaModule.STATUS_PAUSE));break;case"ended":h&&(h=!1,this.notifyMediaEnd(),this.notifyStatusChange(emic.top.MediaModule.STATUS_STOP));break;case"timeupdate":void 0!=b&&(d?!0===f.mediaData.isDVR?this.notifyProgress(b.currentTime,b.duration):this.notifyProgress(b.currentTime,b.currentTime):this.notifyProgress(b.currentTime,b.duration),this.notifyIsLiveStream(d));break;case"waiting":break;case"volumechange":this.notifyVolumeChange(b.volume);break;case"error":this.notifyError()}},k=function(a){if(c&&c.levels.length-1>=a){var b=c.levels[a];return b.name?b.name:b.height?b.height+"p":b.bitrate?b.bitrate<64001?"144p":b.bitrate<373001?"180p":b.bitrate<683001?"270p":b.bitrate<890001?"360p":b.bitrate<1096001?"360p+":b.bitrate<2636001?"576p":b.bitrate<4173001?"720p":"1080p":null}},l=function(){emic.top.debug("[HLSController.js][_init]>> "),c&&(c.destroy(),c=null),c=new Hls({debug:!1}),m.apply(this),this.notifyReady()},m=function(){var a,g=document.getElementById(f.internalData.controllerContainers[emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS]),h="100%",l="100%";if(-1!=f.mediaData.mimetype.indexOf("audio")&&(b=document.createElement("audio")),-1!=f.mediaData.mimetype.indexOf("video")&&(b=document.createElement("video")),void 0!==b&&null!=b){a=f.uiData.bgColor,b.setAttribute("id","HLSController_"+f.genericData.id),b.setAttribute("width",h),b.setAttribute("height",l),b.setAttribute("style","background:"+a),b.requestFullScreen=b.requestFullScreen||b.mozRequestFullScreen||b.webkitRequestFullScreen||g.webkitRequestFullScreen;var m=function(a){return function(b){j.apply(a,[b])}}(this);n("playing",m),n("pause",m),n("ended",m),n("timeupdate",m),n("waiting",m),n("volumechange",m),n("error",m),b.getAttribute("autoplay")&&b.removeAttribute("autoplay"),0!=f.uiData.overrideNativeControls&&"false"!=f.uiData.overrideNativeControls||b.setAttribute("controls","controls"),void 0!==f.uiData.poster&&b.setAttribute("poster",f.uiData.poster),c.on(Hls.Events.FRAG_PARSING_METADATA,function(a,b){for(var c in b.samples){var d=String.fromCharCode.apply(null,b.samples[c].data);if(console.log(d),-1!=d.indexOf("publicidad"))var f=1}if(f){var g=0,h=setInterval(function(){100==(g+=10)&&(clearInterval(h),e.notifyMetadata(b))},1e3);e.notifyID3TagPubli(d)}}),c.on(Hls.Events.MEDIA_ATTACHED,function(){c.loadSource(f.mediaData.url)}),c.on(Hls.Events.MANIFEST_PARSED,function(a,b){i.push({label:"Auto",bitrate:"-1"});for(var d=0;d<c.levels.length;d++){var e=d,f=k(d);if(f){var g=0;"number"==typeof c.levels[d].bitrate&&(g=c.levels[d].bitrate),i.push({label:f,bitrate:e,bitrateNum:g})}}for(var d=0;d<i.length;d++)for(var h=0;h<i.length;h++)d!=h&&i[d].label==i[h].label&&(i[d].bitrateNum>i[h].bitrateNum&&(i[d].label+="+"),i[d].bitrateNum<i[h].bitrateNum&&(i[h].label+="+"))}),c.on(Hls.Events.LEVEL_LOADED,function(a,b){d=b.details.live}),c.on(Hls.Events.ERROR,function(a,b){emic.top.debug("[HLSController.js][_ERROR]>> :",b)}),b.volume=f.mediaData.startVolume,g.appendChild(b),f.internalData.mediaElement=b,emic.top.debug("[HLSController.js][_createElement]>> Creado:",b)}c.attachMedia(b)};this.preload=function(){emic.top.debug("[HLSController.js][preload]>> ")};var n=function(a,c){b&&(b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent&&b.attachEvent(a,c))};this.init=function(b){if(emic.top.debug("[HLSController.js][init]>> "),f=b,a.directInstanceHLS=this,"function"==typeof Hls)l.apply(this);else{var c=document.createElement("script");c.setAttribute("type","text/javascript");var d=f.genericData.urlBase;d+="/psdmedia/resources/js/ext/hls/",c.setAttribute("src",d+"hls.min.js"),c.onload=function(){l.apply(e)},document.getElementsByTagName("head")[0].appendChild(c)}},this.kill=function(){emic.top.debug("[HLSController.js][kill]>> "),b.pause(),b.parentNode.removeChild(b),b=void 0,f.internalData.mediaElement=void 0},this.reload=function(){emic.top.debug("[HLSController.js][reload]>> "),b.innerHTML="",b.load(),b.play(),f.mediaData.autoplay=!0,this.notifyReady()},this.play=function(){emic.top.debug("[HLSController.js][play]>> "),c&&void 0!==b&&void 0!==b.play&&b.play()},this.pause=function(){emic.top.debug("[HLSController.js][pause]>> "),void 0!==b&&void 0!==b.pause&&b.pause()},this.playpause=function(){emic.top.debug("[HLSController.js][playpause]>> "),h&&g?b.pause():b.play()},this.resume=function(){emic.top.debug("[HLSController.js][resume]>> "),void 0!==b&&void 0!==b.play&&b.play()},this.stop=function(){emic.top.debug("[HLSController.js][stop]>> "),void 0!==b&&void 0!==b.pause&&(b.pause(),c&&(c.destroy(),c=null))},this.switchUp=function(){emic.top.debug("[HLSController.js][switchUp]>> ")},this.switchDown=function(){emic.top.debug("[HLSController.js][switchDown]>> ")},this.switchDirect=function(a){emic.top.debug("[HLSController.js][switchDirect]>> ",a);var b,d=i.length-1-a;b=i[d].bitrate,c.currentLevel!=b&&(c.currentLevel=-1==b?c.autoLevelCapping=-1:b)},this.seek=function(a){emic.top.debug("[HLSController.js][seek]>> ",a),void 0!==b&&void 0!==b.currentTime&&(b.currentTime=a)},this.seekLive=function(a){emic.top.debug("[HLSController.js][seekLive]>> "),void 0!==b&&(b.currentTime=b.duration)},this.setVolume=function(a){emic.top.debug("[HLSController.js][setVolume]>> ",a),void 0!==b&&void 0!==b.volume&&(b.volume=a)},this.onAutoSwitchChange=function(){emic.top.debug("[HLSController.js][onAutoSwitchChange]>> ")}}b.prototype=new emic.top.media.MediaControllerBase,a.HLSController=b}(emic.top.media),function(a){function b(a){psd.framework.EventDispatcher.call(this);var c,d,e=a,f="",g=new emic.top.media.MediaControllerFactory(e),h=0,i=!1,j=1,k=0,l=2;this.flag_autoplay=!1,this.init=function(){emic.top.debug("[MediaModule.js][init]>> "),e.internalData.controllerName=this.selectController(e.mediaData.controllerPriority,e.mediaData.tecPriorityPC),e.internalData.currentVolume=e.mediaData.startVolume,emic.top.debug("[MediaModule.js][init]>> Controlador asignado: ",e.internalData.controllerName),getDevice().mobile?(h=j,s.apply(this,[e.internalData.controllerName,m])):(n.apply(this),e.internalData.controllerName==b.CONTROLLER_TYPE_YT&&s.apply(this,[e.internalData.controllerName,m]),e.internalData.controllerName==b.CONTROLLER_TYPE_DM&&s.apply(this,[e.internalData.controllerName,m]))};var m=function(a){emic.top.debug("[MediaModule.js][_onInit]>> "),h=l,a.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,m,this),n.apply(this)},n=function(){emic.top.debug("[MediaModule.js][_initComplete]>> ");var a=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_INIT_COMPLETE);a.id=e.mediaData.idTOP,this.dispatchEvent(a)};this.reset=function(){if(emic.top.debug("[MediaModule.js][reset]>> "),f="",this.flag_autoplay)return d.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_CUE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,t,this),s.apply(this,[e.internalData.controllerName,o]),void(c=0);var a;h==k?(e.internalData.controllerName=this.selectController(e.mediaData.controllerPriority,e.mediaData.tecPriorityPC),getDevice().mobile?(h=j,s.apply(this,[e.internalData.controllerName,o])):(p.apply(this),e.internalData.controllerName==b.CONTROLLER_TYPE_YT&&(h=j,s.apply(this,[e.internalData.controllerName,o])),e.internalData.controllerName==b.CONTROLLER_TYPE_DM&&(h=j,s.apply(this,[e.internalData.controllerName,o])))):(h==j&&d.cancelInit(),a=e.internalData.controllerName,e.internalData.controllerName=this.selectController(e.mediaData.controllerPriority,e.mediaData.tecPriorityPC),d.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_CUE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,t,this),d.removeEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,t,this),h=k,d=void 0,g.destroyController(a),getDevice().mobile?(h=j,s.apply(this,[e.internalData.controllerName,o])):(p.apply(this),e.internalData.controllerName==b.CONTROLLER_TYPE_YT&&(h=j),e.internalData.controllerName==b.CONTROLLER_TYPE_DM&&(h=j,s.apply(this,[e.internalData.controllerName,o])))),f="",c=0};var o=function(a){emic.top.debug("[MediaModule.js][_onReset]>> "),h=l,a.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,o,this),p.apply(this)},p=function(){emic.top.debug("[MediaModule.js][_resetComplete]>> ");var a=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_RESET_COMPLETE);a.id=e.mediaData.idTOP,this.dispatchEvent(a)};this.preLoadContent=function(){emic.top.debug("[MediaModule.js][preLoadContent]>> "),d&&d.preload()},this.start=function(){emic.top.debug("[MediaModule.js][start]>> "),h==k?(h=j,s.apply(this,[e.internalData.controllerName,q])):h==l&&q.apply(this)};var q=function(a){emic.top.debug("[MediaModule.js][_onStarted]>> "),h=l,a&&a.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,q,this),this.play(),e.mediaData.premuted?getDevice().mobile||d.setVolume(0):d.setVolume(e.internalData.currentVolume),d&&e.mediaData.isLive&&d.onAutoSwitchChange(!0)};this.preloadController=function(a){if(emic.top.debug("[MediaModule.js][preloadController]>> ",a),a!=e.internalData.controllerName&&a!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE){var b=g.getController(a);b&&(b.addEventListener(emic.top.event.MediaEvent.ON_READY,r,this),emic.top.debug("[MediaModule.js][preloadController]>> Se recupera controlador del Factory"),b.isReady()?(emic.top.debug("[MediaModule.js][preloadController]>> El controlador estaba listo, se recarga"),b.reload()):(emic.top.debug("[MediaModule.js][preloadController]>> El controlador no está listo, se inicializa"),b.init(e)))}};var r=function(a){emic.top.debug("[MediaModule.js][_onPreloadControllerComplete]>> "),a&&a.target.removeEventListener(emic.top.event.MediaEvent.ON_READY,r,this);var b=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_PRELOAD_CONTROLLER_COMPLETE);b.id=e.mediaData.idTOP,this.dispatchEvent(b)};this.play=function(){emic.top.debug("[MediaModule.js][play]>> "),e.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?(void 0===window["triton_"+e.genericData.id]&&"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&void 0!==d&&"object"==typeof d&&d.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,t,this),response=!1,e.internalData.uiModule.externalNotify(emic.top.event.UIEvent.ON_ORDER_BEGIN)):h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(f==b.STATUS_PAUSE&&d.resume(),f!=b.STATUS_INITIALIZING&&""!=f&&f!=b.STATUS_STOP||d.play())},this.playpause=function(){emic.top.debug("[MediaModule.js][playpause]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.playpause()},this.getStatus=function(){return emic.top.debug("[MediaModule.js][getStatus]>> "),f},this.pause=function(){emic.top.debug("[MediaModule.js][pause]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.pause()},this.stop=function(){emic.top.debug("[MediaModule.js][stop]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.stop()},this.switchUp=function(){emic.top.debug("[MediaModule.js][switchUp]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.switchUp()},this.switchDown=function(){emic.top.debug("[MediaModule.js][switchDown]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.switchDown()},this.switchDirect=function(a){emic.top.debug("[MediaModule.js][switchDirect]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.switchDirect(a)},this.seekByProp=function(a){emic.top.debug("[MediaModule.js][seekByProp]>> ",a),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&c&&d.seek(a*c)},this.seekLive=function(a){emic.top.debug("[MediaModule.js][seekLive]>> ",a),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.seekLive()},this.seek=function(a){emic.top.debug("[MediaModule.js][seek]>> ",a),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&d.seek(a)},this.setVolume=function(a){emic.top.debug("[MediaModule.js][setVolume]>> ",a);var b;h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA?(e.mediaData.premuted=0==a,d.setVolume(a)):e.mediaData.startVolume=a,e.internalData.currentVolume=a,b=new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_VOLUME_CHANGE),b.data=a,b.id=e.mediaData.idTOP,this.dispatchEvent(b)},this.mute=function(){emic.top.debug("[MediaModule.js][mute]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA&&(0==e.internalData.currentVolume?(d.setVolume(e.internalData.lastVolume),e.internalData.currentVolume=e.internalData.lastVolume,e.mediaData.premuted=!1):(e.internalData.lastVolume=e.internalData.currentVolume,d.setVolume(0),e.internalData.currentVolume=0,e.mediaData.premuted=!0))},this.isPlaying=function(){return emic.top.debug("[MediaModule.js][isPlaying]>> "),f==b.STATUS_PLAY},this.isBuffering=function(){return emic.top.debug("[MediaModule.js][isBuffering]>> "),i},this.getDVRStatus=function(){if(emic.top.debug("[MediaModule.js][getDVRStatus]>> "),h==l&&e.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)return d.getDVRStatus()};var s=function(a,b){emic.top.debug("[MediaModule.js][_loadController]>> ",{type:a,callback:b}),d=g.getController(a),a==emic.top.MediaModule.CONTROLLER_TYPE_TRITON&&(window["triton_"+e.genericData.id]=!0),d?(d.addEventListener(emic.top.event.MediaEvent.ON_READY,b,this),d.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_CUE,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_METADATA,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_ERROR,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_START,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_AD_INSTREAM_END,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,t,this),d.addEventListener(emic.top.event.MediaEvent.ON_TAG,t,this),d.isReady()?d.reload():d.init(e)):emic.top.debug("[MediaModule.js][_loadController]>> ERROR, no existen controladores con ese identificador")};this.selectController=function(a,c){emic.top.debug("[MediaModule.js][selectController]>> ",{controllerPriority:a,tecPriorityPC:c});var d,e,f,g;if(getDevice().mobile)for(f=0;f<a.length&&(d=a[f],!w.apply(this,[d]));f++)d=!1;else for(g=0;g<c.length&&!d;g++)for(e=c[g],f=0;f<a.length&&(d=a[f],!u.apply(this,[d,e]));f++)d=!1;return d||(d=b.CONTROLLER_TYPE_HTML5NATIVE),emic.top.debug("[MediaModule.js][selectController]>> resultado: ",d),d};var t=function(a){switch(a.type!=emic.top.event.MediaEvent.ON_PROGRESS&&emic.top.debug("[MediaModule.js][_onControllerEvent]>> ",a.type),a.type){case emic.top.event.MediaEvent.ON_STATUS_CHANGE:f=a.data.status;break;case emic.top.event.MediaEvent.ON_VOLUME_CHANGE:e.internalData.currentVolume=a.data;break;case emic.top.event.MediaEvent.ON_PROGRESS:c=a.data.totalTime;break;case emic.top.event.MediaEvent.ON_BUFFER_EMPTY:i=!0;break;case emic.top.event.MediaEvent.ON_BUFFER_FULL:i=!1}a.id=e.mediaData.idTOP,this.dispatchEvent(a)},u=function(a,c){var d=!1;switch(c){case b.TECHNOLOGY_FLASH:d=v.apply(this,[a]);break;case b.TECHNOLOGY_HTML5:d=w.apply(this,[a])}return d},v=function(a){var c;switch(a){case b.CONTROLLER_TYPE_TRITON:case b.CONTROLLER_TYPE_AKAMAIHDS:case b.CONTROLLER_TYPE_AKAMAIHD:c=!0;break;case b.CONTROLLER_TYPE_HTML5NATIVE:c=!1;break;case b.CONTROLLER_TYPE_YT:case b.CONTROLLER_TYPE_DM:case b.CONTROLLER_TYPE_REAL_HLS:case b.CONTROLLER_TYPE_HLS:c=!0}return a!=b.CONTROLLER_TYPE_REAL_HLS&&(c&=swfobject.hasFlashPlayerVersion("10.0.0")),c},w=function(a){var c;switch(a){case b.CONTROLLER_TYPE_TRITON:c=!0;break;case b.CONTROLLER_TYPE_AKAMAIHDS:case b.CONTROLLER_TYPE_AKAMAIHD:c=!1;break;case b.CONTROLLER_TYPE_HTML5NATIVE:case b.CONTROLLER_TYPE_YT:case b.CONTROLLER_TYPE_DM:c=!0;break;case b.CONTROLLER_TYPE_REAL_HLS:case b.CONTROLLER_TYPE_HLS:c=!1}return c}}b.prototype=new psd.framework.EventDispatcher,b.TECHNOLOGY_FLASH="flash",b.TECHNOLOGY_HTML5="html5",b.CONTROLLER_TYPE_AKAMAIHDS="akamaihds",b.CONTROLLER_TYPE_AKAMAIHD="akamaihd",b.CONTROLLER_TYPE_TRITON="triton",b.CONTROLLER_TYPE_HTML5NATIVE="html5native",b.CONTROLLER_TYPE_YT="youtube",b.CONTROLLER_TYPE_DM="dailymotion",b.CONTROLLER_TYPE_HLS="hls",b.CONTROLLER_TYPE_REAL_HLS="Realhls",b.STATUS_PLAY="play",b.STATUS_PAUSE="pause",b.STATUS_INITIALIZING="initializing",b.STATUS_STOP="stop",b.STATUS_DVR_LIVE="playLive",b.STATUS_DVR_DEFERRED="playDVR",b.ERROR_NO_CONTAINER="01",b.ERROR_STATION_NOT_FOUND="STATION_NOT_FOUND",b.ERROR_LIVE_FAILED="LIVE_FAILED",b.ERROR_STREAM_GEO_BLOCKED="STREAM_GEO_BLOCKED",b.ERROR_TIMEOUT_ALERT="ERROR_TIMEOUT_ALERT",b.ERROR_TIMEOUT_REACH="ERROR_TIMEOUT_REACH",b.ERROR_STREAM_CONFIG_ERROR="ERROR_STREAM_CONFIG_ERROR",b.ERROR_STREAM_ERROR="ERROR_STREAM_ERROR",b.ERROR_CONFIGURATION_ERROR="ERROR_CONFIGURATION_ERROR",a.MediaModule=b}(emic.top),function(a){function b(){}b.prototype=new psd.framework.EventDispatcher,b.NETWORK_FACEBOOK="networkFacebook",b.NETWORK_TWITTER="networkTwitter",b.NETWORK_GOOGLEPLUS="networkGoogleplus",b.getUrlShare=function(a,c){emic.top.debug("[SocialModule.js][getUrlShare]>> ",{network:a,data:c});var d="",e="http://play.cadenaser.com/audio/"+c.mediaData.idTOP;switch(a){case b.NETWORK_FACEBOOK:d=encodeURI("https://www.facebook.com/sharer/sharer.php?u="+e);break;case b.NETWORK_TWITTER:d=encodeURI("https://twitter.com/intent/tweet?text="+c.mediaData.title+". "+c.mediaData.description+". &url="+e);break;case b.NETWORK_GOOGLEPLUS:d=encodeURI("https://plus.google.com/share?url="+e)}return d},a.SocialModule=b}(emic.top),function(a){function b(){psd.framework.EventDispatcher.call(this),this.infoEskup={},this.idTop=null;var a,b=this;this.setPlayer=function(b){a=b},this.getPlayer=function(){return a},this.notifyInitComplete=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_INIT_COMPLETE))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))},this.notifyOrderPlay=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAY))},this.notifyOrderPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PAUSE))},this.notifyOrderPlayPause=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE))},this.notifyOrderStop=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_STOP))},this.notifyOrderVolumeChange=function(a){var b=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE);b.data=a,this.dispatchEvent(b)},this.notifyOrderMute=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_MUTE))},this.notifyOrderFullScreen=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN))},this.notifyOrderSeekByProp=function(a){var b=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP);b.data=a,this.dispatchEvent(b)},this.notifyOrderSeekBySecs=function(a){var b=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS);b.data=a,this.dispatchEvent(b)},this.notifyOrderSeekLive=function(){var a=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE);this.dispatchEvent(a)},this.notifyOrderNext=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_NEXT))},this.notifyOrderPrev=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PREV))},this.notifyOrderShareFacebook=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK))},this.notifyOrderShareTwitter=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER))},this.notifyOrderShareGoogleplus=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS))},this.notifyOrderShareWhatsapp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP))},this.notifyOrderShareSubscribe=function(a){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE),ev.data=a,this.dispatchEvent(ev)},this.notifyOrderSwitchUp=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP))},this.notifyOrderSwitchDown=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN))},this.notifyOrderSwitchDirect=function(a){var b=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT);b.data=a,this.dispatchEvent(b)},this.notifyOrderShareExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL))},this.notifyOrderEmbedExternal=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL))},this.notifyOrderExternal=function(a,b){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_EXTERNAL),ev.data.order=a,ev.data.params=b,this.dispatchEvent(ev)},this.notifyOrderReset=function(a){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RESET),ev.data=a,this.dispatchEvent(ev)},this.notifyOrderChangeLive=function(a,b){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE),"boolean"==typeof b&&(ev.botonIrDirecto=b),ev.data=a,this.dispatchEvent(ev)},this.notifyOrderButton=function(a){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BUTTON),ev.data=a,this.dispatchEvent(ev)},this.notifyOrderRRSS=function(a){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_RRSS),ev.data=a,this.dispatchEvent(ev)},this.notifyOrderInicioCompartir=function(a){ev=new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR),ev.data=a,this.dispatchEvent(ev)},this.init=function(a){},this.reset=function(){},this.resize=function(a,b){},this.onProgress=function(a){},this.onVolumeChange=function(a){},this.onStatusChange=function(a){},this.onMetadata=function(a){},this.onCue=function(a){},this.onError=function(a,b){},this.onSwitchRequest=function(a){},this.onSwitchComplete=function(a){},this.requestFullScreen=function(){},this.cancelFullScreen=function(){},this.onSeekStart=function(a){},this.onSeekComplete=function(a){},this.onBufferEmpty=function(){},this.onBufferFull=function(){},this.onRenditions=function(){},this.externalOrder=function(a,b){},this.statusChangeAd=function(a){},this.onPositionChange=function(a){},this.showLoading=function(a){},this.secondsAsTimeCode=function(a,b){var c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f="";return c<10&&(c="0"+c),d<10&&(d="0"+d),e<10&&(e="0"+e),null==b?f=c+":"+d+":"+e:(f=c<1?b.replace("hh:",""):b.replace("hh",c),f=f.replace("mm",d),f=f.replace("ss",e)),f},this.getPosition=function(a){for(var b=0,c=0;a;)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,c+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return{x:b,y:c}},this.showByName=function(a){var b;b=document.getElementById(a),this.show(b)},this.hideByName=function(a){document.getElementById(a),this.show(hide)},this.show=function(a){a&&(a.style.display="")},this.hide=function(a){a&&(a.style.display="none")},this.loadEskupInfo=function(a){if(null==a||""==a)return!1;this.idTop=a;var b=new psd.framework.parser.JSONParser,e=new psd.framework.Mediator,f="http://cadenaser.com/ThreadeskupSimple?action=info&th="+a+"&f=jsonp&1";e.corsIE(!0),e.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,c,this),e.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,d,this),e.mediate(f,b,psd.framework.Mediator.RESPONSE_JSONP)},this.loadNComentarios=function(){},callbackThreadeskup=function(a){b.infoEskup=a,b.loadNComentarios()};var c=function(a){0==a.result.parserResult.code||(a.result.parserResult.code,_CODE_NUM_PARSER_ERROR)},d=function(a){};this.recolocarIE8=function(){if(null!=psd.framework.ua.msie&&psd.framework.ua.msie&&parseInt(psd.framework.ua.version)<9)for(calcs=$(".calc_pcom"),i=0;i<calcs.length;i++)for(clasesString=calcs[i].className,clases=clasesString.split(" "),j=0;j<clases.length;j++)parseInt(clases[j])&&clases[j].indexOf("width")>0&&(elemento=calcs[i],elemento.style.width="100%",nuevotam=calcs[i].offsetWidth-parseInt(clases[j])+"px",elemento.style.width=nuevotam),parseInt(clases[j])&&clases[j].indexOf("height")>0&&(elemento=calcs[i],elemento.style.height="100%",nuevotam=calcs[i].offsetHeight-parseInt(clases[j])+"px",elemento.style.height=nuevotam),parseInt(clases[j])&&clases[j].indexOf("left")>0&&(elemento=calcs[i],elemento.style.left="100%",nuevotam=calcs[i].offsetLeft-parseInt(clases[j])+"px",elemento.style.left=nuevotam)}}b.prototype=new psd.framework.EventDispatcher,a.UISkinBase=b}(emic.top.ui),function(a){function b(){var a=null,b=null,c=null,d={color1:"#333",color2:"#888",color1over:"#fdbe00",background:"#ddd",lineWidth:3,lineSeparation:2,bottom:3,colorover:"#feeaab",colorloaded:"#444"},e=!1,f=0,g=0,h=0,j=[],k=0,l=0,m=0,n=null,o=!1,p=0;this.PROFILE_SIN="profile_sin",this.PROFILE_LINEAR="profile_linear",this.PROFILE_EQUAL="profile_equal",this.PROFILE_WAVE="profile_wave",this.PROFILE_RANDOM="profile_random",this.PROFILE_REAL="profile_real";var q=null,r=[],s=0,t=!1,u=0,v=this,w=!1;this.init=function(d,e){a=d,document.getElementById(d).innerHTML="<canvas id='canvas_"+d+"' style='width:100%;height:100%;'></canvas>",b=document.getElementById("canvas_"+d),c=b.getContext("2d"),this.configureStyle(e)},this.setdirecto=function(a){w=a},this.setMirror=function(a){t=a||!t},this.setRound=function(a){u=a},this.getRound=function(){return u},this.configureStyle=function(a){var b;if(a)for(b in a)d[b]=a[b];this.resize(),this.setProfile(q)},this.getStyle=function(){return d},this.setProfile=function(a){for(q=a,r=[],i=0;i<l;i++)r[i]=b.height/2},this.getProfile=function(){return q},this.doProfile=function(a){var c;s++;var d=[];for(c in r)d[c]=r[c];if(o)return o=!1,d;switch(q){case this.PROFILE_REAL:var c,e,f=Math.floor(l/2),g=0,h=.5;for(s%5==0&&(d[f]=100*Math.random()+50),d[f]-=8,c=f-1;c>-1;c--)g++,h=g<5?.1*Math.random():.05*Math.random(),d[c]=d[c+1]-h*(l-c),d[c]<5&&(d[c]=5);for(g=0,c=f+1;c<l;c++)g++,h=g<5?.1*Math.random():.05*Math.random(),d[c]=d[c-1]-h*c,d[c]<5&&(d[c]=5);break;case this.PROFILE_EQUAL:for(c in r)r[c]>b.height/2?d[c]-=3:r[c]<b.height/2?d[c]+=3:d[c]+=4*Math.random();s%20&&(d[Math.floor(Math.random()*l)]+=50*Math.random());break;case this.PROFILE_LINEAR:for(c in r)d[c]=r[c];break;case this.PROFILE_SIN:e=0;for(c in r)e++,d[c]=b.height/2+Math.sin(e)*Math.sin(s)*10;break;case this.PROFILE_RANDOM:for(c in r)d[c]=b.height/2+35*Math.sin(6*Math.random());break;case this.PROFILE_WAVE:e=0;for(c in r)s++,d[c]=b.height/2+10*Math.sin(s)}for(c in d)d[c]<5&&(d[c]=5);return d},this.setProgress=function(a){f=a},this.setProgressLoaded=function(a){null!=a&&(h=a)},this.setProgressOver=function(a,b){null!=a&&(g=a,null!=b&&(m=b))},this.setValues=function(a){j=a},this.resize=function(){var a;for(b.width=b.offsetWidth,k=parseInt(d.lineWidth)+parseInt(d.lineSeparation),l=Math.floor(parseInt(b.width)/k),r=[],a=0;a<l;a++)r[a]=b.height/2},this.timeout=function(){p!=b.offsetWidth&&(v.resize(),p=b.offsetWidth),v.paint()},this.play=function(a){e=!1,this.timeout(),null==n&&(n=setInterval(this.timeout,a))},this.pause=function(){var a;e=!0;for(a in r)r[a]=5;this.paint(!0),o=!0,clearInterval(n),n=null},this.paint=function(a){var e;c.fillStyle=d.background,c.clearRect(0,0,b.width,b.height),c.fillRect(0,0,b.width,b.height);var i=b.width*g/100+m,n=b.width*h/100,o=b.width*f/100;w&&(o=0,n=0,i=0);var p=0,s=0;if(r=null!=q?this.doProfile():j,a)for(e in r)r[e]=5;if(u>0)for(e in r)r[e]=Math.floor(r[e])-r[e]%u;for(e=0;e<l;e++)p=e*k,s=r[Math.floor(r.length/(l/e))],p<o?c.fillStyle=p<i?d.color1over:d.color1:(c.fillStyle=p<n?d.colorloaded:d.color2,p<i&&(c.fillStyle=d.colorover)),t?c.fillRect(p,b.height/2+s/2,d.lineWidth,-s):c.fillRect(p,b.height-d.bottom,d.lineWidth,-s);w||(c.fillStyle="gold",c.fillRect(o,b.height-5,d.lineWidth,-40))}}a.Bumetro=b}(emic.top.ui),function(a){function b(){var a=null,b=null,c=0,d=0,e=6,f=10;this.enabled=!0,this.init=function(g,h){if(a=document.getElementById(g),void 0==h)return void(this.enabled=!1);b=document.createElement("img"),b.src=h,b.onload=function(){c=a.offsetWidth>0?a.offsetWidth:parseInt(a.style.width),d=a.offsetHeight>0?a.offsetHeight:parseInt(a.style.height),a.style.backgroundSize=c*f+"px "+d*e+"px",a.style.backgroundImage="url('"+h+"')",a.style.position="0 0"}},this.paint=function(b){if(this.enabled){var e=60*b/100|0,f=e/10|0,g=e%10|0;a.style.backgroundPositionX=-g*c,a.style.backgroundPositionY=-f*d,a.style.backgroundPosition=-g*c+"px "+-f*d+"px"}},this.resetSize=function(){this.enabled&&(a.style.backgroundSize=a.offsetWidth*f+"px "+a.offsetHeight*e+"px",c=a.offsetWidth,d=a.offsetHeight)}}a.Mosaic=b}(emic.top.ui),function(a){function b(a,b,c,d,e,f,g){"string"==typeof a&&(a=document.getElementById(a)),"string"==typeof b&&(b=document.getElementById(b)),this.container=a,this.el=b,this.onStart=c,this.onSeek=d,this.onFinish=e,this.min=f,this.max=g,that=this,void 0!==this.onStart&&null!=this.onStart||(this.onStart=function(){}),void 0!==this.onSeek&&null!=this.onSeek||(this.onSeek=function(){}),void 0!==this.onFinish&&null!=this.onFinish||(this.onFinish=function(){});var h=0;this.value=0,this.registrarDrag=function(){this.container.addEventListener("touchstart",function(a){return that.onStart(),a=a||window.event,a=a.targetTouches[0],h=a.pageX?a.pageX:a.clientX,!0}),this.container.addEventListener("touchmove",function(a){a=a||window.event,a=a.targetTouches[0];var b=a.pageX?a.pageX:a.clientX;that.value=b-h,h=b;var c=parseInt(that.el.style.left)+that.value;return c<f&&(c=f),c>g&&(c=g),that.el.style.left=c+"px",that.onSeek(that.value),!0}),this.container.addEventListener("touchend",function(){return that.onFinish(that.value),!0})}}function c(a,b,c,d,e){this.el=a,this.parent=b,this.onStart=c,this.onSeek=d,this.onFinish=e,this.registrarDragFromParent=function(){""==this.parent.style.left&&(this.parent.style.left="0px")&&this.registrarDrag(this.el,parseInt(this.parent.style.left),parseInt(this.parent.offsetWidth),this.onStart,this.onSeek,this.onFinish)},this.registrarDrag=function(a,b,c,d,e,f){a.onmousedown=function(c){d(),c=c||window.event,""==a.style.left&&(a.style.left="0px");var g=parseInt(a.style.left),h=0,i=0;c.pageX?h=c.pageX:c.clientX&&(h=c.clientX),a.style.position="relative",document.body.onmousemove=function(c){var d=e();c=c||window.event;var f=0;c.pageX?f=c.pageX:c.clientX&&(f=c.clientX),i=f-h,a.style.left=g+i+"px",null!=d&&parseInt(a.style.left)+parseInt(a.offsetWidth)>d&&(a.style.left=d-parseInt(a.offsetWidth)+"px"),null!=b&&parseInt(a.style.left)<b&&(a.style.left=b)},document.body.onmouseup=function(){f(),document.body.onmousemove=document.body.onmouseup=null}},a.addEventListener("touchstart",function(c){console.log("touch start"),d(),c=c||window.event,c=c.targetTouches[0],""==a.style.left&&(a.style.left="0px");var g=parseInt(a.style.left),h=0,i=0;c.pageX?h=c.pageX:c.clientX&&(h=c.clientX),a.style.position="relative",a.addEventListener("touchmove",function(c){console.log("touch move");var d=e();c=c||window.event,c=c.targetTouches[0];var f=0;c.pageX?f=c.pageX:c.clientX&&(f=c.clientX),i=f-h,a.style.left=g+i+"px",null!=d&&parseInt(a.style.left)+parseInt(a.offsetWidth)>d&&(a.style.left=d-parseInt(a.offsetWidth)+"px"),null!=b&&parseInt(a.style.left)<b&&(a.style.left=b)}),a.addEventListener("touchend",function(){console.log("touch end"),f()})})}}a.DragContainer=b,a.Drag=c}(emic.top.ui),function(a){Transcription=function(a,b,c){var d=this;!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}if("function"==typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype,window.CustomEvent=a}(),this.minWidth=600,this.palabras=[],this.frases=[],this.spans=[],this.speakers=[];var e,f,g=!1,h=!0,k=function(a,b,c){var d="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.open("get",a,!0),d.onreadystatechange=function(){var a,e;4==d.readyState&&(a=d.status,200==a?(e=JSON.parse(d.responseText),b&&b(e)):c&&c(a))},d.send()},l=a,m=0,p=[],q=document.createElement("ul");return q.style.position="absolute",q.style.width="100%",q.style.top="0",q.className="mm_back",l.innerHTML="",l.appendChild(q),this.exists=function(a){for(var b=!0,c=a[0],d=1;d<a.length-1;d++)b&&void 0!==c[a[d]]?c=c[a[d]]:b=!1;return b},this.generateSpans=function(a,b){if(document.getElementById(a).innerHTML="",this.exists([e,"data",0,"transcription","wordlist"])){for(var c in e.data[0].transcription.wordlist){var f=e.data[0].transcription.wordlist[c],h=document.createElement("span");h.innerHTML=" "+f.content,h.style.cursor="pointer",function(a){h.onclick=function(){for(var c in d.spans)d.spans[c].style.color="black";b.seek(a.stime)}}(f),document.getElementById(a).appendChild(h),this.spans[this.spans.length]=h}g=!0}},this.createLineas=function(){0==c?(f=this.frases,q.className="transition",q.style.textAlign="left"):(f=this.palabras,q.className="transition",q.style.textAlign="center"),q.innerHTML="",p=[];for(var a in f)if(void 0!=f[a].text){var b=document.createElement("li"),d=document.createElement("span");d.innerHTML=f[a].text,b.appendChild(d),p[p.length]=b,q.appendChild(b)}this.getIndex(10);var e=new CustomEvent("ready",{});l.dispatchEvent(e)},this.addEventListener=function(a,b){l.addEventListener(a,b)},this.removeEventListener=function(a){l.removeEventListener(a,function(){})},this.setType=function(a){c=a,this.createLineas()},this.getIndex=function(a){if(h){try{for(var b in f)b<f.length&&f[b].startm<a&&f[b].endm>a&&(m=b)}catch(a){console.log(a)}this.paint()}},this.updatespans=function(){if(1==c)for(var a in this.spans)this.spans[a].style.color="black";else for(var a in this.spans)this.spans[a].style.color="black"},this.setEnabled=function(a){l.style.display=a?"block":"none"},this.paint=function(){if(h&&0!=p.length){l.offsetWidth<this.minWidth?0==c&&this.setType(1):1==c&&this.setType(0),g&&this.updatespans();var a,b=p[m],d=m>0?p[m-1]:p[m];m<p.length-1?a=p[parseInt(m)+1]:(a=p[p.length-1],!0);for(i in p)p[i].className="";void 0!==d&&(d.className="anterior"),void 0!==a&&(a.className="siguiente"),void 0!==b&&(b.className="activo");var e=l.offsetHeight,f=(q.offsetHeight,b.offsetHeight),j=b.offsetTop;q.style.top=e/2-j-f/2+"px"}},"function"==typeof window.onresize?this.preResize=window.onresize:this.preResize=function(){},window.onresize=function(){d.preResize(),d.paint()},this.getSpeakers=function(){var a="";for(var b in d.speakers)void 0!==d.speakers[b].description&&(""!=d.speakers[b].description?a+=d.speakers[b].description+";":""!=d.speakers[b].idref&&(a+=d.speakers[b].idref+";"));return a+="---",a=a.replace(";---","").replace("---","")},this.onDataLoaded=function(a){function b(a){return void 0!==a?a.replace(/^\s+|\s+$/g,""):""}if(e=a,void 0===a.data[0]){h=!1;var c=new CustomEvent("notranscription",{});return l.dispatchEvent(c),""}var c=new CustomEvent("transcriptionready",{});l.dispatchEvent(c);var d=a.data[0].srt;if(this.speakers=e.data[0].speakers,null==d){h=!1;var c=new CustomEvent("notranscription",{});return l.dispatchEvent(c),""}srt=d.replace(/\r\n|\r|\n/g,"\n"),srt=b(srt);var f=srt.replace("\n\n\n","\n\n").split("\n\n"),g=[];for(w=0;w<f.length;w++){var k=w;if(st=f[k].split("\n"),st.length>=2){if(n=st[0],i=b(st[1].split(" --\x3e ")[0]),o=b(st[1].split(" --\x3e ")[1]),t=st[2],st.length>2)for(j=3;j<st.length;j++)t+="\n"+st[j];g[w]={},g[w].number=n,g[w].start=i,g[w].end=o,g[w].text=t;var m=i.split(","),p=m[0].split(":"),q=parseInt(m[1])+1e3*parseInt(p[2])+1e3*parseInt(p[1])*60+1e3*parseInt(p[0])*60*60,r=o.split(","),s=r[0].split(":"),u=parseInt(r[1])+1e3*parseInt(s[2])+1e3*parseInt(s[1])*60+1e3*parseInt(s[0])*60*60;g[w].startm=q,g[w].endm=u}}this.frases=g;var v=[];for(var w in a.data[0].transcription.wordlist){var x=a.data[0].transcription.wordlist[w];v[w]={},v[w].number=w,v[w].start="",v[w].end="",v[w].text=x.content,v[w].startm=1e3*parseFloat(x.stime),v[w].endm=1e3*parseFloat(x.stime)+parseFloat(1e3*x.dur)}this.palabras=v,this.createLineas()},k(b,function(a){d.onDataLoaded(a)},function(){console.log("Error leyendo datos")}),this},a.Transcription=Transcription}(emic.top.ui),function(a){function b(){psd.framework.EventDispatcher.call(this),this.init=function(){},this.reset=function(){},this.kill=function(){},this.notifyPreviewReady=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_PREVIEW_READY))},this.notifyOrderBegin=function(){this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN))}}b.prototype=new psd.framework.EventDispatcher,a.UIPreviewBase=b}(emic.top.ui),function(a){function b(){emic.top.ui.UIPreviewBase.call(this);var a,b,c;this.init=function(d){a=d,b=document.getElementById(a.internalData.previewContainer),b.style["background-color"]="black",c=document.createElement("img"),c.setAttribute("src",a.uiData.poster),c.setAttribute("width",a.genericData.width),c.setAttribute("height",a.genericData.height),b.onclick=function(a){return function(){a.notifyOrderBegin()}}(this),c.onload=function(a){return function(){}}(),b.appendChild(c),this.notifyPreviewReady()},this.reset=function(){c.setAttribute("src",a.uiData.poster)},this.kill=function(){b.removeChild(c)}}b.prototype=new emic.top.ui.UIPreviewBase,a.TopPreview_generic=b}(emic.top.ui),function(a){function b(){this.skinDirNames=[],this.skinDirNames[emic.top.UIModule.SKIN_MERISTATION]=["meristation","meristation"],this.skinDirNames[emic.top.UIModule.SKIN_HUFFINGTON]=["huff","huff"],this.skinDirNames[emic.top.UIModule.SKIN_TRANSPARENT]=["transparent","transparent"],this.skinDirNames[emic.top.UIModule.SKIN_SMODA]=["smoda","smoda"],this.skinDirNames[emic.top.UIModule.SKIN_LOS40]=["los40","los40"],this.skinDirNames[emic.top.UIModule.SKIN_PSV2]=["psv2","PSv2"],this.skinDirNames[emic.top.UIModule.SKIN_CSV2]=["csv2","CSv2"],this.skinDirNames[emic.top.UIModule.SKIN_GENERICV2]=["genericv2","genericv2"],this.skinDirNames[emic.top.UIModule.SKIN_ELPAIS]=["elpais","elpais"],this.skinDirNames[emic.top.UIModule.SKIN_LATAM]=["latam","latam"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER]=["playser","playser"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER2]=["playser2","playser2"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_DETALLE]=["playser_det","playser_det"],this.skinDirNames[emic.top.UIModule.SKIN_PLAYSER_PEP]=["playser_pep","playser_pep"],this.skinDirNames[emic.top.UIModule.SKIN_VIDEOGENERIC]=["videogeneric","videogeneric"],this.skinDirNames[emic.top.UIModule.SKIN_PODCASTS]=["podcasts","podcasts"],this.skinDirNames[emic.top.UIModule.SKIN_HERTZ]=["hertz","Hertz"],this.skinDirNames[emic.top.UIModule.SKIN_EPPODCAST]=["eppodcast","EPpodcast"],this.skinDirNames[emic.top.UIModule.SKIN_ONEPLAYER]=["oneplayer","oneplayer"],this.getSkin=function(a){var b;switch(a){case emic.top.UIModule.SKIN_GENERIC_FENIX:b=new emic.top.ui.SkinFenix(a);break;case emic.top.UIModule.SKIN_TEST:b=new emic.top.ui.TopSkin_test;break;case emic.top.UIModule.SKIN_PLAYSER_PEP:b=new emic.top.ui.TopSkin_playser_pep;break;case emic.top.UIModule.SKIN_PLAYSER_DETALLE:b=new emic.top.ui.TopSkin_playser_det;break;case emic.top.UIModule.SKIN_PLAYSER:b=new emic.top.ui.TopSkin_playser;break;case emic.top.UIModule.SKIN_PLAYSER2:b=new emic.top.ui.TopSkin_playser2;break;case emic.top.UIModule.SKIN_LUIS:b=new emic.top.ui.TopSkin_luis;break;case emic.top.UIModule.SKIN_MERISTATION:b=new emic.top.ui.TopSkin_meristation;break;case emic.top.UIModule.SKIN_HUFFINGTON:b=new emic.top.ui.TopSkin_huff;break;case emic.top.UIModule.SKIN_TRANSPARENT:b=new emic.top.ui.TopSkin_transparent;break;case emic.top.UIModule.SKIN_SMODA:b=new emic.top.ui.TopSkin_smoda;break;case emic.top.UIModule.SKIN_LOS40:b=new emic.top.ui.TopSkin_los40;break;case emic.top.UIModule.SKIN_PSV2:b=new emic.top.ui.TopSkin_PSv2;break;case emic.top.UIModule.SKIN_CSV2:b=new emic.top.ui.TopSkin_CSv2;break;case emic.top.UIModule.SKIN_GENERICV2:b=new emic.top.ui.TopSkin_genericv2;break;case emic.top.UIModule.SKIN_PMETA:b=new emic.top.ui.TopSkin_PMETA;break;case emic.top.UIModule.SKIN_ELPAIS:b=new emic.top.ui.TopSkin_elpais;break;case emic.top.UIModule.SKIN_LATAM:b=new emic.top.ui.TopSkin_latam;break;case emic.top.UIModule.SKIN_VIDEOGENERIC:b=new emic.top.ui.TopSkin_videogeneric;break;case emic.top.UIModule.SKIN_PODCASTS:b=new emic.top.ui.TopSkin_podcasts;break;case emic.top.UIModule.SKIN_HERTZ:b=new emic.top.ui.TopSkin_hertz;break;case emic.top.UIModule.SKIN_EPPODCAST:b=new emic.top.ui.TopSkin_EPpodcast;break;case emic.top.UIModule.SKIN_ONEPLAYER:b=new emic.top.ui.TopSkin_oneplayer;break;default:b=new emic.top.ui.TopSkin_playser}return b},this.getPreview=function(a){var b;switch(a){case emic.top.UIModule.SKIN_TEST:default:b=new emic.top.ui.TopPreview_generic}return b}}a.UIFactory=b}(emic.top.ui),function(a){function b(a){psd.framework.EventDispatcher.call(this);var b=a,c=new emic.top.ui.UIFactory;b.internalData.UIFactory=c;var d,e,f,g=!1,h=[],j=function(a){switch(emic.top.debug("[UIModule.js][_skinHandler]>> ",a.type),a.type){case emic.top.event.UIEvent.ON_ORDER_PLAY:case emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE:b.internalData.position==emic.top.TopPlayer.POSITION_PREVIEW?this.dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_BEGIN)):this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_ORDER_BEGIN:case emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE:this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK:"playserPEP"!=b.uiData.skin&&"playserDetalle"!=b.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_FACEBOOK,b)),this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER:"playserPEP"!=b.uiData.skin&&"playserDetalle"!=b.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_TWITTER,b)),this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS:"playserPEP"!=b.uiData.skin&&"playserDetalle"!=b.uiData.skin||window.open(emic.top.SocialModule.getUrlShare(emic.top.SocialModule.NETWORK_GOOGLEPLUS,b)),this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP:case emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE:case emic.top.event.UIEvent.ON_ORDER_BUTTON:case emic.top.event.UIEvent.ON_ORDER_RSS:case emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR:this.dispatchEvent(a);break;case emic.top.event.UIEvent.ON_INIT_COMPLETE:g=!0,this.dispatchEvent(a);break;default:this.dispatchEvent(a)}},k=function(a){switch(emic.top.debug("[UIModule.js][_previewHandler]>> ",a.type),a.type){case emic.top.event.UIEvent.ON_ORDER_BEGIN:this.dispatchEvent(a)}},l=function(){emic.top.debug("[UIModule.js][_initPreview]>> "),b.uiData.showPreview&&(e=c.getPreview(b.uiData.preview))&&(e.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,k,this),e.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,k,this),e.init(b))};this.externalNotify=function(a,b,c){emic.top.debug("[UIModule.js][externalNotify]>> ",{type:a,data:b,id:c});var d=new emic.top.event.UIEvent(a);b&&(d.data=b),c&&(d.id=c),j.apply(this,[d])},this.setPlayer=function(a){f=a},this.getPlayer=function(){return f},this.loadSkin=function(a){var d=void 0;if(void 0!=c.skinDirNames[a]&&(d=c.skinDirNames[a]),void 0==d)return void emic.top.debug("No existe el skin asociado al tipo",a);var e=document.createElement("script"),f=b.genericData.urlBase?b.genericData.urlBase:"";"undefined"==typeof tplib?e.src=f+"/psdmedia/media/top/skins/"+d[0]+"/TopSkin_"+d[1]+".min.js":e.src=f+"/psdmedia/media/top/skins/"+d[0]+"/TopSkin_"+d[1]+".lib.js",e.type="text/javascript",e.onload=function(a){return function(){a.onSkinLoaded()}}(this),document.getElementsByTagName("head")[0].appendChild(e)},this.init=function(){emic.top.debug("[UIModule.js][init]>> "),this.loadSkin(b.uiData.skin)},this.getget=function(a){return d[a],d[a]},this.createPlayerViewReset=function(a){d.setPlayerviewReset(a)},this.createPlayerView=function(a,d){var e=b.uiData.skin;d&&(window._aux_playerviewinfo=d);var f=c.getSkin(e);if(void 0===f.playerViewCompatible||1!=f.playerViewCompatible)return void emic.top.debug("El skin "+e+" no es compatible con PlayerViews");if(f.soyPlayerView=!0,f.enabled=!0,f.setPlayer(this.getPlayer()),f){f.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,j,this),f.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,j,this);var g={};for(i in b)g[i]=b[i];g.internalData.skinContainer=a,g.genericData.id=a,f.init(g),h[h.length]=f}},this.getSkin=function(){return d},this.onSkinLoaded=function(){d=c.getSkin(b.uiData.skin),d.setPlayer(this.getPlayer()),d&&(d.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_EXTERNAL,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_EMBED_EXTERNAL,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_EXTERNAL,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,j,this),d.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,j,this),g=!1,d.init(b)),l.apply(this)},this.externalOrder=function(a,b){emic.top.debug("[UIModule.js][externalOrder]>> ",{order:a,params:b}),d&&d.externalOrder(a,b);for(var c in h)h[c].enabled&&h[c].externalOrder(a,b)},this.reset=function(){emic.top.debug("[UIModule.js][reset]>> "),d&&void 0!==d.reset_skin&&d.reset_skin(),e?b.uiData.showPreview?e.reset():(e.kill(),e=void 0):b.uiData.showPreview&&l.apply(this),d&&g&&d.reset();for(var a in h)h[a].enabled&&h[a].reset()},this.clear=function(){emic.top.debug("[UIModule.js][clear]>> "),e&&e.reset(),d&&g&&d.reset();for(var a in h)h[a].enabled&&h[a].reset()},this.onPositionChange=function(a){emic.top.debug("[UIModule.js][onPositionChange]>> ",a),d&&d.onPositionChange(a);for(var b in h)h[b].enabled&&h[b].onPositionChange(a)},this.showLoading=function(a){emic.top.debug("[UIModule.js][showLoading]>> ",a),d&&g&&d.showLoading(a);for(var b in h)h[b].enabled&&h[b].showLoading(a)},this.setPlayerViewsEnabled=function(a,b){if(void 0===b)for(var c=0;c<h.length;c++)h[c].enabled=a;else h.length<a&&(h[a].enabled=b)},this.onStatusChange=function(a){if(emic.top.debug("[UIModule.js][onStatusChange]>> ",a),d){d.onStatusChange(a);for(var b in h)h[b].enabled&&h[b].onStatusChange(a)}},this.onVolumeChange=function(a){emic.top.debug("[UIModule.js][onVolumeChange]>> ",a),d&&d.onVolumeChange(a);for(var b in h)h[b].enabled&&h[b].onVolumeChange(a)},this.onProgress=function(a){d&&d.onProgress(a);for(var b in h)h[b].enabled&&h[b].onProgress(a)},this.onMetadata=function(a){emic.top.debug("[UIModule.js][onMetadata]>> ",a),d&&d.onMetadata(a);for(var b in h)h[b].enabled&&h[b].onMetadata(a)},this.onCue=function(a){emic.top.debug("[UIModule.js][onCue]>> ",a),d&&d.onCue(a);for(var b in h)h[b].enabled&&h[b].onCue(a)},this.onError=function(a,b){emic.top.debug("[UIModule.js][onError]>> ",{msg:a,code:b}),d&&d.onError(a,b);for(var c in h)h[c].enabled&&h[c].onError(a,b)},this.onSwitchRequest=function(a){emic.top.debug("[UIModule.js][onSwitchRequest]>> ",a),d&&d.onSwitchRequest(a)},this.onSwitchComplete=function(a){emic.top.debug("[UIModule.js][onSwitchComplete]>> ",a),d&&d.onSwitchComplete(a)},this.onSeekStart=function(a){emic.top.debug("[UIModule.js][onSeekStart]>> ",a),d&&d.onSeekStart(a);for(var b in h)h[b].enabled&&h[b].onSeekStart(a)},this.onSeekComplete=function(a){emic.top.debug("[UIModule.js][onSeekComplete]>> ",a),d&&d.onSeekComplete(a);for(var b in h)h[b].enabled&&h[b].onSeekComplete(a)},this.onBufferEmpty=function(){emic.top.debug("[UIModule.js][onBufferEmpty]>> "),d&&d.onBufferEmpty()},this.onBufferFull=function(){emic.top.debug("[UIModule.js][onBufferFull]>> "),d&&d.onBufferFull()},this.onRenditions=function(a){emic.top.debug("[UIModule.js][onRenditions]>> "),d&&d.onRenditions(a)},this.setRatio=function(a,c){var d=document.getElementById(b.genericData.container);d.style.height=d.offsetWidth*c/a+"px"}}b.prototype=new psd.framework.EventDispatcher,b.SKIN_GENERIC_FENIX="generic_f",b.SKIN_TEST="test",b.SKIN_PLAYSER_PEP="playserPEP",b.SKIN_PLAYSER_DETALLE="playserDetalle",b.SKIN_PLAYSER="playser",b.SKIN_PLAYSER2="playser2",b.SKIN_LUIS="luis",b.SKIN_MERISTATION="meristation",b.SKIN_HUFFINGTON="huffingtonpost",b.SKIN_TRANSPARENT="transparent",b.SKIN_SMODA="smoda",b.SKIN_LOS40="los40videos",b.SKIN_PSV2="psv2",b.SKIN_CSV2="csv2",b.SKIN_GENERICV2="genericv2",b.SKIN_PMETA="pmeta",b.SKIN_ELPAIS="elpais",b.SKIN_LATAM="latam",b.SKIN_VIDEOGENERIC="videogeneric",b.SKIN_PODCASTS="podcasts",b.SKIN_HERTZ="hertz",b.SKIN_EPPODCAST="eppodcast",b.SKIN_ONEPLAYER="oneplayer",b.PREVIEW_GENERIC="generic",a.UIModule=b}(emic.top),function(a){function b(a){psd.framework.EventDispatcher.call(this);var c,d,e,f,g=500,h=a,i=!1,j=!1,k="",l=!1,m={},n=!1,o="",p=0,q=emic.publicidad.events.PubliEvent,r=function(){emic.top.debug("[AdModule.js][_init]>> Ready?: ",i);var a;if(i){var b=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);b.idMedia=h.mediaData.idTOP,this.dispatchEvent(b)}else c=new emic.publicidad.PubliManager,this.manager=c,c.addEventListener(q.MANAGER_READY,t,this),c.addEventListener(q.CONTROLLER_LOADED,t,this),c.addEventListener(q.MANAGER_INIT_ERROR,t,this),c.addEventListener(q.PUBLI_STARTED,t,this),c.addEventListener(q.PUBLI_PAUSED,t,this),c.addEventListener(q.PUBLI_RESUMED,t,this),c.addEventListener(q.PUBLI_ENDED,t,this),c.addEventListener(q.PUBLI_SKIPPED,t,this),c.addEventListener(q.ALL_PUBLI_ENDED,t,this),c.addEventListener(q.PUBLI_LOADED,t,this),c.addEventListener(q.PUBLI_ERROR,t,this),c.addEventListener(q.CONTENT_PAUSE_REQUESTED,t,this),c.addEventListener(q.CONTENT_RESUME_REQUESTED,t,this),v(h.adData.conf),d=h.adData.conf,l=!0,a={urlConfPubli:d,width:h.genericData.width,height:h.genericData.height,objContentPublisher:h.internalData.mediaElement},emic.top.debug("[AdModule.js][_init]>> Solicitada inicialización del manager publicitario con: ",{container:h.adData.container,adObj:a,id:h.genericData.id,urlBase:h.genericData.urlBase}),c.start(h.adData.container,a,h.genericData.id,h.genericData.urlBase)},s=function(){emic.top.debug("[AdModule.js][_initComplete]>> "),i=!0,l=!1;var a=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_READY);a.idMedia=h.mediaData.idTOP,this.dispatchEvent(a),j&&(this.notificaEstadoOn(j),j=!1)},t=function(a){emic.top.debug("[AdModule.js][_managerHandler]>> ",{type:a.type});var d;switch(a.type){case q.MANAGER_READY:e&&clearInterval(e),getDevice().mobile&&"undefined"!=typeof _advert?c.preloadController(emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5):s.apply(this);break;case q.CONTROLLER_LOADED:s.apply(this);break;case q.MANAGER_INIT_ERROR:l=!1,d=new emic.top.event.AdEvent(emic.top.event.AdEvent.ON_INIT_ERROR),d.idMedia=h.mediaData.idTOP,this.dispatchEvent(d);break;case q.ALL_PUBLI_ENDED:e&&clearInterval(e),n&&(d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_POSITION_END,d.data.position=k,d.contentType=a.data.contentType,this.dispatchEvent(d),n=!1,k="",o=b.STATUS_STOP,h.mediaData.duration=p);break;case q.PUBLI_STARTED:h.mediaData.premuted?getDevice().mobile||c.setVolume(0):c.setVolume(h.internalData.currentVolume),p=h.mediaData.duration,h.mediaData.duration=1e3*a.data.internalData.g.duration,n=!0,void 0!==a.data.internalData.g.skippable&&(h.adData.skippable=a.data.internalData.g.skippable),void 0!==a.data.internalData.g.skipTimeOffset&&(h.adData.skippableTime=a.data.internalData.g.skipTimeOffset),void 0!==a.data.internalData.g.duration&&(h.adData.duration=a.data.internalData.g.duration),d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_VIDEO_START,d.data={},d.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,d.data.position=k,d.data.name=name=a.data.name,d.contentType=contentType=a.data.contentType,d.idMedia=h.mediaData.idTOP,void 0!==a.data.internalData.g.duration&&(d.data.duration=a.data.internalData.g.duration,f=a.data.internalData.getAdPodInfo(),d.data.cantAds=f.getTotalAds()),this.dispatchEvent(d),o=b.STATUS_PLAY,e=setInterval(function(a){return function(b){u.apply(a,[name,contentType])}}(this),g);break;case q.PUBLI_PAUSED:d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE,d.data={},d.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,d.data.position=k,d.data.name=name=a.data.name,d.contentType=contentType=a.data.contentType,d.idMedia=h.mediaData.idTOP,this.dispatchEvent(d),o=b.STATUS_PAUSE;break;case q.PUBLI_RESUMED:d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_VIDEO_RESUME,d.data={},d.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,d.data.position=k,d.data.name=name=a.data.name,d.contentType=contentType=a.data.contentType,d.idMedia=h.mediaData.idTOP,this.dispatchEvent(d),o=b.STATUS_PLAY;break;case q.PUBLI_ENDED:e&&clearInterval(e),d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_VIDEO_END,d.data={},d.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,d.data.position=k,d.data.name=a.data.name,d.contentType=a.data.contentType,d.idMedia=h.mediaData.idTOP,this.dispatchEvent(d),o=b.STATUS_STOP,h.mediaData.duration=p;break;case q.PUBLI_SKIPPED:e&&clearInterval(e),d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_VIDEO_SKIP,d.data={},d.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,d.data.position=k,d.data.name=a.data.name,d.contentType=a.data.contentType,d.idMedia=h.mediaData.idTOP,this.dispatchEvent(d),o=b.STATUS_STOP;break;case q.PUBLI_ERROR:d=new emic.top.event.AdEvent,d.type=emic.top.event.AdEvent.ON_AD_ERROR,d.data=a.data,d.data.position=k,d.idMedia=h.mediaData.idTOP,k="",this.dispatchEvent(d),o=b.STATUS_STOP}},u=function(a,b){m=c.remainingTime(),ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_AD_PROGRESS,ev.data={},ev.data.provider=emic.top.AdModule.PROVIDER_PBS_DPF,ev.data.position=k,ev.data.name=a,ev.contentType=b,ev.data.currentTime=m.currentTime,ev.data.totalTime=m.totalTime,ev.idMedia=h.mediaData.idTOP,this.dispatchEvent(ev)};this.init=function(){emic.top.debug("[AdModule.js][init]>> "),r.apply(this)},this.kill=function(){emic.top.debug("[AdModule.js][kill]>> "),c&&c.kill(),e&&clearInterval(e),c=null,h.adData.container.innerHTML=""},this.close=function(){emic.top.debug("[AdModule.js][close]>> "),c&&(k="",n=!1,c.closeAd()),e&&clearInterval(e)},this.externalNotify=function(a,b,c){emic.top.debug("[AdModule.js][externalNotify]>> ",{type:a,data:b,id:c});var d=new emic.top.event.AdEvent(a);b&&(d.data=b),c&&(d.id=c),this.dispatchEvent(d)},this.notificaEstadoOn=function(a){emic.top.debug("[AdModule.js][notificaEstadoOn]>> ",a);var b,d;if(i){k=a,b={},b.referrer=h.genericData.referer,b.tecType="html5","flash"==b.tecType?b.vpaid="&fpd=vpaid":b.vpaid="",h.mediaData.isLive?(b.idTOP=h.mediaData.idTOP,b.directo=",directo"):(b.idTOP="",b.directo=""),void 0!=h.mediaData.tags.programa&&(b.programa=h.mediaData.tags.programa),b.pTags="",""!=h.adData.pTags?b.pTags=h.adData.pTags:b.pTags=h.mediaData.tags.allTags,b.device="web",getDevice().mobile&&(b.device="mob");var e=function(){return-1!=getDevice().agent.indexOf("iPhone")?"|480x360":"|480x361"};b.contentType=h.mediaData.isLive?"640x480|1x1"+e():"1x1","undefined"!=typeof mm_timevideo_ad&&h.mediaData.duration>=60*mm_timevideo_ad*1e3&&(b.contentType="640x480|1x1"+e()),b.adFormat="640x480"+e(),void 0!==window.LANG?b.hl="pt-br"==window.LANG?"pt":window.LANG:b.hl="es",d=""!=h.adData.tags_noticia?","+h.adData.tags_noticia:h.adData.tags_noticia,b.pTags+=""!=b.pTags?d:h.adData.tags_noticia,b.ksg="undefined"!=typeof PBS&&void 0!==PBS.slm&&void 0!==PBS.slm.cf&&void 0!==PBS.slm.cf.key&&void 0!==PBS.slm.cf.key.ksg?"&ksg="+PBS.slm.cf.key.ksg.join(","):"",emic.top.debug("[AdModule.js][notificaEstadoOn]>> Solicitado al manager con obj",b);var f=!0;null!=h.mediaData.details&&void 0!==h.mediaData.details.advertising&&0==h.mediaData.details.advertising&&(f=!1),f?c.notificaPubliOn(a,b,h):(ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_NO_AD,ev.data.position=a,ev.idMedia=h.mediaData.idTOP,this.dispatchEvent(ev))}else l?j=a:(ev=new emic.top.event.AdEvent,ev.type=emic.top.event.AdEvent.ON_AD_ERROR,ev.data.position=a,ev.idMedia=h.mediaData.idTOP,this.dispatchEvent(ev))},this.resume=function(){emic.top.debug("[AdModule.js][resume]>> "),c&&c.resume()},this.pause=function(){emic.top.debug("[AdModule.js][pause]>> "),c&&c.pause()},this.setVolume=function(a){emic.top.debug("[AdModule.js][setVolume]>> ",a);var b;c&&(c.setVolume(a),h.internalData.currentVolume=a,b=new emic.top.event.AdEvent,b.type=emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE,b.data={},b.data.position=k,b.idMedia=h.mediaData.idTOP,b.data.vol=a,this.dispatchEvent(b))},this.getCurrentPosition=function(){return k},this.getStatus=function(){return emic.top.debug("[AdModule.js][getStatus]>> "),o};var v=function(a){if(void 0!==window.mm_base){var b=h.genericData.urlBase;void 0===b&&(b="");var c=a.split("/psdmedia");h.adData.conf=b+"/psdmedia"+c[1]}}}b.prototype=new psd.framework.EventDispatcher,b.POSITION_PREROLL="preroll",b.POSITION_POSTROLL="postroll",b.PROVIDER_TRITON="triton",b.PROVIDER_PBS_DPF="PBS_DFP",b.ADTYPE_VIDEO="video",b.ADTYPE_INSTREAM="instream",b.STATUS_PLAY="AdPlay",b.STATUS_PAUSE="AdPause",b.STATUS_STOP="AdStop",a.AdModule=b}(emic.top),function(a){function b(a){psd.framework.EventDispatcher.call(this);var b,c,d=a,e="",f=!1,g=!1,h=!1,i=!1,j=0,k=!1,l=1,m=0,n=2,o="/psdmedia/resources/js/psd/statistics.top.min.js",p=function(){emic.top.debug("[StatModule.js][_init]>> "),d.statData.enabled&&(j==m?(j=l,q.apply(this)):j!=l&&this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY)))},q=function(){emic.top.debug("[StatModule.js][_loadDependences]>> ");var a,c,e;if(void 0!==psd.statistics&&(k=!0),k)r.apply(this);else{a=document.getElementsByTagName("head")[0],c=document.createElement("script"),c.type="text/javascript",e=function(a){return function(){r.apply(a)}}(this),navigator.appName.indexOf("Microsoft")>=0?c.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(e(),c.onreadystatechange=null)}:c.onload=e,c.src=d.genericData.urlBase?d.genericData.urlBase+o:o,emic.top.debug("[StatModule.js][_loadDependences]>> Se solicita carga a:",c.src),a.appendChild(c);var f=function(a){return function(){t.apply(a)}}(this);k||(b=setTimeout(f,1e4))}},r=function(){emic.top.debug("[StatModule.js][_onDependencesLoaded]>> "),clearTimeout(b),k=!0,s.apply(this)},s=function(){emic.top.debug("[StatModule.js][_loadManager]>> "),c=new psd.statistics.StatisticsManager;var a=d.statData.conf.split("/psdmedia"),b=d.genericData.urlBase?d.genericData.urlBase:"";d.statData.conf=b+"/psdmedia"+a[1],e=d.statData.conf,void 0!=e&&(c.setup(e),j=m),j=n,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_READY))},t=function(){emic.top.debug("[StatModule.js][_onDependencesError]>> "),j=m,this.dispatchEvent(new emic.top.event.MediaEvent(emic.top.event.MediaEvent.ON_ERROR))},u=function(){var a=d.statData.extraData;return i||(a.playerName=a.playerName+"["+d.internalData.controllerName+"]",i=!0),a.name=d.mediaData.title,d.mediaData.isLive&&""!=d.mediaData.nombrePrograma&&(a.name=d.mediaData.nombrePrograma),a.idTop=d.mediaData.idTOP,a.mediaType=d.mediaData.isLive?"streaming":-1!=d.mediaData.mimetype.indexOf("video")?"vod":"aod",a.mediaTypeMode=-1!=d.mediaData.mimetype.indexOf("video")?"video":"audio",a.provider=d.mediaData.provider,a.duration=0==d.mediaData.duration?"0":Math.round(d.mediaData.duration/1e3),a.progressTime=0==d.mediaData.progressTime?"0":d.mediaData.progressTime,a.adEnabled=d.adData.enabled?"con publicidad":"sin publicidad",a.topPageTitle=encodeURIComponent(window.document.location.href),a.trafficsource=encodeURIComponent(window.document.referrer),a.agency=1!=d.agency.indexOf("")?"propio":d.agency,a.nombrePrograma=d.mediaData.nombrePrograma,a.season=d.mediaData.season,a.chapter=d.mediaData.chapter,a.extraccion=d.extraccion,a.segmento=d.segmento,a.inicioemision=d.inicioemision,a.finemision=d.finemision,a.transcripcion=d.transcripcion,a.hablantes=d.speakers,a.organic=d.mediaData.organic,"undefined"!=typeof _advert?a.adErrorAdBlock=WITHOUT_ADBLOCK:a.adErrorAdBlock=ERROR_ADBLOCK,emic.top.debug("[StatModule.js][_getCommonData]>> ",a),a};this.init=function(){emic.top.debug("[StatModule.js][init]>> "),f=!1,g=!1,h=!1,p.apply(this)},this.reset=function(){emic.top.debug("[StatModule.js][reset]>> "),f=!1,g=!1,h=!1,e!=d.statData.conf&&(c=void 0,j=l,p.apply(this))},this.onProgress=function(a){var b=u.apply(this);j==n&&(d.mediaData.isLive||(!f&&a.currentTime>.25*a.totalTime&&(f=!0,c.track("mediaFirstQuart",b)),!g&&a.currentTime>.5*a.totalTime&&(g=!0,c.track("mediaHalf",b)),!h&&a.currentTime>.75*a.totalTime&&(h=!0,c.track("mediaThirdQuart",b))))},this.onCountProgress=function(a){var b=u.apply(this);j==n&&c.track("mediaTimeInterval",b)},this.onVideoPause=function(){var a=u.apply(this);j==n&&c.track("mediaPause",a)},this.onVideoResume=function(){var a=u.apply(this);j==n&&c.track("mediaResume",a)},this.onMediaBegin=function(){var a=u.apply(this);emic.top.debug("[StatModule.js][onMediaBegin]>> ",a),j==n&&c.track("mediaBegin",a)},this.onMediaComplete=function(){f=!1,g=!1,h=!1;var a=u.apply(this);emic.top.debug("[StatModule.js][onMediaComplete]>> ",a),j==n&&c.track("mediaComplete",a)},this.onAdBegin=function(a){emic.top.debug("[StatModule.js][onAdBegin]>> ");var b=u.apply(this);b.adName=a.provider+"_"+a.adType+"_"+a.name,b.adposition=a.position,emic.top.debug("[StatModule.js][onAdBegin]>> ",b),j==n&&c.track("adStart",b)},this.onAdComplete=function(a){var b=u.apply(this);b.adName=a.provider+"_"+a.adType+"_"+a.name,b.adposition=a.position,emic.top.debug("[StatModule.js][onAdComplete]>> ",b),j==n&&c.track("adComplete",b)},this.onAdSkip=function(a){var b=u.apply(this);b.adName=a.provider+"_"+a.adType+"_"+a.name,b.adposition=a.position,emic.top.debug("[StatModule.js][onAdSkip]>> ",b),j==n&&c.track("adSkip",b)},this.onStreamError=function(a){var b=u.apply(this);void 0!==a.code&&(b.streamErrorCode=a.code),void 0!==a.message&&(b.streamErrorMessage=a.status),j==n&&c.track("streamError",b)},this.onAdError=function(a){var b=u.apply(this);if(b.adposition=a.position,void 0!==a.code&&(b.adErrorCode=a.code),void 0!==a.vastErrorCode&&(b.adErrorVastCode=a.vastErrorCode),void 0!==a.adErrorAdBlock&&(b.adErrorAdBlock=a.adErrorAdBlock),void 0!==a.msg){var d=a.msg;b.adErrorMsg=d.replace("#","")}emic.top.debug("[StatModule.js][onAdError]>> ",b),j==n&&c.track("adError",b)},this.onRRSS=function(a){var b=u.apply(this),d=a.split("|");b.rrss=d[0],d[1],b.button=d[1],emic.top.debug("[StatModule.js][onRRSS]>> ",b),j==n&&c.track("rrss",b)},this.onButton=function(a){var b=u.apply(this);b.button=a,emic.top.debug("[StatModule.js][onButton]>> ",b),j==n&&c.track("button",b)},this.onInicioCompartir=function(a){var b=u.apply(this),d=a.split("|");b.rrss=d[0],d[1],b.button=d[1],emic.top.debug("[StatModule.js][onInicioCompartir]>> ",b),j==n&&c.track("iniciocompartir",b)}}b.prototype=new psd.framework.EventDispatcher,a.StatModule=b}(emic.top),function(a){function b(){b.loadDomDependence=function(a,b,c,d){var e,f,g,h,i;e=document.getElementsByTagName("head")[0],f=document.createElement("script"),f.type="text/javascript",g=function(){return function(){b.apply(d)}}(),h=function(){return function(){clearTimeout(i),c.apply(d)}}(),navigator.appName.indexOf("Microsoft")>=0?f.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(g(),f.onreadystatechange=null)}:f.onload=g,f.src=a,e.appendChild(f),_dependencesLoaded||(i=setTimeout(h,1e4))},this.mediaData={},this.uiData={},this.genericData={},this.adData={},this.statData={},this.socialData={},this.internalData={};var a=function(){this.setDefaultGenericData(),this.setDefaultMedia(),this.setDefaultUIData(),this.setDefaultAdData(),this.setDefaultStatData(),this.setDefaultSocialData(),this.setDefaultInternalData()};this.reset=function(){this.setDefaultGenericData(),this.setDefaultMedia(),this.setDefaultUIData(),this.setDefaultAdData(),this.setDefaultStatData(),this.setDefaultSocialData(),this.setDefaultInternalData()},this.setDefaultInternalData=function(){this.internalData.controllerName=void 0,this.internalData.skinContainer=void 0,this.internalData.previewContainer=void 0,this.internalData.position=void 0,this.internalData.uiModule=void 0,this.internalData.adModule=void 0,this.internalData.mediaModule=void 0,this.internalData.UIFactory=void 0,this.internalData.mediaElement=void 0,this.internalData.controllerContainers=[],this.internalData.currentVolume=void 0,this.internalData.lastVolume=void 0},this.setDefaultMedia=function(){this.mediaData={},this.mediaData.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_FLASH,emic.top.MediaModule.TECHNOLOGY_HTML5],this.mediaData.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS],this.mediaData.autoplay=!1,this.mediaData.id=void 0,this.mediaData.idTOP=void 0,this.mediaData.url=void 0,this.mediaData.urlHTML5=[],this.mediaData.wmode="opaque",this.mediaData.isLive=!1,this.mediaData.isLiveActive=!1,this.mediaData.isDVR=!1,this.mediaData.renditions=[],this.mediaData.controllerData={},this.mediaData.container=void 0,this.mediaData.mimetype="video/mp4",this.mediaData.title="",this.mediaData.description="",this.mediaData.clipBegin=void 0,this.mediaData.clipEnd=void 0,this.mediaData.absolute=!0,this.mediaData.startVolume=.7,this.mediaData.authParams="",this.mediaData.authParamsHTML5="",this.mediaData.date="",this.mediaData.author="",this.mediaData.duration=0,this.mediaData.progressTime=0,this.topPageTitle="",this.trafficsource="",this.agency="",this.mediaData.urlMosaic="",this.mediaData.relacionadosUrl="",this.mediaData.tags={},this.mediaData.nombrePrograma="",this.mediaData.defaultLive="",this.mediaData.premuted=!1,this.mediaData.chapter="",this.mediaData.season="",this.mediaData.geo_location=null,this.mediaData.organic="",this.mediaData.primerVideoPlayList=!0,this.mediaData.clickPlayList=!1,this.mediaData.autoNext="",this.mediaData.vuelta=0,this.mediaData.isPlaylist=!1,this.mediaData.ancho="",this.mediaData.alto="",this.mediaData.cover=!1,this.mediaData.YTiFrame=!0,this.mediaData.relateds=!0,this.mediaData.details=null,this.mediaData.un_creacion="",this.mediaData.portal_creacion="",this.mediaData.seccion_creacion=""},this.setDefaultUIData=function(){this.uiData.skin=emic.top.UIModule.SKIN_GENERIC_FENIX,this.uiData.preview=emic.top.UIModule.PREVIEW_GENERIC,this.uiData.poster=void 0,this.uiData.skinData={},this.uiData.previewData={},this.uiData.bgColor=0,this.uiData.absoluteTime=!1,this.uiData.container=void 0,this.uiData.overrideNativeControls=!1,this.uiData.showPreview=!0,this.uiData.showSkinInAds=!0,this.uiData.id_playlist=""},this.setDefaultGenericData=function(){this.genericData.urlBase=void 0,this.genericData.width=void 0,this.genericData.height=void 0,this.genericData.container=void 0,this.genericData.id=Math.floor(99999999999*Math.random()),this.genericData.referer="",this.genericData.id_cuenta=void 0,this.genericData.id_player=void 0},this.setDefaultAdData=function(){this.adData.conf="",this.adData.enabled=!0,this.adData.pTags="",this.adData.container="",this.adData.multiPosition=!0,this.adData.tags_noticia="",this.adData.skippable=!1,this.adData.skippableTime=-1},this.setDefaultStatData=function(){this.statData.conf=void 0,this.statData.enabled=!0,this.statData.extraData={},this.statData.mediaTimer={},this.statData.mediaTimer.enable=!1,this.statData.mediaTimer.segundos=10},this.setDefaultSocialData=function(){this.socialData.facebookData={},this.socialData.twitterData={},this.socialData.googleplusData={},this.socialData.enlace="",this.socialData.eskupData={}},this.getConfObj=function(a,b,c,d,e,f){var g,h={};if(a){h.generic={};for(g in this.genericData)void 0!=this.genericData[g]&&(h.generic[g]=this.genericData[g])}if(b){h.media={};for(g in this.mediaData)void 0!=this.mediaData[g]&&(h.media[g]=this.mediaData[g])}if(c){h.ui={};for(g in this.uiData)void 0!=this.uiData[g]&&(h.ui[g]=this.uiData[g])}if(e){h.stat={};for(g in this.statData)void 0!=this.statData[g]&&(h.stat[g]=this.statData[g])}if(d){h.ad={};for(g in this.adData)void 0!=this.adData[g]&&(h.ad[g]=this.adData[g])}if(f){h.social={};for(g in this.socialData)void 0!=this.socialData[g]&&(h.social[g]=this.socialData[g])}return h},this.config=function(a){a.media&&this.configMedia(a.media),a.ui&&this.configUI(a.ui),a.generic&&this.configGeneric(a.generic),a.ad&&this.configAd(a.ad),a.stat&&this.configStat(a.stat),a.social&&this.configSocial(a.social)},this.configMedia=function(a){if(void 0!=a.autoplay&&(this.mediaData.autoplay=!getDevice().mobile&&a.autoplay),void 0!=a.isPlaylist&&(this.mediaData.isPlaylist=a.isPlaylist,void 0!=a.playlistUrl&&(this.mediaData.playlistUrl=a.playlistUrl)),void 0!=a.ancho&&(this.mediaData.ancho=a.ancho),void 0!=a.alto&&(this.mediaData.alto=a.alto),void 0!=a.cover&&(this.mediaData.cover=a.cover),void 0!=a.YTiFrame&&(this.mediaData.YTiFrame=a.YTiFrame),void 0!=a.relateds&&(this.mediaData.relateds=a.relateds),void 0!=a.un_creacion&&""!=a.un_creacion&&(this.mediaData.un_creacion=a.un_creacion),void 0!=a.portal_creacion&&""!=a.portal_creacion&&(this.mediaData.portal_creacion=a.portal_creacion),void 0!=a.seccion_creacion&&""!=a.seccion_creacion&&(this.mediaData.seccion_creacion=a.seccion_creacion),void 0!=a.wmode&&""!=a.wmode&&(this.mediaData.wmode=a.wmode),void 0!=a.title&&(this.mediaData.title=a.title),void 0!=a.description&&(this.mediaData.description=a.description),void 0!=a.isLive&&(this.mediaData.isLive=a.isLive),void 0!=a.isLiveActive&&(this.mediaData.isLiveActive=a.isLiveActive),void 0!=a.isDVR&&(this.mediaData.isDVR=a.isDVR),void 0!=a.id&&""!=a.id&&(this.mediaData.id=a.id),void 0!=a.idTOP&&""!=a.idTOP&&(this.mediaData.idTOP=a.idTOP),void 0!=a.clipBegin&&""!=a.clipBegin&&(this.mediaData.clipBegin=a.clipBegin),void 0!=a.clipEnd&&""!=a.clipEnd&&(this.mediaData.clipEnd=a.clipEnd),void 0!=a.absolute&&(this.mediaData.absolute=a.absolute),void 0!=a.url&&""!=a.url&&(this.mediaData.url=a.url),void 0!=a.urlHTML5&&a.urlHTML5 instanceof Array&&a.urlHTML5.length>0&&(this.mediaData.urlHTML5=a.urlHTML5),void 0!=a.container&&""!=a.container?this.mediaData.container=a.container:this.mediaData.container="",void 0!=a.startVolume&&""!=a.startVolume&&(this.mediaData.startVolume=a.startVolume),void 0!=a.authParams&&""!=a.authParams&&(this.mediaData.authParams=a.authParams),void 0!=a.authParamsHTML5&&""!=a.authParamsHTML5&&(this.mediaData.authParamsHTML5=a.authParamsHTML5),void 0!=a.date&&""!=a.date&&(this.mediaData.date=a.date),void 0!=a.author&&""!=a.author&&(this.mediaData.author=a.author),void 0!=a.duration&&""!=a.duration&&(this.mediaData.duration=a.duration),void 0!=a.progressTime&&""!=a.progressTime&&(this.mediaData.progressTime=a.progressTime),void 0!=a.topPageTitle&&""!=a.topPageTitle&&(this.mediaData.topPageTitle=a.topPageTitle),void 0!=a.trafficsource&&""!=a.trafficsource&&(this.mediaData.trafficsource=a.trafficsource),void 0!=a.agency&&""!=a.agency&&(this.mediaData.agency=a.agency),void 0!=a.premuted&&""!=a.premuted&&(this.mediaData.premuted=a.premuted),void 0!=a.chapter&&""!=a.chapter&&(this.mediaData.chapter=a.chapter),void 0!=a.geo_location&&""!=a.geo_location&&(this.mediaData.geo_location=a.geo_location),void 0!=a.season&&""!=a.season&&(this.mediaData.season=a.season),void 0!=a.organic&&""!=a.organic&&(this.mediaData.organic=a.organic),void 0!=a.primerVideoPlayList&&""!=a.primerVideoPlayList&&(this.mediaData.primerVideoPlayList=a.primerVideoPlayList),void 0!=a.clickPlayList&&""!=a.clickPlayList&&(this.mediaData.clickPlayList=a.clickPlayList),void 0!=a.autoNext&&""!=a.autoNext&&(this.mediaData.autoNext=a.autoNext),void 0!=a.controllerData&&""!=a.controllerData&&(this.mediaData.controllerData=a.controllerData),void 0!=a.mimetype&&""!=a.mimetype&&(this.mediaData.mimetype=a.mimetype),void 0!=a.provider&&""!=a.provider&&(this.mediaData.provider=a.provider),void 0!=a.renditions&&a.renditions!=[]){try{this.mediaData.renditions=a.renditions}catch(a){console.log("CATCH:DataModel renditions")}this.mediaData.renditions=a.renditions}void 0!=a.tecPriorityPC&&a.tecPriorityPC!=[]&&(a.tecPriorityPC.length>0?this.mediaData.tecPriorityPC=a.tecPriorityPC:a.tecPriorityPC!=MediaModule.TECHNOLOGY_FLASH&&a.tecPriorityPC!=MediaModule.TECHNOLOGY_HTML5||(this.mediaData.tecPriorityPC=[a.tecPriorityPC])),void 0!=a.controllerPriority&&a.controllerPriority!=[]&&(a.controllerPriority.length>0?this.mediaData.controllerPriority=a.controllerPriority:a.controllerPriority!=MediaModule.CONTROLLER_TYPE_AKAMAIHDS&&a.controllerPriority!=MediaModule.CONTROLLER_TYPE_TRITON||(this.mediaData.controllerPriority=[a.controllerPriority])),void 0!=a.urlMosaic&&(this.mediaData.urlMosaic=a.urlMosaic),void 0!=a.relacionadosUrl&&(this.mediaData.relacionadosUrl=a.relacionadosUrl),void 0!=a.tags&&(this.mediaData.tags=a.tags),void 0!=a.nombrePrograma&&(this.mediaData.nombrePrograma=a.nombrePrograma),void 0!=a.defaultLive&&(this.mediaData.defaultLive=a.defaultLive),void 0!=a.details&&(this.mediaData.details=a.details)},this.configUI=function(a){void 0!=a.skin&&""!=a.skin&&(this.uiData.skin=a.skin),void 0!=a.preview&&""!=a.preview&&(this.uiData.preview=a.preview),void 0!=a.showPreview&&(this.uiData.showPreview=a.showPreview),void 0!=a.poster&&(this.uiData.poster=a.poster),void 0!=a.bgColor&&""!=a.bgColor&&(this.uiData.bgColor=a.bgColor),void 0!=a.skinData&&(this.uiData.skinData=a.skinData),void 0!=a.id_playlist&&(this.uiData.id_playlist=a.id_playlist),void 0!=a.previewData&&(this.uiData.previewData=a.previewData),void 0!=a.absoluteTime&&(this.uiData.absoluteTime=a.absoluteTime),void 0!=a.overrideNativeControls&&(this.uiData.overrideNativeControls=a.overrideNativeControls),void 0!=a.container&&""!=a.container?this.uiData.container=a.container:this.uiData.container=""},this.configGeneric=function(a){void 0!=a.width&&""!=a.width&&(this.genericData.width=a.width),void 0!=a.height&&""!=a.height&&(this.genericData.height=a.height),void 0!=a.urlBase&&""!=a.urlBase&&(this.genericData.urlBase=a.urlBase),void 0!=a.container&&""!=a.container&&(this.genericData.container=a.container),void 0!=a.id&&""!=a.id&&(this.genericData.id=a.id),void 0!=a.referer&&""!=a.referer&&(this.genericData.referer=a.referer),void 0!=a.id_player&&""!=a.id_player&&(this.genericData.id_player=a.id_player),void 0!=a.id_cuenta&&""!=a.id_cuenta&&(this.genericData.id_cuenta=a.id_cuenta)},this.configAd=function(a){void 0!=a.conf&&""!=a.conf&&(this.adData.conf=a.conf),void 0!=a.enabled&&(this.adData.enabled=a.enabled),void 0!=a.pTags&&""!=a.pTags?this.adData.pTags=a.pTags:this.adData.pTags="",void 0!=a.container&&""!=a.container?this.adData.container=a.container:this.adData.container="",void 0!=a.multiPosition&&(this.adData.multiPosition=a.multiPosition),void 0!=a.skippable&&(this.adData.skippable=a.skippable),void 0!=a.skippableTime&&(this.adData.skippableTime=a.skippableTime),void 0!=a.tags_noticia&&""!=a.tags_noticia&&(this.adData.tags_noticia=a.tags_noticia)},this.configStat=function(a){void 0!=a.conf&&""!=a.conf&&(this.statData.conf=a.conf),void 0!=a.enabled&&(this.statData.enabled=a.enabled),void 0!=a.extraData&&(this.statData.extraData=a.extraData),void 0!=a.mediaTimer&&(void 0!=a.mediaTimer.enable&&(this.statData.mediaTimer.enable=a.mediaTimer.enable),void 0!=a.mediaTimer.segundos&&(this.statData.mediaTimer.segundos=a.mediaTimer.segundos))},this.configSocial=function(a){void 0!=a.facebookData&&(this.socialData.facebookData=a.facebookData),void 0!=a.twitterData&&(this.socialData.twitterData=a.twitterData),void 0!=a.googleplusData&&(this.socialData.googleplusData=a.googleplusData),void 0!=a.enlace&&(this.socialData.enlace=a.enlace),void 0!=a.eskupData&&(this.socialData.eskupData=a.eskupData)},a.apply(this)}a.DataModel=b}(emic.top),function(a){function b(){ERROR_ADBLOCK="con_ADBLOCK",WITHOUT_ADBLOCK="sin_ADBLOCK",ERROR_ADBLOCK_MSG="ADBlock Activate";var a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=!0,r=!0,s=!0,t=!1,u=!1;psd.framework.EventDispatcher.call(this),this.setLauncher=function(a){o=a},this.getLauncher=function(){return o};var v=function(){var a="/psdmedia/resources/js/psd/css/commonmm.css",b=document.createElement("link"),c=k.genericData.urlBase?k.genericData.urlBase+a:a;b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",c),void 0!==b&&document.getElementsByTagName("head")[0].appendChild(b)},w=function(){emic.top.debug("[TopPlayer.js][_init]>> "),k=new emic.top.DataModel,g=new emic.top.MediaModule(k),g.addEventListener(emic.top.event.MediaEvent.ON_READY,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_INIT_COMPLETE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_RESET_COMPLETE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_CUE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_METADATA,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_ERROR,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_IS_LIVE_STREAM,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_RENDITIONS,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_TAG,G,this),g.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,H,this),k.internalData.mediaModule=g,h=new emic.top.UIModule(k),h.setPlayer(this),h.addEventListener(emic.top.event.UIEvent.ON_INIT_COMPLETE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_BEGIN,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAY,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_PAUSE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_STOP,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_MUTE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_FULLSCREEN,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_SWITCH_UP,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_RESET,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_CHANGE_LIVE,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_BUTTON,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_RRSS,F,this),h.addEventListener(emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR,F,this),k.internalData.uiModule=h,i=new emic.top.AdModule(k),i.addEventListener(emic.top.event.AdEvent.ON_READY,H,this),i.addEventListener(emic.top.event.AdEvent.ON_INIT_ERROR,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_ERROR,H,this),i.addEventListener(emic.top.event.AdEvent.ON_NO_AD,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_POSITION_END,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_INSTREAM_START,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_INSTREAM_END,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_START,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_RESUME,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_END,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_SKIP,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_PROGRESS,H,this),i.addEventListener(emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE,H,this),k.internalData.adModule=i,j=new emic.top.StatModule(k),j.addEventListener(emic.top.event.MediaEvent.ON_READY,A,this),j.addEventListener(emic.top.event.MediaEvent.ON_ERROR,A,this)};this.init=function(a){emic.top.debug("[TopPlayer.js][init]>> ",a),t||(emic.top.debug("[TopPlayer.js][init]>> Initialized?: ",t),a&&this.config(a),v.apply(this),L.apply(this),K.apply(this),g.init())};var x=function(){emic.top.debug("[TopPlayer.js][_init2]>> MediaModule ready"),h.init()},y=function(){emic.top.debug("[TopPlayer.js][_init3]>> UIModule ready"),O.apply(this,[!0]),k.adData.enabled?i.init():z.apply(this)},z=function(){emic.top.debug("[TopPlayer.js][_init4]>> AdModule ready"),k.statData.enabled?j.init():A.apply(this)},A=function(){if(emic.top.debug("[TopPlayer.js][_init5]>> StatModule ready"),B.apply(this),emic.top.debug("[TopPlayer.js][_init5]>> Init complete"),!t){t=!0;var a=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_READY);a.data={id:k.genericData.id},this.dispatchEvent(a)}},B=function(){k.mediaData.autoplay?(l=emic.top.TopPlayer.POSITION_PREVIEW,M.apply(this)):N.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])};this.midroll=function(){g.pause(),document.getElementById(k.internalData.skinContainer).style.display="none",P(k.adData.container),P(k.adData.container),_that.midroll=!0,i.notificaEstadoOn(emic.top.AdModule.POSITION_PREROLL)},this.load=function(a,b){emic.top.debug("[TopPlayer.js][load]>> ",{settings:a,forceAutoplay:b}),g&&getDevice().mobile&&g.play(),g.stop(),(p=k.adData.enabled)&&i&&i.close();var c=k.mediaData.container;k.config(a),void 0===window["triton_"+k.genericData.id]&&"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&getDevice().mobile&&(k.mediaData.container=c,b=!0,this.flag_autoplay=!0,g&&(g.flag_autoplay=!0)),b&&(k.mediaData.autoplay=!0),K.apply(this),g&&g.reset()};var C=function(){emic.top.debug("[TopPlayer.js][_load2]>> "),h&&h.reset(),k.adData.enabled?i.init(k):z.apply(this)},D=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},E=function(c){var e=window.innerWidth,f=window.innerHeight;c&&(r=d.clientWidth<=a),r?(_fullscreen=!0,d.style.zIndex="2000",d.style.position="fixed",d.style.top="1px",d.style.left="1px",c?(d.style.width=String(e)+"px",d.style.height=String(f)+"px"):(d.style.width=String(window.innerWidth)+"px",d.style.height=String(window.innerHeight)+"px")):(d.style.position="relative",d.style.zIndex="auto",d.style.width=String(a)+"px",d.style.height=String(b)+"px",_fullscreen=!1)};this.config=function(a){emic.top.debug("[TopPlayer.js][config]>> ",a),k.config(a)},this.getData=function(){return k},this.getMediaModule=function(){return g},this.getUIModule=function(){return h},this.getAdModule=function(){return i},this.getCurrentPosition=function(){return l},this.getConfig=function(a,b,c,d,e,f){return k.getConfObj(a,b,c,d,e,f)},this.isLoading=function(){return u};var F=function(c){switch(emic.top.debug("[TopPlayer.js][_onUIHandler]>> ",{type:c.type,idReceptor:k.mediaData.idTOP}),c.type){case emic.top.event.UIEvent.ON_ORDER_BEGIN:l==emic.top.TopPlayer.POSITION_PREVIEW?M.apply(this):g.playpause();break;case emic.top.event.UIEvent.ON_ORDER_PLAY:g.play(),i.resume(),s=!0;break;case emic.top.event.UIEvent.ON_ORDER_PAUSE:g.pause(),i.pause(),s=!1;break;case emic.top.event.UIEvent.ON_ORDER_PLAYPAUSE:g.playpause();break;case emic.top.event.UIEvent.ON_ORDER_STOP:g.stop();break;case emic.top.event.UIEvent.ON_ORDER_VOLUME_CHANGE:g.setVolume(c.data),i.setVolume(c.data);break;case emic.top.event.UIEvent.ON_ORDER_MUTE:g.mute();break;case emic.top.event.UIEvent.ON_ORDER_RESET:initialized=!1,this.load(k,!0);break;case emic.top.event.UIEvent.ON_ORDER_FULLSCREEN:d=document.getElementById(k.genericData.container),e=document.getElementById(k.genericData.container+"_base"),-1!=getDevice().agent.indexOf("iPad")?(q&&(window.addEventListener("orientationchange",function(){E(!1)}),a=d.clientWidth,b=d.clientHeight,q=!1),E(!0)):D();break;case emic.top.event.UIEvent.ON_ORDER_SEEK_BY_SECS:g.seek(c.data);break;case emic.top.event.UIEvent.ON_ORDER_SEEK_BY_PROP:g.seekByProp(c.data);break;case emic.top.event.UIEvent.ON_ORDER_SEEK_LIVE:g.seekLive(c.data);break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_UP:g.switchUp();break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_DOWN:g.switchDown();break;case emic.top.event.UIEvent.ON_ORDER_SWITCH_DIRECT:g.switchDirect(c.data);break;case emic.top.event.UIEvent.ON_INIT_COMPLETE:y.apply(this);break;case emic.top.event.UIEvent.ON_SKIN_READY:case emic.top.event.UIEvent.ON_PREVIEW_READY:break;case emic.top.event.UIEvent.ON_ORDER_SHARE_FACEBOOK:j.onRRSS("facebook");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_TWITTER:j.onRRSS("twitter");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_GOOGLEPLUS:j.onRRSS("googleplus");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_WHATSAPP:j.onRRSS("whatsapp");break;case emic.top.event.UIEvent.ON_ORDER_SHARE_SUBSCRIBE:j.onRRSS(c.data);break;case emic.top.event.UIEvent.ON_ORDER_BUTTON:j.onButton(c.data);break;case emic.top.event.UIEvent.ON_ORDER_RRSS:j.onRRSS(c.data);break;case emic.top.event.UIEvent.ON_ORDER_INICIOCOMPARTIR:j.onInicioCompartir(c.data)}},G=function(a){switch(a.type!=emic.top.event.MediaEvent.ON_PROGRESS&&emic.top.debug("[TopPlayer.js][_onMediaHandler]>> ",{type:a.type,"ID emisor":a.id}),a.type){case emic.top.event.MediaEvent.ON_INIT_COMPLETE:x.apply(this);break;case emic.top.event.MediaEvent.ON_RESET_COMPLETE:C.apply(this);break;case emic.top.event.MediaEvent.ON_STATUS_CHANGE:h.onStatusChange(a.data.status),a.data.status==emic.top.MediaModule.STATUS_STOP&&emic.top.TopPlayer.POSITION_MEDIA,a.data.status==emic.top.MediaModule.STATUS_PAUSE&&(s=!1),a.data.status==emic.top.MediaModule.STATUS_PLAY&&(s=!0);break;case emic.top.event.MediaEvent.ON_MEDIA_BEGIN:T(),j.onMediaBegin(),O.apply(this,[!1]),m=k.statData.mediaTimer.enable,n=1e3*parseInt(k.statData.mediaTimer.segundos),k.mediaData.isLive?m&&(s&&j.onCountProgress(a.data),f=setInterval(function(){s&&j.onCountProgress(a.data)},n)):void 0!==f&&clearInterval(f);break;case emic.top.event.MediaEvent.ON_MEDIA_END:k.mediaData.clickPlayList=!1,h.onStatusChange(emic.top.event.MediaEvent.ON_MEDIA_END),l==emic.top.TopPlayer.POSITION_MEDIA&&(M.apply(this),j.onMediaComplete(),k.mediaData.isLive&&m&&clearInterval(f));break;case emic.top.event.MediaEvent.ON_VOLUME_CHANGE:h.onVolumeChange(a.data);break;case emic.top.event.MediaEvent.ON_PROGRESS:k.mediaData.progressTime=parseInt(a.data.currentTime),h.onProgress(a.data),j.onProgress(a.data);break;case emic.top.event.MediaEvent.ON_METADATA:h.onMetadata(a.data),1==k.adData.enabled&&this.midroll();break;case emic.top.event.MediaEvent.ON_CUE:h.onMetadata(a.data);break;case emic.top.event.MediaEvent.ON_ERROR:J.apply(this,[a.idCode]),I.apply(this,[a.idCode,a.data]);break;case emic.top.event.MediaEvent.ON_SWITCH_REQUEST:h.onSwitchRequest(a.data.index);break;case emic.top.event.MediaEvent.ON_SWITCH_COMPLETE:h.onSwitchComplete(a.data.index);break;case emic.top.event.MediaEvent.ON_SEEK_START:case emic.top.event.MediaEvent.ON_SEEK_COMPLETE:break;case emic.top.event.MediaEvent.ON_BUFFER_EMPTY:h.onBufferEmpty(),O.apply(this,[!0]);break;case emic.top.event.MediaEvent.ON_BUFFER_FULL:h.onBufferFull(),O.apply(this,[!1]);break;case emic.top.event.MediaEvent.ON_IS_LIVE_STREAM:k.mediaData.isLiveActive=a.data;break;case emic.top.event.MediaEvent.ON_RENDITIONS:h.onRenditions(a.data)}},H=function(a){switch(a.type!=emic.top.event.AdEvent.ON_AD_PROGRESS&&emic.top.debug("[TopPlayer.js][_onAdHandler]>> ",{type:a.type,"ID Emisor:":a.idMedia}),a.type){case emic.top.event.AdEvent.ON_INIT_ERROR:case emic.top.event.AdEvent.ON_READY:z.apply(this);break;case emic.top.event.AdEvent.ON_NO_AD:M.apply(this);break;case emic.top.event.AdEvent.ON_AD_ERROR:T(),j.onAdError(a.data),M.apply(this);break;case emic.top.event.AdEvent.ON_AD_POSITION_END:if(void 0!==_that.midroll)document.getElementById(k.internalData.skinContainer).style.display="block",document.getElementById(k.internalData.skinContainer).style.visibility="visible",Q(k.adData.container),g.play(),g.seekLive(a.data);else switch(a.data.position){case emic.top.AdModule.POSITION_PREROLL:case emic.top.AdModule.POSITION_POSTROLL:M.apply(this)}break;case emic.top.event.AdEvent.ON_AD_INSTREAM_START:j.onAdBegin(a.data);break;case emic.top.event.AdEvent.ON_AD_INSTREAM_END:j.onAdComplete(a.data);break;case emic.top.event.AdEvent.ON_AD_VIDEO_START:T(),j.onAdBegin(a.data),h.onStatusChange(emic.top.AdModule.STATUS_PLAY),O.apply(this,[!1]);break;case emic.top.event.MediaEvent.ON_STATUS_CHANGE:if("object"==typeof a.data&&"object"==typeof a.data&&"string"==typeof a.data.status)switch(a.data.status){case"pause":j.onVideoPause();break;case"play":j.onVideoResume()}break;case emic.top.event.AdEvent.ON_AD_VIDEO_PAUSE:h.onStatusChange(emic.top.AdModule.STATUS_PAUSE);break;case emic.top.event.AdEvent.ON_AD_VIDEO_RESUME:h.onStatusChange(emic.top.AdModule.STATUS_PLAY);break;case emic.top.event.AdEvent.ON_AD_VIDEO_END:j.onAdComplete(a.data),h.onStatusChange(emic.top.AdModule.STATUS_STOP);break;case emic.top.event.AdEvent.ON_AD_VIDEO_SKIP:j.onAdSkip(a.data),h.onStatusChange(emic.top.AdModule.STATUS_STOP);break;case emic.top.event.AdEvent.ON_AD_PROGRESS:h.onProgress(a.data);break;case emic.top.event.AdEvent.ON_AD_VOLUME_CHANGE:h.onVolumeChange(a.data.vol)}},I=function(a,b){switch(emic.top.debug("[TopPlayer.js][]>> ",a),a){case emic.top.MediaModule.ERROR_STATION_NOT_FOUND:case emic.top.MediaModule.ERROR_LIVE_FAILED:case emic.top.MediaModule.ERROR_STREAM_GEO_BLOCKED:case emic.top.MediaModule.ERROR_TIMEOUT_ALERT:case emic.top.MediaModule.ERROR_TIMEOUT_REACH:case emic.top.MediaModule.ERROR_STREAM_CONFIG_ERROR:case emic.top.MediaModule.ERROR_STREAM_ERROR:case emic.top.MediaModule.ERROR_CONFIGURATION_ERROR:j.onStreamError(b)}},J=function(a){switch(emic.top.debug("[TopPlayer.js][_manageError]>> ",a),a){case emic.top.MediaModule.ERROR_NO_CONTAINER:break;default:var b=new psd.media.InfoPanel;this.reboot(),"undefined"!=typeof LANG&&(window.mm_lang=LANG),void 0===window.mm_lang&&(window.mm_lang="es");var c=new psd.media.Lang,d=c.translate(window.mm_lang,"no_disponible");null!=k.mediaData.geo_location&&(d=c.translate(window.mm_lang,"geobloqueado")),b.onclick=function(a){a.innerHTML=""},b.paint(k.internalData.skinContainer,d,!0)}},K=function(){emic.top.debug("[TopPlayer.js][_createContainers]>> ");var a,b,c,d;if(b=document.getElementById(k.genericData.container)){if(!(a=document.getElementById(k.genericData.container+"_base"))){if(a=document.createElement("div"),a.id=k.genericData.container+"_base",""!=k.mediaData.ancho&&""!=k.mediaData.alto){var e=100*k.mediaData.alto/k.mediaData.ancho;a.style.paddingTop=e+"%",a.className="commonmm_baseExpand"}else a.className="commonmm_baseExpand";b.appendChild(a)}""==k.mediaData.ancho&&""==k.mediaData.alto&&(k.genericData.width||(k.genericData.width=b.offsetWidth),k.genericData.height||(k.genericData.height=b.offsetHeight)),k.mediaData.container||(k.mediaData.container="MediaModule_"+k.genericData.id),k.uiData.container||(k.uiData.container="UIModule_"+k.genericData.id),k.adData.container||(k.adData.container="AdModule_"+k.genericData.id),k.internalData.previewContainer||(k.internalData.previewContainer="UIPreview_"+k.genericData.id),k.internalData.skinContainer||(k.internalData.skinContainer="UISkin_"+k.genericData.id),c=document.getElementById(k.mediaData.container),c||(c=document.createElement("div"),c.id=k.mediaData.container,c.className="commonmm_sonExpand",a.appendChild(c)),-1!=k.mediaData.mimetype.indexOf("video")?c.style.backgroundColor="black":c.style.backgroundColor="",c=document.getElementById(k.uiData.container),c||(c=document.createElement("div"),c.id=k.uiData.container,c.className="commonmm_sonExpand",a.appendChild(c)),d=document.getElementById(k.internalData.previewContainer),d||(d=document.createElement("div"),d.id=k.internalData.previewContainer,d.className="commonmm_sonExpand",c.appendChild(d)),Q.apply(this,[k.internalData.previewContainer]),d=document.getElementById(k.internalData.skinContainer),d||(d=document.createElement("div"),d.id=k.internalData.skinContainer,d.className="commonmm_sonExpand",c.appendChild(d)),Q.apply(this,[k.internalData.skinContainer]),c=document.getElementById(k.adData.container),c||(c=document.createElement("div"),c.id=k.adData.container,c.className="commonmm_sonExpand",a.appendChild(c))}},L=function(){var a=document.getElementById(k.genericData.container);if(a)for(;a.firstChild;)a.removeChild(a.firstChild)},M=function(){switch(l){case emic.top.TopPlayer.POSITION_PREVIEW:k.mediaData.vuelta<1?k.mediaData.vuelta=k.mediaData.vuelta+1:k.mediaData.primerVideoPlayList=!1,k.adData.enabled&&"undefined"!=typeof _advert?N.apply(this,[emic.top.TopPlayer.POSITION_AD_PREROLL]):N.apply(this,[emic.top.TopPlayer.POSITION_MEDIA]);break;case emic.top.TopPlayer.POSITION_AD_PREROLL:N.apply(this,[emic.top.TopPlayer.POSITION_MEDIA]);break;case emic.top.TopPlayer.POSITION_MEDIA:k.adData.enabled&&!c&&"undefined"!=typeof _advert?k.mediaData.isPlaylist||N.apply(this,[emic.top.TopPlayer.POSITION_AD_POSTROLL]):N.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW]);break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:N.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])}},N=function(a){emic.top.debug("[TopPlayer.js][_changePosition]>> ",a);var b=l;switch(l=a,k.internalData.position=l,h.clear(),a){case emic.top.TopPlayer.POSITION_PREVIEW:k.uiData.showPreview?(P(k.internalData.previewContainer),Q(k.internalData.skinContainer)):(Q(k.internalData.previewContainer),k.uiData.overrideNativeControls||g.start(),k.internalData.controllerName!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE||k.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE&&k.uiData.overrideNativeControls?P(k.internalData.skinContainer):Q(k.internalData.skinContainer),"youtube"==k.internalData.controllerName&&P(k.mediaData.container)),O.apply(this,[!1]),getDevice().agent.toLowerCase().indexOf("iphone")>-1||getDevice().agent.toLowerCase().indexOf("ipad")>-1?R(k.adData.container):Q(k.adData.container);break;case emic.top.TopPlayer.POSITION_AD_PREROLL:Q(k.internalData.previewContainer),k.uiData.showSkinInAds?P(k.internalData.skinContainer):Q(k.internalData.skinContainer),getDevice().agent.toLowerCase().indexOf("iphone")>-1||getDevice().agent.toLowerCase().indexOf("ipad")>-1?S(k.adData.container):P(k.adData.container),getDevice().mobile&&g.preLoadContent(),O.apply(this,[!0]),"undefined"!=typeof _advert?i.notificaEstadoOn(emic.top.AdModule.POSITION_PREROLL):(c=!0,M.apply(this));break;case emic.top.TopPlayer.POSITION_MEDIA:Q(k.internalData.previewContainer),k.internalData.controllerName!=emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE||k.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE&&k.uiData.overrideNativeControls?P(k.internalData.skinContainer):Q(k.internalData.skinContainer),getDevice().agent.toLowerCase().indexOf("iphone")>-1||getDevice().agent.toLowerCase().indexOf("ipad")>-1?R(k.adData.container):Q(k.adData.container),h.clear(),O.apply(this,[!0]),g.start();break;case emic.top.TopPlayer.POSITION_AD_POSTROLL:Q(k.internalData.previewContainer),Q(k.mediaData.container),k.uiData.showSkinInAds?P(k.internalData.skinContainer):Q(k.internalData.skinContainer),getDevice().agent.toLowerCase().indexOf("iphone")>-1||getDevice().agent.toLowerCase().indexOf("ipad")>-1?S(k.adData.container):P(k.adData.container),O.apply(this,[!0]),"undefined"!=typeof _advert?k.mediaData.isPlaylist||i.notificaEstadoOn(emic.top.AdModule.POSITION_POSTROLL):(c=!0,M.apply(this))}var d=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_POSITION_CHANGE);d.data={id:k.genericData.id,idMedia:k.mediaData.idTOP,position:l,lastPosition:b},this.dispatchEvent(d),h.onPositionChange(a)};this.reboot=function(){"object"==typeof j&&"function"==typeof j.onVideoPause&&j.onVideoPause(),c?l=emic.top.TopPlayer.POSITION_MEDIA:k.mediaData.isPlaylist||(l=emic.top.TopPlayer.POSITION_AD_POSTROLL),k.mediaData.autoplay=!1,k.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_YT?g.stop():g.reset(),h.reset(),i.close(),N.apply(this,[emic.top.TopPlayer.POSITION_PREVIEW])},this.play=function(){i.resume(),k.internalData.controllerName==emic.top.MediaModule.CONTROLLER_TYPE_YT?g.playpause():g.play()},this.pause=function(){i.pause(),g.pause()};var O=function(a){emic.top.debug("[TopPlayer.js][_showLoading]>> ",a);var b=new emic.top.event.TopEvent(emic.top.event.TopEvent.ON_LOADING);b.data={id:k.genericData.id,idMedia:k.mediaData.id,value:a},this.dispatchEvent(b),u=a,h.showLoading(a)},P=function(a){var b;(b=document.getElementById(a))&&(b.style.visibility="")},Q=function(a){var b;(b=document.getElementById(a))&&(b.style.visibility="hidden")},R=function(a){var b;(b=document.getElementById(a))&&(b.style.top="-10000000px",b.style.left="-10000000px")},S=function(a){var b;(b=document.getElementById(a))&&(b.style.top=0,b.style.left=0)};this.setRatio=function(a,b,c){if(void 0!=h&&h.setRatio(a,b),c){var d=window.onresize;window.onresize=function(){null!=d&&d(),h.setRatio(a,b)}}};var T=function(){var a="";a=k.mediaData.primerVideoPlayList?1==k.mediaData.autoplay&&0==k.mediaData.clickPlayList?"autoplay":"organico":1==k.mediaData.autoNext&&0==k.mediaData.clickPlayList?"secuencial":"organico",k.mediaData.organic=a};this.createPlayerView=function(a,b){h.createPlayerView(a,b)},this.createPlayerViewReset=function(a){h.createPlayerViewReset(a.getMediaPlayer().getLauncher())},w.apply(this)}b.prototype=new psd.framework.EventDispatcher,b.POSITION_PREVIEW="positionPreview",b.POSITION_AD_PREROLL="positionAdPreroll",b.POSITION_MEDIA="positionMedia",b.POSITION_AD_POSTROLL="positionAdPostroll",_that=this;var c=!1;this.flag_autoplay=!1,a.TopPlayer=b}(emic.top);