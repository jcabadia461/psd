(function(a){if(a.emic==undefined){a.emic={}}if(a.emic.publicidad==undefined){a.emic.publicidad={}}if(a.emic.publicidad.events==undefined){a.emic.publicidad.events={}}if(a.emic.publicidad.controllers==undefined){a.emic.publicidad.controllers={}}a.emic.publicidad.debug=false;if(a.location.href.indexOf("debug")!=-1){a.emic.publicidad.debug=true}})(window);(function(a){b.prototype=new psd.framework.Event();b.MANAGER_READY="managerReady";b.MANAGER_INIT_ERROR="managerInitError";b.PUBLI_STARTED="publiStarted";b.PUBLI_PAUSED="publiPaused";b.PUBLI_RESUMED="publiResumed";b.PUBLI_ENDED="publiEnded";b.PUBLI_SKIPPED="publiSkipped";b.ALL_PUBLI_ENDED="allPubliEnded";b.PUBLI_LOADED="publiLoaded";b.PUBLI_ERROR="publiErrors";b.PUBLI_MODEL_COMPLETE="publiModelComplete";b.PUBLI_MODEL_ERROR="publiModelError";b.CONTENT_PAUSE_REQUESTED="contentPauseRequested";b.CONTENT_RESUME_REQUESTED="contentResumeRequested";b.CONTROLLER_LOADED="controllerLoaded";this.data={};function b(c){psd.framework.Event.call(this,c);this.data={}}a.PubliEvent=b})(emic.publicidad.events);(function(b){a.prototype=new psd.framework.EventDispatcher();a.loadDomDependence=function(h,g,f){var d,c,e;d=document.getElementsByTagName("head")[0];c=document.createElement("script");c.type="text/javascript";e=(function(){return function(){g.apply(f)}})();if(navigator.appName.indexOf("Microsoft")>=0){c.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){e();c.onreadystatechange=null}}}else{c.onload=e}c.src=h;d.appendChild(c)};function a(k){psd.framework.EventDispatcher.call(this);this.className="emic.publicidad.PubliModel";a.POSICION_PREROLL_HTML5="prerollHtml5";a.POSICION_PREROLL_FLASH="prerollFlash";a.POSICION_POSTROLL_HTML5="postrollHtml5";a.POSICION_POSTROLL_FLASH="postrollFlash";a.TAG_POSITION_PREROLL="pre";a.TAG_POSITION_POSTROLL="post";a.IMA3FLASHCONTROLLER="IMA3FlashController";a.IMA3HTML5CONTROLLER="IMA3HTML5Controller";CODE_NUM_PARSER_OK=0;CODE_NUM_PARSER_ERROR=1;var l=k;var c;var h;var e;var g;this.init=function(){var m=new psd.framework.parser.JSONParser();e=new psd.framework.Mediator();e.corsIE(true);e.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,f,this);e.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,d,this);e.mediate(l,m,psd.framework.Mediator.RESPONSE_JSON)};var f=function(m){if(m.result.parserResult.code==CODE_NUM_PARSER_OK){g=m.result.parserResult.result;this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE))}else{if(m.result.parserResult.code==CODE_NUM_PARSER_ERROR){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR))}}};var d=function(m){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR))};this.getUrlByPos=function(m,q){var n;c=m;if(typeof(g.position[m])!="undefined"){try{_request=g.position[m].request;_returnUrl=g.request[_request].src+"?";var p={};for(j in g.request[_request].vars){p[j]=g.request[_request].vars[j]}for(n in p){if((p[n]+"").match(/\$VARS/)){_fields=(p[n]+"").match(/\[[.]*[^\[]*\]/g);for(j in _fields){_field=_fields[j].replace("[","").replace("]","");p[n]=p[n].replace("$VARS["+_field+"]",q[_field])}if(_returnUrl.slice(-1)!="?"){_returnUrl+="&"}_returnUrl+=n+"="+encodeURIComponent(p[n])}else{if((p[n]+"").match(/\$RANDOM/)){if(_returnUrl.slice(-1)!="?"){_returnUrl+="&"}_returnUrl+=n+"="+(((((Math.random()+1)*10000000000)%10000000000)|0)+"")}else{if(_returnUrl.slice(-1)!="?"){_returnUrl+="&"}_returnUrl+=n+"="+encodeURIComponent(p[n])}}}}catch(o){return undefined}}else{return undefined}return _returnUrl};this.getControllerByPos=function(m){if(typeof(g.position[m])!="undefined"){try{_request=g.position[m].request;_responseController=g.request[_request].responseController;h=_responseController}catch(n){return undefined}}return _responseController};this.getCarcasaByPos=function(m){var o,n;if((typeof(g.position[m])!="undefined")&&(typeof(g.position[m].carcasa)!="undefined")){return g.carcasa[g.position[m].carcasa]}return undefined};this.getCurrentPosition=function(){return c}}b.PubliModel=a}(emic.publicidad));(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){a.CONTROLLER_IMA3_FLASH="ima3_flash";a.CONTROLLER_IMA3_HTML5="ima3_html5";a.CONTROLLER_IMA3="ima3";psd.framework.EventDispatcher.call(this);this.className="emic.publicidad.PubliManager";var v;var u;var m;var r;var p;var l;var o;var c;var f;var q;var z;var g;var d;var B;var h;var n;var x;var s;var w="basePubli_";var t="publi_";var A="carcasa_publi_";this.start=function(E,D,F,C){s=w+F;n=t+F;x=A+F;r=D;m=document.getElementById(E);h=document.createElement("div");m.appendChild(h);h.setAttribute("id",s);h.setAttribute("class","commonmm_baseExpand");u=document.createElement("div");h.appendChild(u);u.setAttribute("id",n);u.setAttribute("class","commonmm_sonExpand_forceson");q=C;if(F){f=F}else{f=Math.random()*99999999999}l=new emic.publicidad.controllers.PubliControllerFactory();v=new emic.publicidad.PubliModel(r.urlConfPubli);v.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE,e,this);v.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR,e,this);v.init()};this.remainingTime=function(){z={};if(o){z=o.remainingTime()}return z};this.resume=function(){if(o){o.resume()}};this.pause=function(){if(o){o.pause()}};this.setVolume=function(C){if(o){o.setVolume(C)}};this.kill=function(){if(o){o.kill()}};this.closeAd=function(){if(o){o.closeAd()}};var e=function(C){switch(C.type){case emic.publicidad.events.PubliEvent.PUBLI_MODEL_COMPLETE:this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.MANAGER_READY));break;case emic.publicidad.events.PubliEvent.PUBLI_MODEL_ERROR:this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.MANAGER_INIT_ERROR));break}};this.updateContentPublisher=function(D,C){if(typeof(o)!="undefined"){o.updateContentPublisher(D,C)}};this.preloadController=function(C){if(!c){c=l.getController(C);c.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,y,this)}if(r.objContentPublisher){c.objContentPublisher=r.objContentPublisher}c.init(n,r.width,r.height,f,q)};this.notificaPubliOn=function(C,D){p=v.getUrlByPos(C,D);if((!c)&&(typeof(p)!="undefined")){o=l.getController(v.getControllerByPos(C));if(!o.handled){o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_LOADED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_STARTED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_PAUSED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_RESUMED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ENDED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ERROR,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED,k,this);o.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,y,this);o.handled=true}o.init(n,r.width,r.height,f,q)}else{this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR))}};var y=function(C){if(c){c.removeEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,y,this);c=false;this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED))}else{if(o){o.loadPubli(p)}}};var k=function(C){switch(C.type){case emic.publicidad.events.PubliEvent.PUBLI_STARTED:d=v.getCarcasaByPos(v.getCurrentPosition());if(typeof(d)!="undefined"){if(typeof(g)=="undefined"){g=new emic.publicidad.Carcasa(d,s);g.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,k,this);g.init()}else{g.setCarcasaVisible()}updateSkipPubli=function(){g.setProgress(Math.round(o.remainingTime().currentTime)-1,Math.round(o.remainingTime().totalTime))};B=setInterval(updateSkipPubli,1000)}break;case emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED:if(B){clearInterval(B)}if(o){o.isSkipped(false)}break;case emic.publicidad.events.PubliEvent.PUBLI_ENDED:if(B){clearInterval(B)}if(typeof(g)!="undefined"){g.reset_skip()}break;case emic.publicidad.events.PubliEvent.PUBLI_SKIPPED:if(B){clearInterval(B)}if(o){C.data.name=o.getDataEvent().name;C.data.internalData=o.getDataEvent().internalData;C.data.contentType=o.getDataEvent().contentType;o.isSkipped(true);o.closeAd()}break}this.dispatchEvent(C)};this.notificaPubliOff=function(C,D){};this.getCurrentPosition=function(){return v.getCurrentPosition()}}b.PubliManager=a}(emic.publicidad));(function(a){b.prototype=new psd.framework.EventDispatcher();function b(J,v){var d="PUBLICIDAD";var w="%s segundos para que comience el video";var x="%s segundos para saltar la publicidad";var o="Saltar anuncio";var E=7;var B=J;var n=false;var c=v;var H=null;var t=null;var A=null;var u,l,I,h,q,p,y,m,g,s,r;var e={color:"white",top:"0px",left:"0px",fontFamily:"Arial",fontWeight:"bold",textAlign:"center",width:"100%",background:"#333"};var F={color:"white",bottom:"5px",left:"5px",fontFamily:"Arial",fontSize:"12px",background:"#333"};var z={color:"white",bottom:"5px",right:"5px",cursor:"pointer",fontFamily:"Arial",fontSize:"12px",background:"#333"};psd.framework.EventDispatcher.call(this);this.init=function(){u=(J.skippable!=undefined)?J.skippable:false;l=(J.title!=undefined)?J.title:d;I=(J.message!=undefined)?J.message:w;h=(J.message_skippable!=undefined)?J.message_skippable:x;q=(J.message_skip!=undefined)?J.message_skip:o;p=(J.seconds_skip!=undefined)?J.seconds_skip:E;if(J.css!=undefined){y=J.css.title;m=J.css.counter;g=J.css.skip;s=J.css.container}r=document.getElementById(c);for(i in s){r.style[i]=s[i]}H=document.createElement("div");H.className=H.className+" mm_counter";H.style.position="absolute";D(H,m,F);t=document.createElement("div");t.className=t.className+" mm_message_skip";t.innerHTML=q;t.style.display="none";t.style.position="absolute";t.style.pointerEvents="auto";D(t,g,z);t.onclick=f;A=document.createElement("div");A.className=A.className+" mm_title_string";A.innerHTML=l;A.style.position="absolute";D(A,y,e);r.appendChild(H);r.appendChild(t);r.appendChild(A)};var f=(function(K){return function(){K.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED));K.reset_skip.apply()}})(this);var D=function(N,M,L){var K;for(K in L){N.style[K]=L[K]}if(M!=undefined){for(K in M){N.style[K]=M[K]}}};var G=function(){t.style.display="block";H.style.display="none";n=true};this.reset_skip=function(){t.style.display="none";H.innerHTML="";H.style.display="block";n=false;r.style.visibility="hidden"};this.setCarcasaVisible=function(){r.style.visibility=""};var C=0;var k=false;this.setProgress=function(K,L){if(isNaN(K)||isNaN(L)||(L<1)){C++;K=C;L=p;k=true}if(u){if((K>=p)&&(!n)){G()}else{H.innerHTML=h.replace("%s",p-K)}}else{if((K>L)&&(!n)){n=true;if(k){G()}}else{if(!n){H.innerHTML=I.replace("%s",L-K)}}}};this.setSecondsSkip=function(K){p=K}}a.Carcasa=b})(emic.publicidad);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(){psd.framework.EventDispatcher.call(this);this.className="emic.publicidad.controllers.BasePubliController";this.isReady=false;this.handled=false;this.skipped=false;this.objContentPublisher={};this.objContentPublisher.currentTime;this.notifyPubliLoaded=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_LOADED))};this.notifyPubliStarted=function(c,e,f){var d=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_STARTED);d.data.name=c;d.data.internalData=e;d.data.contentType=f;this.dispatchEvent(d)};this.notifyPubliPaused=function(c,e,f){var d=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_PAUSED);d.data.name=c;d.data.internalData=e;d.data.contentType=f;this.dispatchEvent(d)};this.notifyPubliResumed=function(c,e,f){var d=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_RESUMED);d.data.name=c;d.data.internalData=e;d.data.contentType=f;this.dispatchEvent(d)};this.notifyPubliEnded=function(c,e,f){var d=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ENDED);d.data.name=c;d.data.internalData=e;d.data.contentType=f;this.dispatchEvent(d)};this.notifySkippedPubli=function(c,e,f){var d=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED);d.data.name=c;d.data.internalData=e;d.data.contentType=f;this.dispatchEvent(d)};this.notifyAllPubliEnded=function(d){var c=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED);c.data.contentType=d;this.dispatchEvent(c)};this.notifyPubliError=function(f,d,e){var c=new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_ERROR);c.data.code=d;c.data.msg=f;c.data.internalData=e;this.dispatchEvent(c)};this.notifyContentPauseRequested=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED))};this.notifyContentResumeRequested=function(){this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED))};this.notifyControllerLoaded=function(c){this.isReady=true;this.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED))};this.init=function(e,d,c,f){};this.kill=function(){};this.remainingTime=function(){};this.pause=function(){};this.resume=function(){};this.closeAd=function(){};this.setVolume=function(c){};this.loadPubli=function(c){};this.requestAds=function(){};this.getDataEvent=function(){};this.updateContentPublisher=function(d,c){this.objContentPublisher[d]=c};this.isSkipped=function(c){this.skipped=c}}a.BasePubliController=b})(emic.publicidad.controllers);(function(b){a.prototype=new emic.publicidad.controllers.BasePubliController();function a(){var d=null;emic.publicidad.controllers.BasePubliController.call(this);this.className="emic.publicidad.controllers.Ima3Controller";this.objContentPublisher={};this.objContentPublisher.currentTime=undefined;var c=function(){var f=emic.publicidad.controllers.factory;if(getDevice().mobile||!FlashDetect.installed){d=f.getController(emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5)}else{d=f.getController(emic.publicidad.PubliManager.CONTROLLER_IMA3_FLASH)}if(!d.handled){d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_STARTED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_PAUSED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_RESUMED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ENDED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.ALL_PUBLI_ENDED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_LOADED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.PUBLI_ERROR,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_PAUSE_REQUESTED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.CONTENT_RESUME_REQUESTED,e,this);d.addEventListener(emic.publicidad.events.PubliEvent.CONTROLLER_LOADED,e,this);d.handled=true}};var e=function(f){this.dispatchEvent(f)};this.init=function(k,h,f,l,g){if(!d){c.apply(this)}d.init(k,h,f,l,g)};this.kill=function(){if(d){d.kill()}};this.remainingTime=function(){if(d){return d.remainingTime()}};this.loadPubli=function(f){if(d){d.loadPubli(f)}};this.requestAds=function(){if(d){d.requestAds()}};this.pause=function(){if(d){d.pause()}};this.resume=function(){if(d){d.resume()}};this.setVolume=function(f){if(d){d.setVolume(f)}};this.closeAd=function(){if(d){d.closeAd()}};this.getDataEvent=function(){if(d){return d.getDataEvent()}}}b.Ima3Controller=a})(emic.publicidad.controllers);(function(b){a.prototype=new emic.publicidad.controllers.BasePubliController();function a(){this.className="emic.publicidad.controllers.Ima3Html5Controller";emic.publicidad.controllers.BasePubliController.call(this);var f;var e;var F;var E;var H;var Q;var c;var k;var N;var L;var B;var K=640;var x=400;var t=640;var y=150;var G=false;var q=false;var J=false;var s={};var D=1;var C=0;var g=2;var o="http://s0.2mdn.net/instream/html5/ima3.js";_APIFRAMEWORK_VPAID="VPAID";_AUDIO_MIMETYPE="audio/mp4";_CONTENTTYPE_AUDIO="audio";_CONTENTTYPE_VIDEO="video";emic.miatajo=this;this.init=function(U,T,R,V,S){if(G==C){G=D;c=document.getElementById(U);c.style.visibility="hidden";N=c.clientWidth;L=c.clientHeight;emic.publicidad.PubliModel.loadDomDependence(o,m,this)}else{if(G==g){this.notifyControllerLoaded()}}};this.kill=function(){if(G!=C){if(F){F.destroy()}else{J=true}}};this.remainingTime=function(){H=Number(E-f.getRemainingTime());Q={};Q.currentTime=H;Q.totalTime=E;return Q};this.getDataEvent=function(){return s};this.loadPubli=function(R){if(G==g){k=R;F.initialize();n.apply(this)}else{q=true}};this.pause=function(){f.pause()};this.resume=function(){f.resume()};this.closeAd=function(){f.stop()};this.setVolume=function(R){f.setVolume(R)};var m=function(){if(!J){h.apply(this);G=g;this.notifyControllerLoaded();if(q){q=false;n.apply(this)}}else{J=false;G=C}};var l=function(){};function h(){F=new google.ima.AdDisplayContainer(c);e=new google.ima.AdsLoader(F);e.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r,false);e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d,false)}function n(){var R=new google.ima.AdsRequest();R.adTagUrl=k;R.adType="video";R.linearAdSlotWidth=K;R.linearAdSlotHeight=x;R.nonLinearAdSlotWidth=t;R.nonLinearAdSlotHeight=y;e.requestAds(R);e.contentComplete()}var r=(function(R){return function(S){v.apply(R,[S])}})(this);function v(R){f=R.getAdsManager(this.objContentPublisher);f.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d);f.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,A);f.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,M);f.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,z);f.addEventListener(google.ima.AdEvent.Type.LOADED,z);f.addEventListener(google.ima.AdEvent.Type.STARTED,z);f.addEventListener(google.ima.AdEvent.Type.PAUSED,z);f.addEventListener(google.ima.AdEvent.Type.RESUMED,z);f.addEventListener(google.ima.AdEvent.Type.COMPLETE,z);f.addEventListener(google.ima.AdEvent.Type.SKIPPED,z);f.addEventListener(google.ima.AdEvent.Type.AD_METADATA,z);try{f.init("100%","100%",google.ima.ViewMode.NORMAL);f.start()}catch(S){}}var z=(function(R){return function(S){w.apply(R,[S])}})(this);function w(R){var S=R.getAd();switch(R.type){case google.ima.AdEvent.Type.AD_METADATA:break;case google.ima.AdEvent.Type.LOADED:this.notifyPubliLoaded();if(!S.isLinear()){}break;case google.ima.AdEvent.Type.STARTED:E=S.getDuration();if((S.getContentType()!=_AUDIO_MIMETYPE)){O();B=_CONTENTTYPE_VIDEO}else{u();B=_CONTENTTYPE_AUDIO}s.name=S.getTitle();s.internalData=S;s.contentType=B;this.notifyPubliStarted(S.getTitle(),S,B);break;case google.ima.AdEvent.Type.PAUSED:this.notifyPubliPaused(S.getTitle(),S,B);break;case google.ima.AdEvent.Type.RESUMED:this.notifyPubliResumed(S.getTitle(),S,B);break;case google.ima.AdEvent.Type.COMPLETE:if(!this.skipped){this.notifyPubliEnded(S.getTitle(),S,B)}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.notifyAllPubliEnded(B);break;case google.ima.AdEvent.Type.SKIPPED:this.notifySkippedPubli(S.getTitle(),S,B);break}}var d=(function(R){return function(S){P.apply(R,[S])}})(this);function P(R){var S=R.getError();this.notifyPubliError(S.getMessage(),S.getErrorCode(),R)}var A=(function(R){return function(){p.apply(R)}})(this);function p(){this.notifyContentPauseRequested()}var M=(function(R){return function(){I.apply(R)}})(this);function I(){this.notifyContentResumeRequested()}var O=function(){c.style.visibility="";f.resize("100%","100%",google.ima.ViewMode.NORMAL)};var u=function(){c.style.visibility="hidden"}}b.Ima3Html5Controller=a}(emic.publicidad.controllers));(function(a){b.prototype=new emic.publicidad.controllers.BasePubliController();function b(){this.className="emic.publicidad.controllers.Ima3FlashController";emic.publicidad.controllers.BasePubliController.call(this);var h;var s;var k;var m;var d;var c;var n;var o;var g={};CONTENTTYPE_AUDIO="audio";CONTENTTYPE_VIDEO="video";this.init=function(w,v,t,x,u){d=v;c=t;s=x;f.apply(this);n=u;m=document.getElementById(w);p.apply(this)};this.kill=function(){if(m){while(m.firstChild){m.removeChild(m.firstChild)}}};this.remainingTime=function(){o={};o.currentTime=r.apply(this).getTime().currentTime;o.totalTime=r.apply(this).getTime().totalTime;return o};this.getDataEvent=function(){return g};this.loadPubli=function(t){this._url=t;this.requestAds()};this.resume=function(){r.apply(this).resume()};this.pause=function(){r.apply(this).pause()};this.setVolume=function(t){r.apply(this).setVolume(t)};this.requestAds=function(){f.apply(this);try{r.apply(this).requestAdsJS(this._url)}catch(t){}};var f=function(){emic["ima3flash_"+s]=this};var r=function(){return document.getElementById("IMA3FlashController_"+s)};var p=function(){if(!this.isReady){while(m.firstChild){m.removeChild(m.firstChild)}k=document.createElement("div");k.id="IMA3FlashController_"+s;m.appendChild(k);var x=(function(B){return function(C){k=document.getElementById("IMA3FlashController_"+s);k.style.width="1px";k.style.height="1px"}})(this);var u={id:s};var z={menu:"false",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:"#000000",wmode:"opaque",scale:"noscale",salign:"TL"};var v={id:k.id};var t="/psdmedia/resources/swf/psd/IMA3FlashController.swf";var w="/player/bin/swf/expressInstall.swf";var A=n?(n+t):t;var y=n?(n+w):w;swfobject.embedSWF(A,k.id,"100%","100%","10.0.0",y,u,z,v,x)}else{this.notifyControllerLoaded()}};var e=function(){k.style.visibility="";k.style.width="100%";k.style.height="100%"};var q=function(){k.style.visibility="hidden"};this.adManagerHandlerSWF=function(u,t,v){switch(u){case"started":if(v==CONTENTTYPE_VIDEO){e()}else{q()}g.name=t;g.internalData={};g.contentType=v;this.notifyPubliStarted(t,{},v);break;case"paused":this.notifyPubliPaused(t,{},v);break;case"resumed":this.notifyPubliResumed(t,{},v);break;case"skipped":this.notifySkippedPubli(t,{},v);break;case"completed":if(!this.skipped){this.notifyPubliEnded(t,{},v)}break;case"allAdsCompleted":this.notifyAllPubliEnded(v);break;case"contentPauseRequested":this.notifyContentPauseRequested();break;case"contentResumeRequested":this.notifyContentResumeRequested();break}};this.setAdSkippableStateSWF=function(t){};this.adManagerHandlerErrorSWF=function(t,w,v,u){k.style.visibility="";this.notifyPubliError(v,u,t)};this.adsLoaderErrorHandlerSWF=function(t,w,v,u){k.style.visibility="";this.notifyPubliError(v,u,t)};this.onAdProgressSWF=function(t){if(t>10){}};this.receivedFromJavaScript=function(){};var l=(function(t){return function(){t.dispatchEvent(new emic.publicidad.events.PubliEvent(emic.publicidad.events.PubliEvent.PUBLI_SKIPPED))}})(this);this.readySWF=function(){this.notifyControllerLoaded()};this.closeAd=function(){try{r.apply(this).closeAdJS()}catch(t){}}}a.Ima3FlashController=b}(emic.publicidad.controllers));(function(a){b.prototype=new psd.framework.EventDispatcher();function b(){psd.framework.EventDispatcher.call(this);this.className="emic.publicidad.controllers.PubliControllerFactory";emic.publicidad.controllers.factory=this;var d;var c={};this.getController=function(f){var e;if(c[f]){e=c[f]}else{switch(f){case emic.publicidad.PubliManager.CONTROLLER_IMA3_FLASH:e=new emic.publicidad.controllers.Ima3FlashController();break;case emic.publicidad.PubliManager.CONTROLLER_IMA3_HTML5:e=new emic.publicidad.controllers.Ima3Html5Controller();break;case emic.publicidad.PubliManager.CONTROLLER_IMA3:e=new emic.publicidad.controllers.Ima3Controller();break;default:e=new emic.publicidad.controllers.Ima3Controller()}c[f]=e}return e}}a.PubliControllerFactory=b}(emic.publicidad.controllers));