(function(a){if(a.psd==undefined){a.psd={}}if(a.psd.fenix==undefined){a.psd.fenix={}}if(a.psd.fenix.controls==undefined){a.psd.fenix.controls={}}if(a.psd.fenix.display==undefined){a.psd.fenix.display={}}if(a.psd.fenix.display.commands==undefined){a.psd.fenix.display.commands={}}if(a.psd.fenix.event==undefined){a.psd.fenix.event={}}if(a.psd.fenix.media==undefined){a.psd.fenix.media={}}if(a.psd.fenix.stage==undefined){a.psd.fenix.stage={}}if(a.psd.fenix.text==undefined){a.psd.fenix.text={}}if(a.psd.fenix.textures==undefined){a.psd.fenix.textures={}}})(window);(function(b){a._nextID=0;a.getKeyId=function(){return a._nextID++};function a(){}b.UID=a})(psd.fenix);(function(a){b.colorToRGB=function(e,j){if(typeof e==="string"&&e[0]==="#"){e=window.parseInt(e.slice(1),16)}j=(j===undefined)?1:j;var h=e>>16&255,f=e>>8&255,c=e&255,d=(j<0)?0:((j>1)?1:j);if(d===1){return"rgb("+h+","+f+","+c+")"}else{return"rgba("+h+","+f+","+c+","+d+")"}};function b(){}a.ColorUtil=b})(psd.fenix);(function(a){b.containsPoint=function(d,c,e){return !(c<d.x||c>d.x+d.width||e<d.y||e>d.y+d.height)};b.intersects=function(d,c){return !(d.x+d.width<c.x||c.x+c.width<d.x||d.y+d.height<c.y||c.y+c.height<d.y)};function b(){}a.MathUtil=b})(psd.fenix);(function(a){function b(c,d){this.x=c|0;this.y=d|0;this.clone=function(){return new b(this.x,this.y)};this.add=function(e){return new b(this.x+e.x,this.y+e.y)};this.degreesTo=function(g){var f=this.x-g.x;var e=this.y-g.y;var h=Math.atan2(e,f);return h*(180/Math.PI)};this.distance=function(f){var e=this.x-f.x;var g=this.y-f.y;return Math.sqrt(e*e+g*g)};this.equals=function(e){return this.x==e.x&&this.y==e.y};this.interpolate=function(g,e){return new b((this.x+g.x)*e,(this.y+g.y)*e)};this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};this.normalize=function(f){var e=this.length();this.x=this.x/e*f;this.y=this.y/e*f};this.orbit=function(f,e,g,j){var h=j*(Math.PI/180);this.x=f.x+e*Math.cos(h);this.y=f.y+g*Math.sin(h)};this.offset=function(f,e){this.x+=f;this.y+=e};this.subtract=function(e){return new b(this.x-e.x,this.y-e.y)};this.toString=function(){return"(x="+this.x+", y="+this.y+")"};b.interpolate=function(h,g,e){return new b((h.x+g.x)*e,(h.y+g.y)*e)};b.polar=function(e,f){return new b(e*Math.sin(f),e*Math.cos(f))};b.distance=function(g,f){var e=g.x-f.x;var h=g.y-f.y;return Math.sqrt(e*e+h*h)}}a.Point=b})(psd.fenix);(function(b){function a(d,e,c){this.x=d|0;this.y=e|0;this.r=c|1;this.clone=function(){return new a(this.x,this.y,this.r)};this.toString=function(){return"(x="+this.x+", y="+this.y+", radius="+this.r+")"}}b.Girth=a})(psd.fenix);(function(b){function a(d,f,e,c){this.x=d||0;this.y=f||0;this.width=e||1;this.height=c||1;this.clone=function(){return new a(this.x,this.y,this.width,this.height)};this.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}b.Rectangle=a})(psd.fenix);(function(b){a.prototype=new psd.framework.Event();a.ABORT="abort";a.BEGIN="begin";a.CAN_PLAY="canplay";a.CAN_PLAY_THROUGH="canplaythrough";a.DURATION_CHANGE="durationchange";a.EMPTIED="emptied";a.ENDED="ended";a.ERROR="error";a.LOADED_DATA="loadeddata";a.LOADED_METADATA="loadedmetadata";a.LOAD_START="loadstart";a.PAUSE="pause";a.PLAY="play";a.PLAYING="playing";a.PROGRESS="progress";a.RATE_CHANGE="ratechange";a.READY_STATE_CHANGE="readystatechange";a.SEEKED="seeked";a.SEEKING="seeking";a.STALLED="stalled";a.SUSPEND="suspend";a.TIME_UPDATE="timeupdate";a.VOLUME_CHANGE="volumechange";a.WAITING="waiting";this.data=null;function a(c,d){psd.framework.Event.call(this,c);this.data=d}b.MediaEvent=a})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CLICK="click";a.MOUSE_DOWN="mouseDown";a.MOUSE_UP="mouseUp";a.MOUSE_MOVE="mouseMove";a.MOUSE_OVER="mouseOver";a.MOUSE_OUT="mouseOut";a.MOUSE_WHEEL="mouseWheel";this.stageX=0;this.stageY=0;this.localX=0;this.localY=0;this.delta=0;function a(g,f,e,d,c){psd.framework.Event.call(this,g);this.stageX=f!=undefined?f:0;this.stageY=e!=undefined?e:0;this.localX=d!=undefined?d:0;this.localY=c!=undefined?c:0}b.MouseEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.CHANGE="change";this.data=null;function b(c,d){psd.framework.Event.call(this,c);this.data=d}a.ProgressEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.INIT="init";a.INIT_ERROR="initError";a.ADDED_TO_STAGE="addedToStage";a.REMOVED_FROM_STAGE="removedFromStage";a.ENTER_FRAME="enterFrame";a.ADDED="added";a.REMOVED="removed";a.RESIZE="resize";a.DISPLAY_STATE_CHANGE="displayStateChange";this.currentTarget=null;function a(c,d){psd.framework.Event.call(this,c);this.currentTarget=d}b.StageEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.KEY_DOWN="keyDown";b.KEY_UP="keyUp";this.keyCode=0;function b(c,d){psd.framework.Event.call(this,c);this.keyCode=d}a.KeyboardEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CACHE_FLUSH="cacheFlush";function a(c){psd.framework.Event.call(this,c)}b.CacheEvent=a})(psd.fenix.event);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(d,k,p){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.textures.TextureAtlas";var s=(p==true||p=="true")?true:false;var c=d;var f=false;var r=(function(t){return function(){n.apply(t)}})(this);var n=function(){f=true;if(m){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var o=null;var e=k;var m=false;var q=new psd.framework.Mediator();var g=function(t){if(s){o=t.result.parserResult.result}else{o=JSON.parse(t.result.parserResult.result)}m=true;if(f){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var h=function(t){Log.log("onMediateError: "+t)};var j=new psd.framework.Parser();var l=new Image();this.texture=function(){return l};this.getFrames=function(v){var u,t,x,w=[];if(v=="*"){w=o.frames}else{if(Object.prototype.toString.apply(v)!="[object Array]"){v=[v]}for(u in o.frames){x=o.frames[u];for(t in v){if(x.filename.indexOf(v[t])==0){w.push(x)}}}}return w};q.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,g,this);q.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,h,this);q.mediate(e,j,s?psd.framework.Mediator.RESPONSE_JSONP:psd.framework.Mediator.RESPONSE_JSON);l.onload=r;l.crossOrigin="anonymous";l.src=c}a.TextureAtlas=b})(psd.fenix.textures);(function(b){function a(c,f){this.className="psd.fenix.display.commands.BeginFillCommand";var e=c!=undefined?c:0;var d=f!=undefined?f:1;this.exec=function(g){g.closePath();g.fillStyle=psd.fenix.ColorUtil.colorToRGB(e,d);g.beginPath()}}b.BeginFillCommand=a})(psd.fenix.display.commands);(function(b){function a(k,l,d,e,g){this.className="psd.fenix.display.commands.BeginGradientFillCommand";var c=k;var f=(l!=undefined&&(l=="linear"||l=="radial"))?l:"linear";var j=d!=undefined?d:[];var h=e!=undefined?e:[];var m=g!=undefined?g:[];this.exec=function(n){var p=f=="linear"?n.createLinearGradient(0,0,0,c.height()):n.createRadialGradient(0,0,1,1,1,1),o;for(o in j){p.addColorStop(m[o],psd.fenix.ColorUtil.colorToRGB(j[o],h[o]))}n.closePath();n.fillStyle=p;n.beginPath()}}b.BeginGradientFillCommand=a})(psd.fenix.display.commands);(function(b){function a(g,d,c,k){this.className="psd.fenix.display.commands.CurveToCommand";var j=g!=undefined?g:0;var f=d!=undefined?d:0;var h=c!=undefined?c:0;var e=k!=undefined?k:0;this.exec=function(l){l.quadraticCurveTo(j,f,h,e);l.stroke()}}b.CurveToCommand=a})(psd.fenix.display.commands);(function(a){function b(d,h,c){this.className="psd.fenix.display.commands.DrawCircleCommand";var f=d!=undefined?d:0;var e=h!=undefined?h:0;var g=c!=undefined?c:0;this.exec=function(j){j.arc(f,e,g,0,2*Math.PI,false);return new psd.fenix.Rectangle(f-g,e-g,g*2,g*2)}}a.DrawCircleCommand=b})(psd.fenix.display.commands);(function(b){function a(e,k,j,d){this.className="psd.fenix.display.commands.DrawRectCommand";var g=e!=undefined?e:0;var f=k!=undefined?k:0;var c=j!=undefined?j:0;var h=d!=undefined?d:0;this.exec=function(l){l.beginPath();l.fillRect(g,f,c,h);l.closePath();return new psd.fenix.Rectangle(g,f,c,h)}}b.DrawRectCommand=a})(psd.fenix.display.commands);(function(b){function a(m,k,c,o,d,n){this.className="psd.fenix.display.commands.DrawRoundRectCommand";var l=m!=undefined?m:0;var j=k!=undefined?k:0;var f=c!=undefined?c:0;var g=o!=undefined?o:0;var e=d!=undefined?d:0;var h=n!=undefined?n:e;this.exec=function(p){p.beginPath();p.moveTo(l+e,j);p.lineTo(l+f-e,j);p.quadraticCurveTo(l+f,j,l+f,j+h);p.lineTo(l+f,j+g-h);p.quadraticCurveTo(l+f,j+g,l+f-e,j+g);p.lineTo(l+e,j+g);p.quadraticCurveTo(l,j+g,l,j+g-h);p.lineTo(l,j+h);p.quadraticCurveTo(l,j,l+e,j);p.closePath();return new psd.fenix.Rectangle(l,j,f,g)}}b.DrawRoundRectCommand=a})(psd.fenix.display.commands);(function(a){function b(){this.className="psd.fenix.display.commands.EndFillCommand";this.exec=function(c){c.fill()}}a.EndFillCommand=b})(psd.fenix.display.commands);(function(b){function a(n,g,f,e,c,j){this.className="psd.fenix.display.commands.LineStyleCommand";var k=n!=undefined?n:0;var m=g!=undefined?g:0;var l=g!=undefined?f:1;var o=e!=undefined?e:"";var d=c!=undefined?c:"";var h=j!=undefined?j:0;this.exec=function(p){p.lineWidth=k;p.lineCap=o;p.lineJoin=d;p.miterLimit=h;p.strokeStyle=psd.fenix.ColorUtil.colorToRGB(m,l)}}b.LineStyleCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.LineToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.lineTo(e,d);g.stroke()}}b.LineToCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.MoveToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.closePath();g.beginPath();g.moveTo(e,d)}}b.MoveToCommand=a})(psd.fenix.display.commands);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.Graphics";var d=null;var c=[];this.bounds=function(){return d};this.draw=function(e){var g,f;e.save();e.beginPath();for(g=0;g<c.length;g++){f=c[g].exec(e);if(f!=undefined){if(d==null){d=new psd.fenix.Rectangle(f.x,f.y,f.width,f.height)}else{if(f.x<d.x){d.x=f.x}if(f.y<d.y){d.y=f.y}if((f.width+f.x)>(d.width+d.x)){d.width=f.x-d.x+f.width}if((f.height+f.y)>(d.height+d.y)){d.height=f.y-d.y+f.height}}}}e.closePath();e.restore()};this.beginFill=function(e,f){c.push(new psd.fenix.display.commands.BeginFillCommand(e,f))};this.beginGradientFill=function(j,g,f,e,h){c.push(new psd.fenix.display.commands.BeginGradientFillCommand(j,g,f,e,h))};this.clear=function(){c=[]};this.curveTo=function(g,f,e,h){c.push(new psd.fenix.display.commands.CurveToCommand(g,f,e,h))};this.drawCircle=function(f,g,e){c.push(new psd.fenix.display.commands.DrawCircleCommand(f,g,e))};this.drawRect=function(f,h,g,e){c.push(new psd.fenix.display.commands.DrawRectCommand(f,h,g,e))};this.drawRoundRect=function(f,k,g,e,j,h){c.push(new psd.fenix.display.commands.DrawRoundRectCommand(f,k,g,e,j,h))};this.endFill=function(){c.push(new psd.fenix.display.commands.EndFillCommand())};this.lineStyle=function(h,g,k,j,e,f){c.push(new psd.fenix.display.commands.LineStyleCommand(h,g,k,j,e,f))};this.lineTo=function(e,f){c.push(new psd.fenix.display.commands.LineToCommand(e,f))};this.moveTo=function(e,f){c.push(new psd.fenix.display.commands.MoveToCommand(e,f))}}b.Graphics=a})(psd.fenix.display);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.DisplayObject";var q=psd.fenix.UID.getKeyId();var r=false;var n=0;var u=0;var x=0;var h=0;var w=0;var s=0;var d=null;var e=false;var v=function(z){t=z.currentTarget};this.addEventListener(psd.fenix.StageEvent.ADDED,v);var f=function(z){p=z.currentTarget;k=p.context2d()};var y=null;this.graphicsBounds=function(){return y};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,f,this);this._prepareContext=function(z){if(z){z.translate(this.x,this.y);z.rotate(this.rotation);z.scale(m,j);z.globalAlpha=this.globalAlpha();if(this.scrollRect!=null){z.beginPath();z.rect(0,0,this.scrollRect.width,this.scrollRect.height);z.clip();z.translate(-this.scrollRect.x,-this.scrollRect.y)}}};this.name="instance_"+q;this.x=0;this.globalX=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.x}else{return this.parent().globalX()+this.x*this.parent().scaleX()}}};this.y=0;this.globalY=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.y}else{return this.parent().globalY()+this.y*this.parent().scaleY()}}};this.z=0;this.width=function(z){if(z&&z!=u){u=z;r=false}if(!r){this.measure()}return x};this.height=function(z){if(z&&z!=w){w=z;r=false}if(!r){this.measure()}return s};var m=1;this.scaleX=function(z){if(z&&z!=m){m=z;r=false}return m};var j=1;this.scaleY=function(z){if(z&&z!=j){j=z;r=false}return j};this.rotation=0;this.alpha=1;var l=false;this.boundsDetection=function(z){if(z!=undefined){l=z}return l};this.globalAlpha=function(z){if(z&&z!=_alpha){_alpha=z}if(this.className=="psd.fenix.Stage"){return this.alpha}else{if(this.parent()==null){return 1}else{return this.parent().globalAlpha()*this.alpha}}};this.visible=true;this.mouseEnabled=true;this.buttonMode=false;this.useHandCursor=true;this.scrollRect=null;this.cacheAsBitmap=false;var g;this.cache=function(){return g};this.invalidateCache=function(){if(Object.prototype.toString.call(z)==="[object HTMLCanvasElement]"){var z=document.createElement("canvas");g={canvas:z,ctx:z.getContext("2d"),svg:null,data:null,url:null,img:new Image(),caching:false,ready:0,delay:Math.floor(Math.random()*60),DOMURL:self.URL||self.webkitURL||self}}else{g={}}this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH))};var p=null;this.stage=function(){return p};var t=null;this.parent=function(){return t};var k=null;this.context2d=function(){return k};var c=new psd.fenix.display.Graphics();this.graphics=function(){return c};this.validateGraphics=function(){var z=this.graphics().bounds(),A=false;if(z!=null){if(y==null){A=true}else{if((y.x!=z.x)||(y.y!=z.y)||(y.width!=z.width)||(y.height!=z.height)){A=true}}}if(A){y=new psd.fenix.Rectangle(z.x,z.y,z.width,z.height);r=false}};this.invalidateSize=function(z,A){if(z!=null&&z!=undefined){n=z}if(A!=null&&A!=undefined){h=A}r=false;if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateSize()}this.invalidateCache();if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateCache()}};this.validateSize=function(z,A){if(!r){if(n!=0){z=n}if(h!=0){A=h}if(z==0){z=u}if(A==0){A=w}if(u!=0&&z!=0){m=u/z}if(w!=0&&A!=0){j=w/A}x=z*m;s=A*j;r=true;this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH));this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}};this.measure=function(){this.validateGraphics();if(!r){if(y){this.validateSize(y.width,y.height)}else{this.validateSize(n,h)}}};this.render=function(z){if(z!=null&&this.visible&&this.globalAlpha()>0){z.save();this._prepareContext.apply(this,[z]);this.graphics().draw(z);this.measure();if(this._render){this._render(z)}z.restore()}};this.testHit=function(z,C,A){var B=(z>=this.globalX()&&z<=this.globalX()+this.width()&&C>=this.globalY()&&C<=this.globalY()+this.height());if(B&&!l&&psd!=null&&psd.fenix!=null&&A!=null){A.clearRect(0,0,1,1);A.save();this._prepareContext(A);if(typeof(this._render)!="undefined"){this._render(A,true)}this.render(A,true);if(typeof(A.getImageData)!="undefined"){B=A.getImageData(0,0,1,1).data[3]>1}A.restore()}return B};var o=false;this.isMouseDown=function(z){if(z==true||z==false){o=z}return o};this.invalidateMouseStatus=function(z){this.updateMouseStatus(false,z,true)};this.calculateMouseStatus=function(A){var z=this.visible&&this.testHit(A.x,A.y,A.hitContext);this.updateMouseStatus(z,A,false);return z};this.updateMouseStatus=function(z,A,B){if(this.className!="psd.fenix.Stage"){if(z){if(!e){e=true;if(!B){if(this.buttonMode&&this.useHandCursor){document.body.style.cursor="pointer"}}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,A.x,A.y))}}else{if(e){e=false;if(!B){document.body.style.cursor="auto"}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,A.x,A.y))}}}};this.calculateMouseDownStatus=function(A){var z=this.visible&&this.testHit(A.x,A.y,A.hitContext);this.updateMouseDownStatus(z,A);return z};this.updateMouseDownStatus=function(z,A){if(A.down){if(z){if(!o){o=true;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,A.x,A.y,A.x-this.globalX(),A.y-this.globalY()))}}}else{if(o){o=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,A.x,A.y,A.x-this.globalX(),A.y-this.globalY()))}}}}else{if(o){o=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,A.x,A.y,A.x-this.globalX(),A.y-this.globalY()))}}}};this.invalidateCache()}b.DisplayObject=a})(psd.fenix);(function(a){b.prototype=new psd.fenix.DisplayObject();function b(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.DisplayObjectContainer";var d=function(f){var g,h=c.length;for(g=0;g<h;g++){c[g].dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,f.currentTarget))}};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,d,this);var c=[];this.displayList=function(){return c};this.numChildren=function(){return c.length};var e=true;this.mouseChildren=function(f){if(f==true||f==false){e=f}return e};this.addChild=function(f){c.push(f);f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return f};this.removeChild=function(g){var f=this.getChildIndex(g);if(f>=0){c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED_FROM_STAGE,this))}}return g};this.addChildAt=function(g,f){c.splice(f,0,g);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return g};this.removeChildAt=function(f){var g=null;if(f>=0&&f<=c.length){g=c[f];c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}}return g};this.getChildIndex=function(h){var g=0,f=-1;for(g in c){if(c[g]===h){f=g;break}}return f};this.measure=function(){var h,n,g,l=c.length,f=Number.MAX_VALUE,k=-Number.MAX_VALUE,m=Number.MAX_VALUE,j=-Number.MAX_VALUE;if(l){for(h=0;h<l;h++){n=c[h];if(n.x<f){f=n.x}if((n.x+n.width())>k){k=n.x+n.width()}if(n.y<m){m=n.y}if((n.y+n.height())>j){j=n.y+n.height()}}}this.validateGraphics();if(this.graphicsBounds()){if(this.graphicsBounds().x<f){f=this.graphicsBounds().x}if(this.graphicsBounds().y<m){m=this.graphicsBounds().y}if(this.graphicsBounds().width+this.graphicsBounds().x>k){k=this.graphicsBounds().width+this.graphicsBounds().x}if(this.graphicsBounds().height+this.graphicsBounds().y>j){j=this.graphicsBounds().height+this.graphicsBounds().y}}this.validateSize((k-f),(j-m))};this.removeAllChildren=function(){while(this.numChildren()>0){this.removeChildAt(0)}};this.render=function(g){var k,j=this.cache(),f=this.width(),l=this.height();if(g!=null&&this.visible&&this.globalAlpha()>0){g.save();this._prepareContext(g);if(this.cacheAsBitmap&&j.ready>0){j.ready=Math.max(j.ready-1,0);g.drawImage(j.img,0,0)}else{this.graphics().draw(g);if(this._render){this._render(g)}for(k=0;k<c.length;k++){c[k].render(g)}if(this.cacheAsBitmap){if(j.delay>0){j.delay--}else{if(j.ready==0&&!j.caching){f=2*f;l=2*l;j.caching=true;j.canvas.setAttribute("width",f);j.canvas.setAttribute("height",l);j.ctx.clearRect(0,0,f,l);this.graphics().draw(j.ctx);if(this._render){this._render(j.ctx)}for(k=0;k<c.length;k++){c[k].render(j.ctx)}j.url=j.canvas.toDataURL();j.img.onload=function(){j.ready=60*60*5;j.caching=false};j.img.src=j.url}}}}this.measure();g.restore()}};this.invalidateMouseStatus=function(g){var f;for(f in c){c[f].invalidateMouseStatus(g)}b.prototype.invalidateMouseStatus.apply(this,[g])};this.calculateMouseStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseStatus(j);if(h){break}}if(f>0){while(f>0){f--;c[f].invalidateMouseStatus(j)}}g.restore();if(!h){h=b.prototype.calculateMouseStatus.apply(this,[j])}this.updateMouseStatus(h,j,true)}return h};this.calculateMouseDownStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseDownStatus(j);if(h){break}}g.restore();if(!h){h=b.prototype.calculateMouseDownStatus.apply(this,[j])}this.updateMouseDownStatus(h,j)}return h}}a.DisplayObjectContainer=b})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(f,j){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Movieclip";var h=0;var g=true;var e=f;var d=j;this.invalidateSize(d[0].frame.w,d[0].frame.h);this._render=function(t,s){var q=d[h],m=q.frame,o=q.rotated,l=o?m.h:m.w,p=o?m.w:m.h,r=o?this.height():this.width(),n=o?this.width():this.height();if(o){t.translate(0,n/2);t.rotate(-Math.PI/2)}t.drawImage(e,m.x,m.y,l,p,0,0,l,p);if(g&&!s){h++;if(h>=d.length){h=0}}};var k=function(l){var n=h,m;for(m in d){if(d[m].label==l){n=m;break}}return n};var c=function(p){var l={width:0,height:0},n=d[p],m=n.frame,o=n.rotated;l.width=o?m.h:m.w;l.height=o?m.w:m.h;return l};this.gotoAndStop=function(m){var l;this.stop();if(typeof(m)=="number"){h=m}else{if(typeof(m)=="string"){h=k(m)}}l=c.apply(this,[h]);this.invalidateSize(l.width,l.height)};this.gotoAndPlay=function(l){if(typeof(l)=="number"){h=l}else{if(typeof(l)=="string"){h=k(l)}}this.play()};this.play=function(){g=true};this.stop=function(){g=false};this.currentFrame=function(){return h};this.currentLabel=function(){return d[h].label}}b.Movieclip=a})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(e){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.display.Video";var f=e;var d=false;var c=f.mediaTag();this._render=function(g){if(d&&c!=null){g.drawImage(c,0,0,this.width(),this.height())}};this.testHit=function(g,h){return(g>=this.x&&g<=this.x+this.width()&&h>=this.y&&h<=this.y+this.height())}}b.Video=a})(psd.fenix.display);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(d){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Clip";this.viewPort=null;var e=d;var f=false;var c=new Image();c.onload=(function(g){return function(){f=true;g.invalidateSize(c.width,c.height)}})(this);this._render=function(g,h){if(f==true){if(this.viewPort==null){if(this.width()==0&&this.height()==0){g.drawImage(c,0,0)}else{g.drawImage(c,0,0,this.width(),this.height())}}else{g.drawImage(c,this.viewPort.x,this.viewPort.y,this.viewPort.width,this.viewPort.height,this.x,this.y,this.width(),this.height())}}};c.src=e}b.Clip=a})(psd.fenix);(function(b){a.prototype=new psd.framework.EventDispatcher();a.TYPE_VIDEO="video";a.TYPE_AUDIO="audio";function a(f,d,ac){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaElement";var c=d;var U=f;var w=ac;var S=null;var v=null;var D=(function(ah){return function(ai){N.apply(ah,[ai])}})(this);var N=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ABORT))};var I=(function(ah){return function(ai){l.apply(ah,[ai])}})(this);var l=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY))};var V=(function(ah){return function(ai){k.apply(ah,[ai])}})(this);var k=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH))};var o=(function(ah){return function(ai){F.apply(ah,[ai])}})(this);var F=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.DURATION_CHANGE))};var p=(function(ah){return function(ai){W.apply(ah,[ai])}})(this);var W=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.EMPTIED))};var af=(function(ah){return function(ai){m.apply(ah,[ai])}})(this);var m=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ENDED));S.load()};var K=(function(ah){return function(ai){R.apply(ah,[ai])}})(this);var R=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ERROR))};var Y=(function(ah){return function(ai){ab.apply(ah,[ai])}})(this);var ab=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_DATA))};var Q=(function(ah){return function(ai){ag.apply(ah,[ai])}})(this);var ag=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_METADATA))};var aa=(function(ah){return function(ai){O.apply(ah,[ai])}})(this);var O=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOAD_START))};var j=(function(ah){return function(ai){r.apply(ah,[ai])}})(this);var r=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var t=(function(ah){return function(ai){T.apply(ah,[ai])}})(this);var T=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var ad=(function(ah){return function(ai){G.apply(ah,[ai])}})(this);var G=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAYING))};var A=(function(ah){return function(ai){x.apply(ah,[ai])}})(this);var x=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PROGRESS))};var J=(function(ah){return function(ai){L.apply(ah,[ai])}})(this);var L=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.RATE_CHANGE))};var s=(function(ah){return function(ai){q.apply(ah,[ai])}})(this);var q=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.READY_STATE_CHANGE))};var y=(function(ah){return function(ai){P.apply(ah,[ai])}})(this);var P=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKED))};var C=(function(ah){return function(ai){h.apply(ah,[ai])}})(this);var h=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKING))};var u=(function(ah){return function(ai){ae.apply(ah,[ai])}})(this);var ae=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.STALLED))};var B=(function(ah){return function(ai){g.apply(ah,[ai])}})(this);var g=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SUSPEND))};var z=(function(ah){return function(ai){E.apply(ah,[ai])}})(this);var E=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.TIME_UPDATE,S.currentTime))};var X=(function(ah){return function(ai){H.apply(ah,[ai])}})(this);var H=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.VOLUME_CHANGE))};var e=(function(ah){return function(ai){M.apply(ah,[ai])}})(this);var M=function(ah){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.WAITING))};var Z=function(){var ai="[object HTMLVideoElement]",am="[object HTMLAudioElement]",ak="[object Array]",al=Object.prototype.toString.apply(c),aj,an;S=(al==ai||al==am)?c:null;v=al==ak?c:[c];if(S==null&&(U==a.TYPE_VIDEO||U==a.TYPE_AUDIO)){S=document.createElement(U);if(U=="audio"){S.setAttribute("style","position:absolute;")}else{S.setAttribute("style","position:absolute; background:black;")}S.setAttribute("width",w.width);S.setAttribute("height",w.height);for(aj in v){var ah=document.createElement("source");ah.setAttribute("src",v[aj].src);S.appendChild(ah)}if(typeof(w)!="undefined"&&w!=null){an=w.autoplay;if(typeof(an)!="undefined"&&(an=="true"||an==true)){S.setAttribute("autoplay","autoplay")}an=w.poster;if(typeof(an)!="undefined"&&an!=""){S.setAttribute("poster",an)}}n(psd.fenix.event.MediaEvent.ABORT,D);n(psd.fenix.event.MediaEvent.CAN_PLAY,I);n(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH,V);n(psd.fenix.event.MediaEvent.DURATION_CHANGE,o);n(psd.fenix.event.MediaEvent.EMPTIED,p);n(psd.fenix.event.MediaEvent.ENDED,af);n(psd.fenix.event.MediaEvent.ERROR,K);n(psd.fenix.event.MediaEvent.LOADED_DATA,Y);n(psd.fenix.event.MediaEvent.LOADED_METADATA,Q);n(psd.fenix.event.MediaEvent.LOAD_START,aa);n(psd.fenix.event.MediaEvent.PAUSE,j);n(psd.fenix.event.MediaEvent.PLAY,t);n(psd.fenix.event.MediaEvent.PLAYING,ad);n(psd.fenix.event.MediaEvent.PROGRESS,A);n(psd.fenix.event.MediaEvent.RATE_CHANGE,J);n(psd.fenix.event.MediaEvent.READY_STATE_CHANGE,s);n(psd.fenix.event.MediaEvent.SEEKED,y);n(psd.fenix.event.MediaEvent.SEEKING,C);n(psd.fenix.event.MediaEvent.STALLED,u);n(psd.fenix.event.MediaEvent.SUSPEND,B);n(psd.fenix.event.MediaEvent.TIME_UPDATE,z);n(psd.fenix.event.MediaEvent.VOLUME_CHANGE,X);n(psd.fenix.event.MediaEvent.WAITING,e);psd.fenix.topLevelApplication.insertBefore(S,psd.fenix.topLevelCanvas)}};var n=function(ah,ai){if(S){if(S.addEventListener){S.addEventListener(ah,ai,false)}else{if(S.attachEvent){S.attachEvent(ah,ai)}}}};Z.apply(this);this.currentTime=function(ai){var ah=0;if(S){if(typeof(ai)!="undefined"){S.currentTime=ai}ah=S.currentTime}return ah};this.duration=function(){if(S){return S.duration}else{return 0}};this.autoplay=function(ah){if(S){if(ah==false){S.removeAttribute("autoplay")}else{S.setAttribute("autoplay","autoplay")}}};this.pause=function(){if(S){S.pause()}};this.paused=function(){if(S){return S.paused}else{return false}};this.play=function(){if(S){S.play()}};this.resize=function(ah,ak,ai,aj){if(S){if(ai){S.width=ai}if(aj){S.height=aj}}};this.volume=function(ai){var ah=0;if(S){if(ai>=0&&ai<=1){S.volume=ai}ah=S.volume}return ah};this.load=function(ai){if(typeof(ai.poster)!="undefined"&&ai.poster!=""){S.setAttribute("poster",ai.poster)}S.innerHTML="";if(Object.prototype.toString.apply(ai.mediaSrcHtml5)==="[object Array]"){for(i in ai.mediaSrcHtml5){var ah=document.createElement("source");ah.setAttribute("src",ai.mediaSrcHtml5[i]);S.appendChild(ah)}}else{S.setAttribute("src",ai.mediaSrcHtml5)}S.load()}}b.MediaElement=a})(psd.fenix.media);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaController";var d=null;var j=false;var h=function(l){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var e=function(l){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var g=function(l){j=false;d.autoplay(false);d.pause();d.currentTime(0);this.dispatchEvent(l)};var f=function(l){if(!j){j=true;this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.BEGIN))}this.dispatchEvent(l)};var c=function(l){this.dispatchEvent(l)};var k=function(l){this.dispatchEvent(l)};this.attachStream=function(l){d=l;d.addEventListener(psd.fenix.event.MediaEvent.PLAY,h,this);d.addEventListener(psd.fenix.event.MediaEvent.PAUSE,e,this);d.addEventListener(psd.fenix.event.MediaEvent.ENDED,g,this);d.addEventListener(psd.fenix.event.MediaEvent.PLAYING,f,this);d.addEventListener(psd.fenix.event.MediaEvent.TIME_UPDATE,k,this);d.addEventListener(psd.fenix.event.MediaEvent.WAITING,c,this)};this.currentTime=function(){if(d){return d.currentTime()}else{return 0}};this.currentTimeAsTimeCode=function(l){return this.secondsAsTimeCode(this.currentTime(),l)};this.duration=function(){if(d){return d.duration()}else{return 0}};this.durationAsTimeCode=function(l){return this.secondsAsTimeCode(this.duration(),l)};this.play=function(){if(d){d.play()}};this.pause=function(){if(d){d.pause()}};this.paused=function(){if(d){return d.paused()}else{return false}};this.secondsAsTimeCode=function(p,o){var m=Math.floor(p/3600),n=Math.floor((p-(m*3600))/60),q=Math.floor(p-(m*3600)-(n*60)),l="";if(m<10){m="0"+m}if(n<10){n="0"+n}if(q<10){q="0"+q}if(o==null){l=m+":"+n+":"+q}else{l=o.replace("hh",m);l=l.replace("mm",n);l=l.replace("ss",q)}return l};this.seek=function(l){if(l>0&&l<1){l=l*d.duration()}d.currentTime(l)};this.volume=function(l){if(d){return d.volume(l)}else{return 0}}}a.MediaController=b})(psd.fenix.media);(function(b){function a(){this.className="psd.fenix.text.TextFormat";this.bold=false;this.color=0;this.font="Verdana, Geneva, sans-serif";this.italic=false;this.size=16;this.toCanvasString=function(){var c="";if(this.bold){c+="bold "}if(this.italic){c+="italic "}c+=this.size+"px ";c+=this.font+" ";return c};this.toCSSString=function(){var c=this.color.toString(16);if(c.indexOf("0x")==0){c=c.substr(2)}var d="";d+="font-family:"+this.font+";";d+="font-size:"+this.size+"px;";d+="font-style:"+(this.italic?"italic;":"normal;");d+="font-weight:"+(this.bold?"bold;":"normal;");d+="color:#"+c+";";return d}}b.TextFormat=a})(psd.fenix.text);(function(a){a.TextFieldAutoSize={};a.TextFieldAutoSize.CENTER="center";a.TextFieldAutoSize.LEFT="left";a.TextFieldAutoSize.NONE="none";a.TextFieldAutoSize.RIGHT="right"})(psd.fenix.text);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.text.TextField";var j;var n="<svg xmlns='http://www.w3.org/2000/svg' width='{WIDTH}px' height='{HEIGHT}px'><foreignObject width='100%' height='100%'><div xmlns='http://www.w3.org/1999/xhtml'><span style='{STYLE}'>{TEXT}</span></div></foreignObject></svg>";var o=new psd.fenix.text.TextFormat();this._render=function(q){var p=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){p=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){p=-this.width()}q.beginPath();q.rect(p,0,this.width(),this.height());q.lineWidth=1;q.strokeStyle=psd.fenix.ColorUtil.colorToRGB(g,1);q.fillStyle=psd.fenix.ColorUtil.colorToRGB(h,1);if(c){q.fill()}if(m){q.stroke()}q.beginPath();q.rect(p,0,this.width()+35,this.height());q.clip();q.closePath();if(!d){q.textAlign=f;q.textBaseline="top";q.font=o.toCanvasString();q.fillStyle=psd.fenix.ColorUtil.colorToRGB(o.color,1);q.fillText(k,0,0)}else{if(j.svg==null||j.img==null){j.img=new Image();j.data=n.replace("{TEXT}",k).replace("{WIDTH}",this.width()).replace("{HEIGHT}",this.height()).replace("{STYLE}",o.toCSSString());j.svg=new Blob([j.data],{type:"image/svg+xml;charset=utf-8"});j.url=j.DOMURL.createObjectURL(j.svg);j.img.onload=function(){j.DOMURL.revokeObjectURL(j.url);j.ready=true};j.img.src=j.url}else{if(j.ready){q.drawImage(j.img,0,0)}}}};var e=function(){var p=document.getElementsByTagName("body")[0],r=document.createElement("span"),s=document.createTextNode(k),q=o.toCSSString();r.appendChild(s);r.setAttribute("style",q);if(d){r.setAttribute("style",q+"display:block;width:"+this.width()+"px;")}p.appendChild(r);if(f!=psd.fenix.text.TextFieldAutoSize.NONE){if(!d){this.invalidateSize(r.offsetWidth,r.offsetHeight)}else{this.invalidateSize(this.width(),r.offsetHeight)}}p.removeChild(r)};var l=function(){j={svg:null,data:null,url:null,img:null,ready:false,DOMURL:self.URL||self.webkitURL||self}};var f=psd.fenix.text.TextFieldAutoSize.LEFT;this.autoSize=function(p){if(p==psd.fenix.text.TextFieldAutoSize.NONE||p==psd.fenix.text.TextFieldAutoSize.LEFT||p==psd.fenix.text.TextFieldAutoSize.RIGHT||p==psd.fenix.text.TextFieldAutoSize.CENTER){f=p}return f};var c=false;this.background=function(p){if(p==true||p==false){c=p}return c};var h=16777215;this.backgroundColor=function(p){if(p!=undefined&&p!=null){h=p}return h};var m=false;this.border=function(p){if(p==true||p==false){m=p}return m};var g=0;this.borderColor=function(p){if(p!=undefined&&p!=null){g=p}return g};this.getTextFormat=function(){var p,q={};for(p in o){q[p]=o[p]}return q};var d=false;this.multiline=function(p){if(p!=undefined&&p!=null){d=p}return d};this.setTextFormat=function(p){if(typeof(p.className)!="undefined"&&p.className=="psd.fenix.text.TextFormat"){o=p;if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}}};var k="";this.text=function(p){if(p!=undefined&&p!=null){k=p}if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}l();return k};this.testHit=function(q,r){var p=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){p=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){p=-this.width()}return(q>=(p+this.globalX())&&q<=(p+this.globalX()+this.width())&&r>=this.globalY()&&r<=(this.globalY()+this.height()))};this.addEventListener(psd.fenix.event.CacheEvent.CACHE_FLUSH,l,this);l()}b.TextField=a})(psd.fenix.text);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();function b(m,v,f,w,e,t){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.ProgressBarInterface";var d=false;var u=m;var z=v;var q=f;var y=e;var k=w;var g=null;var s=null;var c=t;var r=false;var x=0;var o=function(){q.buttonMode=true;q.useHandCursor=true;y.buttonMode=true;y.useHandCursor=true;k.buttonMode=true;k.useHandCursor=true;k.width(0);this.addChild(u);this.addChild(y);this.addChild(q);this.addChild(z);this.addChild(k);if(c!=null){c.x=x*q.width();c.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,h,this);this.addChild(c)}y.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,l,this);q.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,l,this);k.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,l,this);d=true};var l=function(A){x=A.localX/q.width();this.setProgress(x);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,x))};var h=function(A){r=true;this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,p,this);this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_UP,n,this)};var p=function(B){var A=B.stageX-this.globalX();if(A<0){A=0}if(A>q.width()){A=q.width()}c.x=A-c.width()/2;if(j){x=A;k.width(A);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,A/q.width()))}};var n=function(B){var A=B.stageX-this.globalX();if(A<0){A=0}if(A>q.width()){A=q.width()}x=A;r=false;c.x=A-c.width()/2;this.setProgress(A/q.width());this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,A/q.width()));this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,p,this);this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_UP,n,this)};if(m&&v&&f&&w&&e){o.apply(this)}var j=false;this.liveUpdate=function(A){if(A!=undefined){j=A}return j};this.resize=function(B,A){if(d){u.x=0;z.x=B-z.width();q.x=u.x+u.width();q.width(z.x-q.x);k.x=q.x;k.width(q.width()*x);if(g!=null){u.height(g);z.height(g);q.height(g);k.height(g)}if(s!=null){y.height(s);y.width(q.width());y.x=q.x;y.y=(q.height()-y.height())/2}if(c!=null){c.x=c.x=q.width()*x-c.width()/2;c.y=(q.height()-c.height())/2;if(c.x-c.width/2<0){c.x=t.width/2}}}};this.slider=function(A){if(c!=null){this.removeChild(c)}c=A;c.x=x*q.width()-c.width()/2;c.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,h,this);this.addChild(c)};this.setProgress=function(B){x=B;if(d){var A=q.width()*B==0?1:q.width()*B;if(!j||!r){k.width(A)}if(c!=null&&!r){c.x=A-c.width()/2}}};this.currentProgress=function(){return x};this.barHeight=function(A){g=A};this.zoneHeight=function(A){s=A}}a.ProgressBarInterface=b})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.controls.ProgressBarInterface;function a(j,g,l,n,m,d){var h,k,c,f,e;this.className="psd.fenix.controls.ProgressBarInterface";h=new psd.fenix.Movieclip(j,g);h.gotoAndStop(0);k=new psd.fenix.Movieclip(j,l);k.gotoAndStop(0);c=new psd.fenix.Movieclip(j,n);c.buttonMode=true;c.useHandCursor=true;c.gotoAndStop(0);f=new psd.fenix.Movieclip(j,g);f.buttonMode=true;f.useHandCursor=true;f.alpha=1;f.gotoAndStop(0);e=new psd.fenix.Movieclip(j,m);e.buttonMode=true;e.useHandCursor=true;e.gotoAndStop(0);e.width(0);psd.fenix.controls.ProgressBarInterface.call(this,h,k,c,e,f,d)}b.ProgressBar=a})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(k){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.VideoPlayback";var j=k;var g=null;var c=null;var f=null;var d=null;var e=false;var h=function(){g=new psd.fenix.media.VideoElement(j);c=new psd.fenix.display.Video(g);f=new psd.fenix.media.MediaController();f.attachStream(g);d=new psd.fenix.controls.MediaControlBar(f);this.addChild(c);this.addChild(d);e=true};this.resize=function(n,l){var m=n-40;if(e){g.width(n);g.height(l);d.x=20;d.y=l-50;d.resize(m,l)}};h.apply(this)}b.VideoPlayback=a})(psd.fenix.controls);(function(a){a.StageDisplayState={};a.StageDisplayState.NORMAL="normal";a.StageDisplayState.FULL_SCREEN="fullscreen"})(psd.fenix.stage);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();b.FPS=60;function b(l,ac){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.Stage";var W=l;var y=null;var aa=W+"_fenix";var m=null;var o;var Q=W+"_hits";var z=null;var D=null;var K=0;var C=0;var M=true;var E=false;var c=false;var S=true;var J=null;var n=null;var x=null;var j=false;var v={autosize:true};if(ac!=undefined&&ac!=null){v.autosize=ac.autosize!=null&&ac.autosize!=undefined?ac.autosize:true;v.width=ac.width!=null&&ac.width!=undefined?ac.width:400;v.height=ac.height!=null&&ac.height!=undefined?ac.height:300;v.hitCanvas=ac.hitCanvas!=null&&ac.hitCanvas!=undefined?ac.hitCanvas:false}var F=(function(af){return function(){Y.apply(af)}})(this);var Y=function(){z=document.getElementById(W);if(z==null){this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT_ERROR));return}D=document.createElement("div");D.setAttribute("style","position:relative; width:100%; height:100%;");z.appendChild(D);n=D.requestFullScreen||D.mozRequestFullScreen||D.webkitRequestFullScreen||function(){};x=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||function(){};if(document.addEventListener){document.addEventListener("fullscreenchange",Z,false);document.addEventListener("mozfullscreenchange",Z,false);document.addEventListener("webkitfullscreenchange",Z,false);document.addEventListener("keydown",p,false)}else{if(document.attachEvent){document.attachEvent("onfullscreenchange",Z);document.attachEvent("onmozfullscreenchange",Z);document.attachEvent("onwebkitfullscreenchange",Z);document.attachEvent("onkeydown",p)}}if(v.autosize==true){H=K=z.clientWidth==undefined||z.clientWidth==0?448:z.clientWidth;L=C=z.clientHeight==undefined||z.clientHeight==0?365:z.clientHeight}else{H=v.width;L=v.height}y=document.createElement("canvas");y.setAttribute("style","position:absolute;");y.id=aa;y.width=H;y.height=L;D.appendChild(y);m=document.createElement("canvas");m.id=Q;m.width=m.height=1;if(v.hitCanvas){var af=document.getElementById(v.hitCanvas);if(af!=null){m.width=af.clientWidth;m.height=af.clientHeight;af.appendChild(m)}}if(Object.prototype.toString.call(y)==="[object HTMLCanvasElement]"){Log.log("Initializing fenix in standard mode...");o=y.getContext("2d");R=m.getContext("2d");o.fillStyle=r;psd.fenix.topLevelApplication=D;psd.fenix.topLevelCanvas=y;this.start();this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}else{Log.log("Initializing fenix in compatibility mode...");requestAnimationFrame=null;G_vmlCanvasManager.initElement(y);G_vmlCanvasManager.initElement(m);o=y.getContext("2d");R=m.getContext("2d");o.fillStyle=r;psd.fenix.topLevelApplication=D;psd.fenix.topLevelCanvas=y;this.changeFrameRate(10);this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}};var Z=(function(af){return function(){T.apply(af)}})(this);var T=function(){if(document.mozFullScreenElement||document.webkitFullscreenElement){U=psd.fenix.stage.StageDisplayState.FULL_SCREEN}else{U=psd.fenix.stage.StageDisplayState.NORMAL}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE))};var p=(function(af){return function(ag){ab.apply(af,[ag])}})(this);var ab=function(af){var ag=0;if(af==null){ag=window.event.keyCode}else{ag=af.keyCode}this.dispatchEvent(new psd.fenix.event.KeyboardEvent(psd.fenix.event.KeyboardEvent.KEY_DOWN,ag))};var O=(function(af){return function(){f.apply(af)}})(this);var f=function(){if(U==psd.fenix.stage.StageDisplayState.NORMAL){if((z.clientWidth!=K||z.clientHeight!=C)&&!psd.framework.ua.msie){K=z.clientWidth;C=z.clientHeight;if(v.autosize){y.width=H=K;y.height=L=C}else{y.width=H=v.width;y.height=L=v.height}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}else{if(window.innerWidth!=K||window.innerHeight!=C){K=window.innerWidth;C=window.innerHeight;y.width=H=K;y.height=L=C;this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}if(M){P();this.render(o)}if(c&&S){S=false;h.apply(this,[this.calculateMouseStatus])}if(requestAnimationFrame!=undefined&&!j){requestAnimationFrame(O)}};var P=function(){o.clearRect(0,0,H,L);o.fillStyle=r;o.fillRect(0,0,H,L)};var q=(function(af){return function(){e.apply(af)}})(this);var e=function(){if(!E){E=true;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,ae,ad))}};var w=(function(af){return function(){N.apply(af)}})(this);var N=function(){if(E){E=false;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,ae,ad))}};var h=function(af){R.clearRect(0,0,1,1);R.save();R.translate(-ae,-ad);af.apply(this,[{x:ae,y:ad,down:E,hitContext:R}]);R.restore()};var B=(function(af){return function(ag){k.apply(af,[ag])}})(this);var k=function(af){var ag=s(y,af);if(af.offsetX){ae=af.offsetX;ad=af.offsetY}else{ae=ag.x;ad=ag.y}S=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_MOVE,ae,ad))};var V=(function(af){return function(ag){I.apply(af,[ag])}})(this);var I=function(af){var ag=s(y,af);if(af.offsetX){ae=af.offsetX;ad=af.offsetY}else{ae=ag.x;ad=ag.y}c=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,ae,ad))};var X=(function(af){return function(){G.apply(af)}})(this);var G=function(){ae=-5;ad=-5;h.apply(this,[this.calculateMouseStatus]);c=false;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,ae,ad))};var g=(function(af){return function(ag){u.apply(af,[ag])}})(this);var u=function(af){var ag=new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_WHEEL,ae,ad);ag.delta=af.wheelDelta||af.detail||0;this.dispatchEvent(ag)};function s(ah,af){var al=ah;var ak=0;var aj=0;while(al&&al.tagName!="BODY"){ak+=al.offsetTop;aj+=al.offsetLeft;al=al.offsetParent}var ai=af.clientX-aj+window.pageXOffset;var ag=af.clientY-ak+window.pageYOffset;return{x:ai,y:ag}}var d=function(){if(y.addEventListener){y.addEventListener("mousemove",B,false);y.addEventListener("mouseover",V,false);y.addEventListener("mouseout",X,false);y.addEventListener("mousedown",q,false);y.addEventListener("mouseup",w,false);y.addEventListener("DOMMouseScroll",g,false);y.addEventListener("mosuewheel",g,false)}else{if(y.attachEvent){y.attachEvent("onmousemove",B);y.attachEvent("onmouseover",V);y.attachEvent("onmouseout",X);y.attachEvent("onmousedown",q);y.attachEvent("onmouseup",w);y.attachEvent("DOMMouseScroll",g);y.attachEvent("mousewheel",g)}}};var t=function(){if(y.removeEventListener){y.removeEventListener("mousemove",B,false);y.removeEventListener("mouseover",V,false);y.removeEventListener("mouseout",X,false);y.removeEventListener("mousedown",q,false);y.removeEventListener("mouseup",w,false);y.removeEventListener("DOMMouseScroll",g,false);y.removeEventListener("mousewheel",g,false)}else{if(y.attachEvent){y.detachEvent("onmousemove",B);y.detachEvent("onmouseover",V);y.detachEvent("onmouseout",X);y.detachEvent("onmousedown",q);y.detachEvent("onmouseup",w);y.detachEvent("DOMMouseScroll",g);y.detachEvent("mousewheel",g)}}};var H=0;this.stageWidth=function(){return H};var L=0;this.stageHeight=function(){return L};var A=ac&&!isNaN(ac.fps)?ac.fps:60;this.frameRate=function(){return A};var ae=-5;this.mouseX=function(){return ae};var ad=-5;this.mouseY=function(){return ad};var R=null;this.hitContext=function(){return R};var U=psd.fenix.stage.StageDisplayState.NORMAL;this.displayState=function(ag){var ah=psd.fenix.stage.StageDisplayState.NORMAL,af=psd.fenix.stage.StageDisplayState.FULL_SCREEN;if(ag==af&&n!=undefined){n.apply(D)}if(ag==ah&&x!=undefined){x.apply(document)}return U};var r="rgba(255,255,255,0)";this.backgroundColor=function(af){if(af){r=af;if(typeof(o)!="undefined"){o.fillStyle=r}}return r};this.init=function(){if(document.readyState==="complete"||document.readyState==="loaded"){Y.apply(this)}else{if(window.addEventListener){window.addEventListener("load",F,false)}else{if(window.attachEvent){window.attachEvent("onload",F)}}}};this.start=function(){d();var af=navigator.userAgent;j=(af.indexOf("iPhone")!=-1)&&(af.indexOf("Version/6.0")!=-1);var ag=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=ag;if(ag!=undefined&&!j){ag(O)}else{J=setInterval(O,(1000/A))}};this.pause=function(){t();if(J!=null){clearInterval(J)}};this.changeFrameRate=function(af){A=af;if(J!=null){clearInterval(J)}J=setInterval(O,1000/A)};this.freeze=function(af){if(af==true||af==false){M=!af}}}a.Stage=b})(psd.fenix);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();function b(M,ak,ad,U,ae){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.media.SkinnedSimpleMediaPlayer";var C=ae;var k=C.skin.id;var D=M;var n=ak;var G=ad;var u=null;var W=U;var S=null;var aa=null;var g=null;var c=false;var ai=null;var T=null;var P=null;var Y=null;var ah=null;var f=null;var X=null;var K=null;var q=null;var I=null;var Q=0.8;var ag=0.8;var aj=0;var x=false;var r=false;var E=false;var m=false;var Z=5;var ab=function(){var al=(n&&G)?false:true;u=new psd.fenix.Stage(D,{autosize:al,width:n,height:G});u.addEventListener(psd.fenix.StageEvent.INIT,j,this);u.addEventListener(psd.fenix.StageEvent.INIT_ERROR,h,this);u.addEventListener(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE,N,this);u.addEventListener(psd.fenix.StageEvent.RESIZE,o,this);u.init()};var h=function(){Log.log("INIT ERROR")};var j=function(){var an=e("psd.media.skins.MediaSimple_"+k),am=typeof(C.base)!="undefined"?C.base:"",al=C.media.type.indexOf("video")>=0?psd.fenix.media.MediaElement.TYPE_VIDEO:psd.fenix.media.MediaElement.TYPE_AUDIO;S=new psd.fenix.media.MediaElement(al,W,{autoplay:C.player.autoplay,poster:C.media.poster,width:n,height:G});aa=new psd.fenix.media.MediaController();aa.addEventListener(psd.fenix.event.MediaEvent.ENDED,v,this);aa.addEventListener(psd.fenix.event.MediaEvent.BEGIN,L,this);aa.addEventListener(psd.fenix.event.MediaEvent.PLAYING,V,this);aa.addEventListener(psd.fenix.event.MediaEvent.TIME_UPDATE,O,this);aa.addEventListener(psd.fenix.event.MediaEvent.PLAY,F,this);aa.addEventListener(psd.fenix.event.MediaEvent.PAUSE,B,this);aa.addEventListener(psd.fenix.event.MediaEvent.WAITING,ac,this);aa.attachStream(S);if(C.player.controls==undefined||(C.player.controls!=false&&C.player.controls!="false")){g=new an(C.skin,am);if(typeof(g.mediaType)!="undefined"){g.mediaType(ae.media.type)}if(typeof(g.isLive)!="undefined"){g.isLive(C.media.live)}g.addEventListener(psd.media.SkinEvent.SKIN_READY,l,this);this.addChild(g)}if(typeof(g.setTitle)!="undefined"){g.setTitle(C.media.title)}u.addChild(this)};var e=function(ao){var ap=ao.split("."),al=ap.length,am,an=(window||this);for(am=0;am<al;am++){an=an[ap[am]]}return an};var l=function(){if(typeof(g.playPauseElement)!="undefined"){ai=g.playPauseElement();ai.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,af,this)}if(typeof(g.playBeginElement)!="undefined"){T=g.playBeginElement();if(T!=null){T.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,J,this)}}if(typeof(g.fullscreenElement)!="undefined"){Y=g.fullscreenElement();if(Y!=null){Y.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,H,this)}}if(typeof(g.currentTimeElement)!="undefined"){ah=g.currentTimeElement()}if(typeof(g.totalTimeElement)!="undefined"){f=g.totalTimeElement()}if(typeof(g.progressBarElement)!="undefined"){P=g.progressBarElement();P.addEventListener(psd.fenix.event.ProgressEvent.CHANGE,t,this)}if(typeof(g.volumeElement)!="undefined"){X=g.volumeElement();X.setProgress(1);X.addEventListener(psd.fenix.event.ProgressEvent.CHANGE,p,this)}if(typeof(g.muteElement)!="undefined"){K=g.muteElement();K.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,d,this)}if(typeof(g.singleMuteElement)!="undefined"){_singleMuteElement=g.singleMuteElement();_singleMuteElement.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,w,this)}if(typeof(g.reiniElement)!="undefined"){q=g.reiniElement();q.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,z,this)}if(typeof(g.nextElement)!="undefined"){I=g.nextElement();I.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,A,this)}if(this.isPlaying()){g.updateOnStatusChange("play")}g.resizeSkin(u.stageWidth(),u.stageHeight());c=true};var af=function(al){if(aa.paused()){this.play()}else{this.pause()}};var J=function(al){T.visible=false;g.showProgressBar();this.play()};var H=function(){if(u.displayState()==psd.fenix.stage.StageDisplayState.NORMAL){u.displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)}else{u.displayState(psd.fenix.stage.StageDisplayState.NORMAL)}};var t=function(al){R(al.data)};var R=function(al){aa.seek(al)};var z=function(al){if(aa.currentTime()<=Z){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_PREVIOUS,{duration:aa.duration()}))}aa.seek(0);this.play()};var A=function(al){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_NEXT,{duration:aa.duration()}))};var p=function(al){s(al.data)};var s=function(al){aa.volume(al);Q=al;if(g){if(g.muteElement!=undefined){if(al==0){g.updateOnMuteChange("muted")}else{g.updateOnMuteChange("active")}}}};var d=function(al){y()};var y=function(){if(ag<=0){ag=Q<=0?0.8:Q;if(g){g.volumeElement().setProgress(ag)}if(g){g.updateOnMuteChange("active")}}else{Q=ag;if(g){g.volumeElement().setProgress(0)}if(g){g.updateOnMuteChange("muted")}ag=0}aa.volume(ag)};var w=function(al){if(Q<=0){Q=0.8;g.updateOnMuteChange("active")}else{Q=0;g.updateOnMuteChange("muted")}aa.volume(Q)};var O=function(){var am=aa.duration()>3600?"hh:mm:ss":"mm:ss",al=aa.duration();aj=aa.currentTime();if(ah){ah.text(aa.currentTimeAsTimeCode(am))}if(f){if(C.media.live!=undefined&&C.media.live==true){f.text("Live")}else{f.text(aa.durationAsTimeCode(am))}}if(P){P.setProgress(aa.currentTime()/aa.duration())}if(!x&&aj>0.25*al){x=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_FIRST_QUART,{duration:al}))}if(!r&&aj>0.5*al){r=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_HALF,{duration:al}))}if(!E&&aj>0.75*al){E=true;this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_THIRD_QUART,{duration:al}))}if(m==true){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_PROGRESS,{duration:al,time:aj}))}if(typeof(g.updateOnContentRefresh)!="undefined"){g.updateOnContentRefresh()}};var L=function(al){if(typeof(C.player.autoplay)!="undefined"&&(C.player.autoplay=="true"||C.player.autoplay==true)){if(T!=null){T.visible=false}g.showProgressBar()}this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_BEGIN,{duration:aa.duration(),time:aa.currentTime()}))};var F=function(al){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_START,{duration:aa.duration()}))};var B=function(al){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_STOP,{duration:aa.duration()}))};var v=function(al){if(typeof(g.hideProgressBar)!="undefined"){T.visible=true;g.hideProgressBar()}if(g){g.updateOnStatusChange("pause")}if(P){P.setProgress(0.01)}this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_COMPLETE,{duration:aa.duration(),time:aj}));x=false;r=false;E=false};var V=function(al){if(g&&c){g.updateOnStatusChange("play")}this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_FULL,{duration:aa.duration(),time:aa.currentTime()}))};var ac=function(al){this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_EMPTY,{duration:aa.duration(),time:aa.currentTime()}))};var o=function(){var al=new psd.fenix.Rectangle(0,0,u.stageWidth(),u.stageHeight());if(g){al=g.resizeSkin(u.stageWidth(),u.stageHeight())}S.resize(al.x,al.y,al.width,al.height)};var N=function(){if(g){g.updateOnDisplayStateChange(u.displayState())}};this.isPlaying=function(){return !aa.paused()};this.duration=function(){return aa.duration()};this.play=function(){if(g){g.updateOnStatusChange("play")}aa.play()};this.pause=function(){if(g){g.updateOnStatusChange("pause")}aa.pause()};this.volume=function(al){s(al);if(g){g.volumeElement().setProgress(al)}};this.mute=function(){y()};this.currentTime=function(al){R(al)};this.setProgressEvent=function(al){m=al};this.requestFullScreen=function(){u.displayState(psd.fenix.stage.StageDisplayState.FULL_SCREEN)};this.cancelFullScreen=function(){u.displayState(psd.fenix.stage.StageDisplayState.NORMAL)};this.load=function(al){if(typeof(g.hideProgressBar)!="undefined"){if(typeof(C.player.autoplay)!="undefined"&&(C.player.autoplay=="true"||C.player.autoplay==true)){T.visible=false;g.showProgressBar()}else{T.visible=true;g.hideProgressBar()}}S.load(al)};ab.apply(this)}a.SkinnedSimpleMediaPlayer=b}(psd.media));(function(b){a.prototype=new psd.framework.Event();a.SKIN_READY="SKIN_READY";function a(c){psd.framework.Event.call(this,c)}b.SkinEvent=a})(psd.media);(function(b){a.SIZE_BIG="sizeBig";a.SIZE_MEDIUM="sizeMedium";a.SIZE_SMALL="sizeSmall";a.TYPE_PLAY="typePlay";a.TYPE_PAUSE="typePause";a.TYPE_RESET="typeReset";a.TYPE_NEXT="typeNext";a.TYPE_VOL_FULL="typeVolFull";a.TYPE_VOL_MEDIUM="typeVolMed";a.TYPE_VOL_MUTE="typeVolMute";a.TYPE_FULLSCREEN_ON="typeFSOn";a.TYPE_FULLSCREEN_OFF="typeFSOff";function a(d){var h=d;var e=70;var g=42;var c=20;this.sizeBig=function(){return e};this.sizeMedium=function(){return g};this.sizeSmall=function(){return c};var f=function(){};this.getButton=function(o,r,k,j){var p,m,n,q,l;switch(r){case a.SIZE_BIG:p=e;break;case a.SIZE_MEDIUM:p=g;break;case a.SIZE_SMALL:p=c;break}l=new psd.fenix.DisplayObjectContainer();l.graphics().beginFill(j,k);l.graphics().drawRoundRect(0,0,p,p,p*0.1);l.graphics().endFill();console.log("+++type: "+o);switch(o){case a.TYPE_PLAY:m=h.getFrames("Button_play");break;case a.TYPE_PAUSE:m=h.getFrames("Button_pause");break;case a.TYPE_RESET:m=h.getFrames("Button_reset");break;case a.TYPE_NEXT:m=h.getFrames("Button_next");break;case a.TYPE_FULLSCREEN_ON:m=h.getFrames("Button_fson");break;case a.TYPE_FULLSCREEN_OFF:m=h.getFrames("Button_fsoff");break;case a.TYPE_VOL_FULL:m=h.getFrames("Button_vol100");break;case a.TYPE_VOL_MEDIUM:m=h.getFrames("Button_vol50");break;case a.TYPE_VOL_MUTE:m=h.getFrames("Button_vol0");break}n=h.texture();q=new psd.fenix.Movieclip(n,m);q.width(p);q.height(p);l.addChild(q);return l};f.apply(this)}b.Buttons=a})(psd.media.skins);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(R,O){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.media.skins.MediaSimple_generic";a.PROFILE_NORMAL="normal";a.PROFILE_MINI="mini";a.PROFILE_MOBILE="mobile";a.MODE_AUDIO_PROFILE="audio";a.MODE_VIDEO_PROFILE="video";var l=2000;var e=640;var g=true;var s={normal:{minSizeTextVisible:300,minSizeBarVisible:250},mini:{minSizeTextVisible:200,minSizeBarVisible:150}};var t=R;var o=O!=undefined?O:"";var G="";var L=null;var w=false;var U=null;var B=((t.profile==a.PROFILE_NORMAL)||(t.profile==a.PROFILE_MINI)||(t.profile==a.PROFILE_MOBILE))?t.profile:a.PROFILE_NORMAL;var u=((t.mode==a.MODE_AUDIO_PROFILE)||(t.mode==a.MODE_VIDEO_PROFILE))?t.mode:a.MODE_VIDEO_PROFILE;var N=null;var Q=null;var m=this;var k=false;var p=10;var v="#333333";var x=(t.color)?t.color:"#999999";var K=0.85;var r=1;var D="#0";var y=psd.media.skins.Buttons;var C=null;var T={};T.play=null;T.pause=null;T.begin=null;T.reset=null;T.next=null;T.fson=null;T.fsoff=null;T.vol0=null;T.vol50=null;T.vol100=null;T.fs=null;T.vol=null;T.playpause=null;var S=null;var j=null;var f=null;var I=null;var z=null;var F=null;var E=null;var J=false;var n=-1;var h=-1;var P=function(){L=new psd.fenix.textures.TextureAtlas(o+"/psdmedia/media/simple/skins/generic/rsc/player.atlas.png",o+"/psdmedia/media/simple/skins/generic/rsc/player.atlas.json",false);L.addEventListener("texture_atlas_ready",q,this)};var q=function(){var an,Z,aj,W,ak,V,ac,ab,ad,am,aa,ai,Y,X,ae,ah,ag,al,af;if(u==a.MODE_VIDEO_PROFILE){if((B==a.PROFILE_NORMAL)||(B==a.PROFILE_MOBILE)){ac=y.SIZE_BIG;ab=y.SIZE_MEDIUM;ad=y.SIZE_BIG}else{if(B==a.PROFILE_MINI){ac=ab=y.SIZE_SMALL;ad=y.SIZE_MEDIUM}}}else{if(u==a.MODE_AUDIO_PROFILE){if((B==a.PROFILE_NORMAL)||(B==a.PROFILE_MOBILE)){ad=ac=ab=y.SIZE_MEDIUM}else{if(B==a.PROFILE_MINI){ac=ab=y.SIZE_SMALL;ad=y.SIZE_MEDIUM}}}}C=new y(L);T.play=C.getButton(y.TYPE_PLAY,ac,K,D);T.pause=C.getButton(y.TYPE_PAUSE,ac,r,x);T.begin=new psd.fenix.DisplayObjectContainer();al=C.getButton(y.TYPE_PLAY,ad,r,x);T.begin.addChild(al);T.reset=new psd.fenix.DisplayObjectContainer();al=C.getButton(y.TYPE_RESET,ab,K,D);T.reset.addChild(al);T.next=new psd.fenix.DisplayObjectContainer();al=C.getButton(y.TYPE_NEXT,ab,K,D);T.next.addChild(al);T.fson=C.getButton(y.TYPE_FULLSCREEN_ON,ab,K,D);T.fsoff=C.getButton(y.TYPE_FULLSCREEN_OFF,ab,r,x);z=new psd.fenix.DisplayObjectContainer();if(t.volume){T.vol0=C.getButton(y.TYPE_VOL_MUTE,ab,r,x);T.vol0.name="vol0";T.vol50=C.getButton(y.TYPE_VOL_MEDIUM,ab,K,D);T.vol50.name="vol50";T.vol100=C.getButton(y.TYPE_VOL_FULL,ab,K,D);T.vol100.name="vol100";T.vol=new psd.fenix.DisplayObjectContainer();T.vol.setProgress=function(ao){if(ao==0){T.vol0.visible=true;T.vol50.visible=false;T.vol100.visible=false}else{if(ao<=0.5){T.vol0.visible=false;T.vol50.visible=true;T.vol100.visible=false}else{T.vol0.visible=false;T.vol50.visible=false;T.vol100.visible=true}}};T.vol.addChild(T.vol0);T.vol.addChild(T.vol50);T.vol.addChild(T.vol100);T.vol0.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);T.vol50.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);T.vol100.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);T.vol0.visible=false;T.vol100.visible=false;z.addChild(T.vol)}if(t.fullscreen){T.fs=new psd.fenix.DisplayObjectContainer();T.fs.addChild(T.fson);T.fs.addChild(T.fsoff);T.fsoff.visible=false;if(u==a.MODE_AUDIO_PROFILE){T.fson.visible=false}z.addChild(T.fs)}T.playpause=new psd.fenix.DisplayObjectContainer();T.playpause.addChild(T.play);T.playpause.addChild(T.pause);T.pause.visible=false;E=new psd.fenix.DisplayObjectContainer();E.visible=!(B==a.PROFILE_MINI);z.addChild(E);z.addChild(T.playpause);z.addChild(T.reset);if(t.navigator){z.addChild(T.next)}X=L.texture();am=C.sizeSmall();aa=C.sizeSmall()*0.1;Z=new psd.fenix.DisplayObjectContainer();Z._render=function(ao){ao.closePath();ao.fillStyle=psd.fenix.ColorUtil.colorToRGB(x,1);ao.beginPath();ao.moveTo(aa,0);ao.lineTo(aa,am);ao.quadraticCurveTo(0,am,0,am-aa);ao.lineTo(0,aa);ao.quadraticCurveTo(0,0,aa,0);ao.closePath();ao.fill()};Z.invalidateSize(aa,am);aj=new psd.fenix.DisplayObjectContainer();aj._render=function(ao){ao.closePath();ao.fillStyle=psd.fenix.ColorUtil.colorToRGB(v,1);ao.beginPath();ao.moveTo(0,0);ao.quadraticCurveTo(aa,0,aa,aa);ao.lineTo(aa,am-aa);ao.quadraticCurveTo(aa,am,0,am);ao.lineTo(0,am);ao.lineTo(0,0);ao.closePath();ao.fill()};aj.invalidateSize(aa,am);W=new psd.fenix.DisplayObjectContainer();W.graphics().beginFill(v,1);W.graphics().drawRect(0,0,1,am);W.graphics().endFill();ak=new psd.fenix.DisplayObjectContainer();ak.graphics().beginFill(x,1);ak.graphics().drawRect(0,0,1,am);ak.graphics().endFill();V=new psd.fenix.DisplayObjectContainer();V.graphics().beginFill(v,1);V.graphics().drawRect(0,0,1,am);V.graphics().endFill();I=new psd.fenix.controls.ProgressBarInterface(Z,aj,W,ak,V);I.zoneHeight(am);z.addChild(I);F=new psd.fenix.DisplayObjectContainer();F.visible=!(B==a.PROFILE_MINI);an=new psd.fenix.text.TextFormat();an.color=16777215;an.size=14;an.bold=true;an.font="Helvetica";af=new psd.fenix.text.TextFormat();af.color=16777215;af.size=12;af.bold=true;af.font="Helvetica";S=new psd.fenix.text.TextField();S.setTextFormat(an);S.text("00:00");j=new psd.fenix.text.TextField();j.setTextFormat(an);j.text("00:00");f=new psd.fenix.text.TextField();f.setTextFormat(an);if(t.title){G=t.title}if(u==a.MODE_VIDEO_PROFILE){F.addChild(S);F.addChild(j);F.addChild(f);this.addChild(T.begin);z.alpha=0;F.alpha=0}else{this.showProgressBar();F.alpha=0;S.visible=false;j.visible=false;z.addChild(S);z.addChild(j)}if(u==a.MODE_VIDEO_PROFILE){Q=new psd.framework.utils.Timer(l,1);Q.addEventListener(psd.framework.events.TimerEvent.TIMER_COMPLETE,H,this);Q.start()}w=true;this.dispatchEvent(new psd.media.SkinEvent(psd.media.SkinEvent.SKIN_READY))};var H=function(W){if(u==a.MODE_VIDEO_PROFILE){Q.stop();TweenLite.to(z,0.75,{alpha:0,ease:Power4.easeOut,onCompleteParams:[z],onComplete:function V(X){X.visible=false}});TweenLite.to(F,0.75,{alpha:0,ease:Power4.easeOut,onCompleteParams:[F],onComplete:function V(X){X.visible=false}})}};var d=function(V){if(z.visible==false){z.visible=true;F.visible=true}TweenLite.to(z,0.5,{alpha:1,ease:Power4.easeOut});TweenLite.to(F,0.5,{alpha:1,ease:Power4.easeOut});if(u==a.MODE_VIDEO_PROFILE){Q.reset();Q.start()}};var c=function(V){};var A=function(V){switch(V.target.name){case"vol0":T.vol.setProgress(1);M(1);break;case"vol50":T.vol.setProgress(0);M(0);break;case"vol100":T.vol.setProgress(0.5);M(0.5);break}};var M=function(V){var W=new psd.fenix.event.ProgressEvent();W.type=psd.fenix.event.ProgressEvent.CHANGE;W.data=V;T.vol.dispatchEvent(W)};this.resizeSkin=function(X,ad){if((T.vol!=undefined)&&(X<T.vol.width()*4)){return new psd.fenix.Rectangle(0,0,X,ad)}var ac,ab,W,V,ae,Y,aa;if(w){if((X!=n)||(ad!=h)){Y=(k)?Math.min(X,e):X;ac=(B==a.PROFILE_MINI)?p*0.5:p;T.playpause.x=0;T.reset.x=T.playpause.x+T.play.width()+ac;T.reset.y=Math.ceil(T.playpause.height()-T.reset.height())+0.5;aa=Y-ac;if((u==a.MODE_VIDEO_PROFILE)&&(t.fullscreen)){T.fs.x=aa-ac-T.fs.width();T.fs.y=T.reset.y;aa=T.fs.x}if(t.volume){T.vol.x=aa-ac-T.vol.width();T.vol.y=T.reset.y;aa=T.vol.x}if(t.navigator){T.next.x=aa-ac-T.next.width();T.next.y=T.reset.y;aa=T.next.x}z.x=(X-Y)*0.5+ac;z.y=ad-T.playpause.height()-ac;T.begin.x=(X-T.begin.width())*0.5;T.begin.y=(ad-T.begin.height())*0.5;V=T.reset.x+T.reset.width()+ac;ae=T.reset.y;W=aa-T.reset.x-T.reset.width()-ac*2;ab=C.sizeMedium();E.graphics().clear();E.graphics().beginFill(D,K);E.graphics().drawRoundRect(0,0,W,ab,ab*0.1);E.graphics().endFill();E.x=V;E.y=ae;if(B==a.PROFILE_MINI){I.x=V;I.y=ae;I.resize(W)}else{I.x=V+ac;I.y=ae+ab*0.25;I.resize(W-ac*2)}if(Y<=s[B].minSizeBarVisible){I.visible=false}else{I.visible=true}if(Y<s[B].minSizeTextVisible){g=false}else{g=true}if(!g){S.visible=false;j.visible=false}else{S.visible=true;j.visible=true}if(T.vol.x<=180){E.visible=false}else{if(B==a.PROFILE_NORMAL){E.visible=true}}if(u==a.MODE_VIDEO_PROFILE){F.graphics().clear();F.graphics().beginFill(D,K);F.graphics().beginFill(D,K);F.graphics().drawRoundRect(0,0,Y-ac*2,ab,ab*0.1);F.graphics().endFill();F.x=z.x;F.y=ac;S.x=Y-ac-75;S.y=0;j.x=S.x;j.y=20;f.y=10;f.x=ac;if(G){var Z=(Y-ac*2-75)/12;f.text(new String(G).slice(0,Z))}}else{if(u==a.MODE_AUDIO_PROFILE){S.y=j.y=I.y+(ac*0.5);S.x=I.x+p;j.x=T.vol.x-40-ac*2}}h=ad;n=X}}return new psd.fenix.Rectangle(0,0,X,ad)};this.updateOnStatusChange=function(V){if(V=="play"){T.play.visible=false;T.pause.visible=true}else{if(V=="pause"){T.play.visible=true;T.pause.visible=false}}};this.updateOnContentRefresh=function(){if((!J)&&(u==a.MODE_AUDIO_PROFILE)){J=true;j.x=I.x+I.width()-j.width()-p}};this.showProgressBar=function(){this.addChild(z);this.removeChild(T.begin);this.addChild(F);this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,d,this)};this.hideProgressBar=function(){this.addChild(T.begin);this.removeChild(z);this.removeChild(F)};this.updateOnDisplayStateChange=function(V){if(V==psd.fenix.stage.StageDisplayState.NORMAL){k=false;T.fsoff.visible=false;T.fson.visible=true;d()}else{k=true;T.fsoff.visible=true;T.fson.visible=false}};this.playPauseElement=function(){return T.playpause};if(t.fullscreen){this.fullscreenElement=function(){return T.fs}}this.currentTimeElement=function(){return S};this.totalTimeElement=function(){return j};this.progressBarElement=function(){return I};this.reiniElement=function(){return T.reset};this.nextElement=function(){return T.next};this.playBeginElement=function(){return T.begin};this.setTitle=function(V){if(t.title==undefined||t.title==""||t.title==null){G=V}};if(t.volume){this.volumeElement=function(){return T.vol}}P.apply(this)}b.MediaSimple_generic=a}(psd.media.skins));
/*!
 * VERSION: beta 1.27
 * DATE: 2012-05-24
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * corporate Club GreenSock members, the software agreement that was issued with the corporate 
 * membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(ae){var T=function(f){var f=f.split("."),j=ae,d;for(d=0;d<f.length;d++){j[f[d]]=j=j[f[d]]||{}}return j},af=T("com.greensock"),ad,ag,ai,g,R={},Y=function(j,o,f,l){this.sc=R[j]?R[j].sc:[];R[j]=this;this.gsClass=null;this.def=f;var m=o||[],n=[];this.check=function(s){for(var q=m.length,r=0,p;-1<--q;){(p=R[m[q]]||new Y(m[q])).gsClass?n[q]=p.gsClass:(r++,s&&p.sc.push(this))}if(0===r&&f){var s=("com.greensock."+j).split("."),q=s.pop(),d=T(s.join("."))[q]=this.gsClass=f.apply(f,n);l&&((ae.GreenSockGlobals||ae)[q]=d,"function"===typeof define&&define.amd?define((ae.GreenSockAMDPath?ae.GreenSockAMDPath+"/":"")+j.split(".").join("/"),[],function(){return d}):"undefined"!==typeof module&&module.exports&&(module.exports=d));for(q=0;q<this.sc.length;q++){this.sc[q].check(!1)}}};this.check(!0)},ab=af._class=function(f,j,d){new Y(f,[],function(){return j},d);return j};ae._gsDefine=function(f,l,d,j){return new Y(f,l,d,j)};var Q=[0,0,1,1],X=[],Z=ab("easing.Ease",function(f,l,d,j){this._func=f;this._type=d||0;this._power=j||0;this._params=l?Q.concat(l):Q},!0);ai=Z.prototype;ai._calcEnd=!1;ai.getRatio=function(f){if(this._func){return this._params[0]=f,this._func.apply(null,this._params)}var l=this._type,d=this._power,j=1===l?1-f:2===l?f:0.5>f?2*f:2*(1-f);1===d?j*=j:2===d?j*=j*j:3===d?j*=j*j*j:4===d&&(j*=j*j*j*j);return 1===l?1-j:2===l?j:0.5>f?j/2:1-j/2};ad=["Linear","Quad","Cubic","Quart","Quint"];for(ag=ad.length;-1<--ag;){ai=ab("easing."+ad[ag],function(){},!0),g=ab("easing.Power"+ag,function(){},!0),ai.easeOut=g.easeOut=new Z(null,null,1,ag),ai.easeIn=g.easeIn=new Z(null,null,2,ag),ai.easeInOut=g.easeInOut=new Z(null,null,3,ag)}ab("easing.Strong",af.easing.Power4,!0);af.easing.Linear.easeNone=af.easing.Linear.easeIn;ai=ab("events.EventDispatcher",function(d){this._listeners={};this._eventTarget=d||this}).prototype;ai.addEventListener=function(j,q,f,l,o){var o=o||0,p=this._listeners[j],m=0,n;null==p&&(this._listeners[j]=p=[]);for(n=p.length;-1<--n;){j=p[n],j.c===q?p.splice(n,1):0===m&&j.pr<o&&(m=n+1)}p.splice(m,0,{c:q,s:f,up:l,pr:o})};ai.removeEventListener=function(f,l){var d=this._listeners[f];if(d){for(var j=d.length;-1<--j;){if(d[j].c===l){d.splice(j,1);break}}}};ai.dispatchEvent=function(j){var n=this._listeners[j];if(n){for(var f=n.length,l,m=this._eventTarget;-1<--f;){l=n[f],l.up?l.c.call(l.s||m,{type:j,target:m}):l.c.call(l.s||m)}}};var c=ae.requestAnimationFrame,aa=ae.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()};ad=["ms","moz","webkit","o"];for(ag=ad.length;-1<--ag&&!c;){c=ae[ad[ag]+"RequestAnimationFrame"],aa=ae[ad[ag]+"CancelAnimationFrame"]||ae[ad[ag]+"CancelRequestAnimationFrame"]}aa||(aa=function(d){ae.clearTimeout(d)});ab("Ticker",function(u,s){this.frame=this.time=0;var t=this,n=P(),r=!1!==s,l,o,p,q,m;this.tick=function(){t.time=(P()-n)/1000;if(!l||t.time>=m){t.frame++,m=t.time+q-(t.time-m)-0.0005,m<=t.time&&(m=t.time+0.001),t.dispatchEvent("tick")}p=o(t.tick)};this.fps=function(d){if(!arguments.length){return l}l=d;q=1/(l||60);m=this.time+q;o=0===l?function(){}:!r||!c?function(f){return ae.setTimeout(f,1000*(m-t.time)+1>>0||1)}:c;aa(p);p=o(t.tick)};this.useRAF=function(d){if(!arguments.length){return r}r=d;this.fps(l)};this.fps(u)});ai=af.Ticker.prototype=new af.events.EventDispatcher;ai.constructor=af.Ticker;var ac=ab("core.Animation",function(f,j){this.vars=j||{};this._duration=this._totalDuration=f||0;this._delay=Number(this.vars.delay)||0;this._timeScale=1;this._active=!0==this.vars.immediateRender;this.data=this.vars.data;this._reversed=!0==this.vars.reversed;if(W){var d=this.vars.useFrames?O:W;d.insert(this,d._time);this.vars.paused&&this.paused(!0)}}),V=ac.ticker=new af.Ticker;ai=ac.prototype;ai._dirty=ai._gc=ai._initted=ai._paused=!1;ai._totalTime=ai._time=0;ai._rawPrevTime=-1;ai._next=ai._last=ai._onUpdate=ai._timeline=ai.timeline=null;ai._paused=!1;ai.play=function(d,f){arguments.length&&this.seek(d,f);this.reversed(!1);return this.paused(!1)};ai.pause=function(d,f){arguments.length&&this.seek(d,f);return this.paused(!0)};ai.resume=function(d,f){arguments.length&&this.seek(d,f);return this.paused(!1)};ai.seek=function(d,f){return this.totalTime(Number(d),!1!=f)};ai.restart=function(d,f){this.reversed(!1);this.paused(!1);return this.totalTime(d?-this._delay:0,!1!=f)};ai.reverse=function(d,f){arguments.length&&this.seek(d||this.totalDuration(),f);this.reversed(!0);return this.paused(!1)};ai.render=function(){};ai.invalidate=function(){return this};ai._enabled=function(d,f){this._gc=!d;this._active=d&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration;!0!=f&&(d&&null==this.timeline?this._timeline.insert(this,this._startTime-this._delay):!d&&null!=this.timeline&&this._timeline._remove(this,!0));return !1};ai._kill=function(){return this._enabled(!1,!1)};ai.kill=function(d,f){this._kill(d,f);return this};ai._uncache=function(d){for(d=d?this:this.timeline;d;){d._dirty=!0,d=d.timeline}return this};ai.eventCallback=function(j,n,f,l){if(null==j){return null}if("on"===j.substr(0,2)){if(1===arguments.length){return this.vars[j]}if(null==n){delete this.vars[j]}else{if(this.vars[j]=n,this.vars[j+"Params"]=f,this.vars[j+"Scope"]=l,f){for(var m=f.length;-1<--m;){"{self}"===f[m]&&(f=this.vars[j+"Params"]=f.concat(),f[m]=this)}}}"onUpdate"===j&&(this._onUpdate=n)}return this};ai.delay=function(d){if(!arguments.length){return this._delay}this._timeline.smoothChildTiming&&this.startTime(this._startTime+d-this._delay);this._delay=d;return this};ai.duration=function(d){if(!arguments.length){return this._dirty=!1,this._duration}this._duration=this._totalDuration=d;this._uncache(!0);this._timeline.smoothChildTiming&&this._active&&0!=d&&this.totalTime(this._totalTime*(d/this._duration),!0);return this};ai.totalDuration=function(d){this._dirty=!1;return !arguments.length?this._totalDuration:this.duration(d)};ai.time=function(d,f){if(!arguments.length){return this._time}this._dirty&&this.totalDuration();d>this._duration&&(d=this._duration);return this.totalTime(d,f)};ai.totalTime=function(f,j){if(!arguments.length){return this._totalTime}if(this._timeline){0>f&&(f+=this.totalDuration());if(this._timeline.smoothChildTiming&&(this._dirty&&this.totalDuration(),f>this._totalDuration&&(f=this._totalDuration),this._startTime=(this._paused?this._pauseTime:this._timeline._time)-(!this._reversed?f:this._totalDuration-f)/this._timeScale,this._timeline._dirty||this._uncache(!1),!this._timeline._active)){for(var d=this._timeline;d._timeline;){d.totalTime(d._totalTime,!0),d=d._timeline}}this._gc&&this._enabled(!0,!1);this._totalTime!=f&&this.render(f,j,!1)}return this};ai.startTime=function(d){if(!arguments.length){return this._startTime}d!=this._startTime&&(this._startTime=d,this.timeline&&this.timeline._sortChildren&&this.timeline.insert(this,d-this._delay));return this};ai.timeScale=function(d){if(!arguments.length){return this._timeScale}d=d||0.000001;if(this._timeline&&this._timeline.smoothChildTiming){var f=this._pauseTime||0==this._pauseTime?this._pauseTime:this._timeline._totalTime;this._startTime=f-(f-this._startTime)*this._timeScale/d}this._timeScale=d;return this._uncache(!1)};ai.reversed=function(d){if(!arguments.length){return this._reversed}d!=this._reversed&&(this._reversed=d,this.totalTime(this._totalTime,!0));return this};ai.paused=function(d){if(!arguments.length){return this._paused}d!=this._paused&&this._timeline&&(!d&&this._timeline.smoothChildTiming&&(this._startTime+=this._timeline.rawTime()-this._pauseTime,this._uncache(!1)),this._pauseTime=d?this._timeline.rawTime():null,this._paused=d,this._active=!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration);this._gc&&(d||this._enabled(!0,!1));return this};af=ab("core.SimpleTimeline",function(d){ac.call(this,0,d);this.autoRemoveChildren=this.smoothChildTiming=!0});ai=af.prototype=new ac;ai.constructor=af;ai.kill()._gc=!1;ai._first=ai._last=null;ai._sortChildren=!1;ai.insert=function(j,m){j._startTime=Number(m||0)+j._delay;j._paused&&this!==j._timeline&&(j._pauseTime=j._startTime+(this.rawTime()-j._startTime)/j._timeScale);j.timeline&&j.timeline._remove(j,!0);j.timeline=j._timeline=this;j._gc&&j._enabled(!0,!0);var f=this._last;if(this._sortChildren){for(var l=j._startTime;f&&f._startTime>l;){f=f._prev}}f?(j._next=f._next,f._next=j):(j._next=this._first,this._first=j);j._next?j._next._prev=j:this._last=j;j._prev=f;this._timeline&&this._uncache(!0);return this};ai._remove=function(d,f){d.timeline===this&&(f||d._enabled(!1,!0),d.timeline=null,d._prev?d._prev._next=d._next:this._first===d&&(this._first=d._next),d._next?d._next._prev=d._prev:this._last===d&&(this._last=d._prev),this._timeline&&this._uncache(!0));return this};ai.render=function(j,m){var f=this._first,l;for(this._totalTime=this._time=this._rawPrevTime=j;f;){l=f._next;if(f._active||j>=f._startTime&&!f._paused){f._reversed?f.render((!f._dirty?f._totalDuration:f.totalDuration())-(j-f._startTime)*f._timeScale,m,!1):f.render((j-f._startTime)*f._timeScale,m,!1)}f=l}};ai.rawTime=function(){return this._totalTime};var ah=ab("TweenLite",function(f,j,d){ac.call(this,j,d);if(null==f){throw"Cannot tween an undefined reference."}this.target=f;this._overwrite=null==this.vars.overwrite?N[ah.defaultOverwrite]:"number"===typeof this.vars.overwrite?this.vars.overwrite>>0:N[this.vars.overwrite];if((f instanceof Array||f.jquery)&&"object"===typeof f[0]){this._targets=f.slice(0);this._propLookup=[];this._siblings=[];for(f=0;f<this._targets.length;f++){d=this._targets[f],d.jquery?(this._targets.splice(f--,1),this._targets=this._targets.concat(d.constructor.makeArray(d))):(this._siblings[f]=M(d,this,!1),1===this._overwrite&&1<this._siblings[f].length&&U(d,this,null,1,this._siblings[f]))}}else{this._propLookup={},this._siblings=M(f,this,!1),1===this._overwrite&&1<this._siblings.length&&U(f,this,null,1,this._siblings)}(this.vars.immediateRender||0===j&&0===this._delay&&!1!=this.vars.immediateRender)&&this.render(0,!1,!0)},!0);ai=ah.prototype=new ac;ai.constructor=ah;ai.kill()._gc=!1;ai.ratio=0;ai._firstPT=ai._targets=ai._overwrittenProps=null;ai._notifyPluginsOfEnabled=!1;ah.version=12;ah.defaultEase=ai._ease=new Z(null,null,1,1);ah.defaultOverwrite="auto";ah.ticker=V;var k=ah._plugins={},S={},b=0,a={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1},N={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},O=ac._rootFramesTimeline=new af,W=ac._rootTimeline=new af;W._startTime=V.time;O._startTime=V.frame;W._active=O._active=!0;ac._updateRoot=function(){W.render((V.time-W._startTime)*W._timeScale,!1,!1);O.render((V.frame-O._startTime)*O._timeScale,!1,!1);if(!(V.frame%120)){var f,j,d;for(d in S){j=S[d].tweens;for(f=j.length;-1<--f;){j[f]._gc&&j.splice(f,1)}0===j.length&&delete S[d]}}};V.addEventListener("tick",ac._updateRoot);var M=function(j,n,f){var m=j._gsTweenID,l;if(!S[m||(j._gsTweenID=m="t"+b++)]){S[m]={target:j,tweens:[]}}if(n&&(j=S[m].tweens,j[l=j.length]=n,f)){for(;-1<--l;){j[l]===n&&j.splice(l,1)}}return S[m].tweens},U=function(y,w,x,v,u){var p,r,s;if(1===v||4<=v){y=u.length;for(p=0;p<y;p++){if((s=u[p])!==w){s._gc||s._enabled(!1,!1)&&(r=!0)}else{if(5===v){break}}}return r}var t=w._startTime+1e-10,q=[],o=0,n;for(p=u.length;-1<--p;){if(!((s=u[p])===w||s._gc||s._paused)){s._timeline!==w._timeline?(n=n||e(w,0),0===e(s,n)&&(q[o++]=s)):s._startTime<=t&&s._startTime+s.totalDuration()/s._timeScale+1e-10>t&&((0===w._duration||!s._initted)&&2e-10>=t-s._startTime||(q[o++]=s))}}for(p=o;-1<--p;){if(s=q[p],2===v&&s._kill(x,y)&&(r=!0),2!==v||!s._firstPT&&s._initted){s._enabled(!1,!1)&&(r=!0)}}return r},e=function(j,n){for(var f=j._timeline,m=f._timeScale,l=j._startTime;f._timeline;){l+=f._startTime;m*=f._timeScale;if(f._paused){return -100}f=f._timeline}l/=m;return l>n?l-n:!j._initted&&2e-10>l-n?1e-10:(l+=j.totalDuration()/j._timeScale/m)>n?0:l-n-1e-10};ai._init=function(){this.vars.startAt&&(this.vars.startAt.overwrite=0,this.vars.startAt.immediateRender=!0,ah.to(this.target,0,this.vars.startAt));var d,f;this._ease=this.vars.ease instanceof Z?this.vars.easeParams instanceof Array?this.vars.ease.config.apply(this.vars.ease,this.vars.easeParams):this.vars.ease:"function"===typeof this.vars.ease?new Z(this.vars.ease,this.vars.easeParams):ah.defaultEase;this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets){for(d=this._targets.length;-1<--d;){if(this._initProps(this._targets[d],this._propLookup[d]={},this._siblings[d],this._overwrittenProps?this._overwrittenProps[d]:null)){f=!0}}}else{f=this._initProps(this.target,this._propLookup,this._siblings,this._overwrittenProps)}f&&ah._onPluginEvent("_onInitAllProps",this);this._overwrittenProps&&null==this._firstPT&&"function"!==typeof this.target&&this._enabled(!1,!1);if(this.vars.runBackwards){for(d=this._firstPT;d;){d.s+=d.c,d.c=-d.c,d=d._next}}this._onUpdate=this.vars.onUpdate;this._initted=!0};ai._initProps=function(s,q,r,p){var o,j,l,m,n;if(null==s){return !1}for(o in this.vars){if(a[o]){if("onStartParams"===o||"onUpdateParams"===o||"onCompleteParams"===o||"onReverseCompleteParams"===o||"onRepeatParams"===o){if(n=this.vars[o]){for(j=n.length;-1<--j;){"{self}"===n[j]&&(n=this.vars[o]=n.concat(),n[j]=this)}}}}else{if(k[o]&&(m=new k[o])._onInitTween(s,this.vars[o],this)){this._firstPT={_next:this._firstPT,t:m,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:m._priority};for(j=m._overwriteProps.length;-1<--j;){q[m._overwriteProps[j]]=this._firstPT}if(m._priority||m._onInitAllProps){l=!0}if(m._onDisable||m._onEnable){this._notifyPluginsOfEnabled=!0}}else{this._firstPT=q[o]={_next:this._firstPT,t:s,p:o,f:"function"===typeof s[o],n:o,pg:!1,pr:0},this._firstPT.s=!this._firstPT.f?parseFloat(s[o]):s[o.indexOf("set")||"function"!==typeof s["get"+o.substr(3)]?o:"get"+o.substr(3)](),this._firstPT.c="number"===typeof this.vars[o]?this.vars[o]-this._firstPT.s:"string"===typeof this.vars[o]?parseFloat(this.vars[o].split("=").join("")):0}}this._firstPT&&this._firstPT._next&&(this._firstPT._next._prev=this._firstPT)}return p&&this._kill(p,s)?this._initProps(s,q,r,p):1<this._overwrite&&this._firstPT&&1<r.length&&U(s,this,q,this._overwrite,r)?(this._kill(q,s),this._initProps(s,q,r,p)):l};ai.render=function(t,r,s){var q=this._time,p,o;if(t>=this._duration){if(this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(p=!0,o="onComplete"),0===this._duration){if(0===t||0>this._rawPrevTime){this._rawPrevTime!==t&&(s=!0)}this._rawPrevTime=t}}else{if(0>=t){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==q||0===this._duration&&0<this._rawPrevTime){o="onReverseComplete",p=this._reversed}0>t?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(s=!0),this._rawPrevTime=t)):this._initted||(s=!0)}else{if(this._totalTime=this._time=t,this._easeType){var m=t/this._duration,n=this._easeType,l=this._easePower;if(1===n||3===n&&0.5<=m){m=1-m}3===n&&(m*=2);1===l?m*=m:2===l?m*=m*m:3===l?m*=m*m*m:4===l&&(m*=m*m*m*m);this.ratio=1===n?1-m:2===n?m:0.5>t/this._duration?m/2:1-m/2}else{this.ratio=this._ease.getRatio(t/this._duration)}}}if(this._time!==q||s){this._initted||(this._init(),!p&&this._time&&(this.ratio=this._ease.getRatio(this._time/this._duration)));!this._active&&!this._paused&&(this._active=!0);if(0===q&&this.vars.onStart&&(0!==this._time||0===this._duration)){r||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||X)}for(t=this._firstPT;t;){if(t.f){t.t[t.p](t.c*this.ratio+t.s)}else{t.t[t.p]=t.c*this.ratio+t.s}t=t._next}this._onUpdate&&(r||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||X));o&&!this._gc&&(p&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),r||this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||X))}};ai._kill=function(t,r){"all"===t&&(t=null);if(null==t&&(null==r||r==this.target)){return this._enabled(!1,!1)}var r=r||this._targets||this.target,s,q,p,o,m,n,l;if((r instanceof Array||r.jquery)&&"object"===typeof r[0]){for(s=r.length;-1<--s;){this._kill(t,r[s])&&(m=!0)}}else{if(this._targets){for(s=this._targets.length;-1<--s;){if(r===this._targets[s]){o=this._propLookup[s]||{};this._overwrittenProps=this._overwrittenProps||[];q=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}}else{if(r!==this.target){return !1}o=this._propLookup;q=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){for(p in n=t||o,l=t!=q&&"all"!=q&&t!=o&&(null==t||!0!=t._tempKill),n){if(s=o[p]){s.pg&&s.t._kill(n)&&(m=!0);if(!s.pg||0===s.t._overwriteProps.length){s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null}delete o[p]}l&&(q[p]=1)}}}return m};ai.invalidate=function(){this._notifyPluginsOfEnabled&&ah._onPluginEvent("_onDisable",this);this._onUpdate=this._overwrittenProps=this._firstPT=null;this._initted=this._active=this._notifyPluginsOfEnabled=!1;this._propLookup=this._targets?{}:[];return this};ai._enabled=function(f,j){if(f&&this._gc){if(this._targets){for(var d=this._targets.length;-1<--d;){this._siblings[d]=M(this._targets[d],this,!0)}}else{this._siblings=M(this.target,this,!0)}}ac.prototype._enabled.call(this,f,j);return this._notifyPluginsOfEnabled&&this._firstPT?ah._onPluginEvent(f?"_onEnable":"_onDisable",this):!1};ah.to=function(f,j,d){return new ah(f,j,d)};ah.from=function(f,j,d){d.runBackwards=!0;!1!=d.immediateRender&&(d.immediateRender=!0);return new ah(f,j,d)};ah.fromTo=function(j,m,f,l){l.startAt=f;f.immediateRender&&(l.immediateRender=!0);return new ah(j,m,l)};ah.delayedCall=function(j,n,f,m,l){return new ah(n,0,{delay:j,onComplete:n,onCompleteParams:f,onCompleteScope:m,onReverseComplete:n,onReverseCompleteParams:f,onReverseCompleteScope:m,immediateRender:!1,useFrames:l,overwrite:0})};ah.set=function(d,f){return new ah(d,0,f)};ah.killTweensOf=ah.killDelayedCallsTo=function(j,m){for(var f=ah.getTweensOf(j),l=f.length;-1<--l;){f[l]._kill(m,j)}};ah.getTweensOf=function(j){if(null!=j){var m,f,l;if((j instanceof Array||j.jquery)&&"object"===typeof j[0]){m=j.length;for(f=[];-1<--m;){f=f.concat(ah.getTweensOf(j[m]))}for(m=f.length;-1<--m;){l=f[m];for(j=m;-1<--j;){l===f[j]&&f.splice(m,1)}}}else{f=M(j).concat();for(m=f.length;-1<--m;){f[m]._gc&&f.splice(m,1)}}return f}};var h=ab("plugins.TweenPlugin",function(d,f){this._overwriteProps=(d||"").split(",");this._propName=this._overwriteProps[0];this._priority=f||0},!0);ai=h.prototype;h.version=12;h.API=2;ai._firstPT=null;ai._addTween=function(l,q,j,p,o,n){var m;if(null!=p&&(m="number"===typeof p||"="!==p.charAt(1)?Number(p)-j:Number(p.split("=").join("")))){this._firstPT={_next:this._firstPT,t:l,p:q,s:j,c:m,f:"function"==typeof l[q],n:o||q,r:n},this._firstPT._next&&(this._firstPT._next._prev=this._firstPT)}};ai.setRatio=function(f){for(var j=this._firstPT,d;j;){d=j.c*f+j.s;j.r&&(d=d+(0<d?0.5:-0.5)>>0);if(j.f){j.t[j.p](d)}else{j.t[j.p]=d}j=j._next}};ai._kill=function(d){if(null!=d[this._propName]){this._overwriteProps=[]}else{for(var f=this._overwriteProps.length;-1<--f;){null!=d[this._overwriteProps[f]]&&this._overwriteProps.splice(f,1)}}for(f=this._firstPT;f;){null!=d[f.n]&&((f._next&&(f._next._prev=f._prev),f._prev)?(f._prev._next=f._next,f._prev=null):this._firstPT===f&&(this._firstPT=f._next)),f=f._next}return !1};ai._roundProps=function(f,j){for(var d=this._firstPT;d;){if(f[this._propName]||null!=d.n&&f[d.n.split(this._propName+"_").join("")]){d.r=j}d=d._next}};ah._onPluginEvent=function(l,r){var j=r._firstPT,q;if("_onInitAllProps"===l){for(var p,o,m,n;j;){n=j._next;for(p=o;p&&p.pr>j.pr;){p=p._next}(j._prev=p?p._prev:m)?j._prev._next=j:o=j;(j._next=p)?p._prev=j:m=j;j=n}j=r._firstPT=o}for(;j;){j.pg&&"function"===typeof j.t[l]&&j.t[l]()&&(q=!0),j=j._next}return q};h.activate=function(d){for(var f=d.length;-1<--f;){d[f].API===h.API&&(ah._plugins[(new d[f])._propName]=d[f])}return !0};if(ad=ae._gsQueue){for(ag=0;ag<ad.length;ag++){ad[ag]()}for(ai in R){R[ai].def||console.log("Warning: TweenLite encountered missing dependency: com.greensock."+ai)}}})(window);