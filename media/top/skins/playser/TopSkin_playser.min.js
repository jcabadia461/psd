(function(a){b.prototype=new emic.top.ui.UISkinBase();a.ORDER_ENABLE_BUTTONS_ON="order_enable_buttons_on";a.ORDER_ENABLE_BUTTONS_OFF="order_enable_buttons_off";a.ORDER_TITLE="order_title";a.EXTERNAL_ORDER_DETALLES="external_order_detalles";a.EXTERNAL_ORDER_COMPARTIR="external_order_compartir";a.EXTERNAL_ORDER_EMBEBER="external_order_embeber";function b(){emic.top.ui.UISkinBase.call(this);var c="Contenido Publicitario";var j,L,s,f,H,K,E,D,w,A;var P,M,v,J,k,B,e,h,Q,N,g,C;var G=null;var I;var m,O;var l=false;var u="/psdmedia/media/top/skins/playser/assets/template.html",t="/psdmedia/media/top/skins/playser/assets/estilos.css",q=0,n=1;var F=function(){var T=document.createElement("link"),S=O.genericData.urlBase?(O.genericData.urlBase+t):t;T.setAttribute("rel","stylesheet");T.setAttribute("type","text/css");T.setAttribute("href",S);if(typeof T!="undefined"){document.getElementsByTagName("head")[0].appendChild(T)}};var z=function(){var U=new psd.framework.Parser(),S=new psd.framework.Mediator(),T=O.genericData.urlBase?(O.genericData.urlBase+u):u;S.corsIE(true);S.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,i,this);S.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,r,this);S.mediate(T,U,psd.framework.Mediator.RESPONSE_TEXT)};var i=function(S){var T;if(S.result.parserResult.code==q){T=S.result.parserResult.result.replace(/{<-%ID%->}/g,O.genericData.id);m.innerHTML=T;R.apply(this);this.notifyInitComplete()}else{if(S.result.parserResult.code==n){}}};var r=function(S){};var d=function(S){return document.getElementById(S+O.genericData.id)};var R=function(){g=d("botones_izquierda_playser_container");C=d("botones_izquierda");if(getDevice().mobile==true){var T=d("panelVolumenOcultable");if(T){T.style.display="none"}if(g){g.style.left="-70px"}}this.loadEskupInfo(O.socialData.eskupData.idEskup);j=d("PlayerPrev");L=d("PlayerNext");s=d("PlayerPlay");f=d("PlayerPause");G=s;this.hide(f);A=d("PlayerDesc");H=d("PlayerVolume");w=d("PlayerProgressBack");E=d("PlayerProgress");D=d("PlayerProgressButton");K=d("PlayerVolumePanel");this.hide(K);P=d("playerVolumenMarca");M=d("divPlayerVolumenMarca");v=d("divPlayerVolumenMarca2");J=d("time");Q=d("s1");N=d("s2");B=d("botones_playser_llevatelo");e=d("botones_playser_comentarios");k=d("botones_playser_conectar");j.onclick=(function(V){return function(){V.notifyOrderPrev()}})(this);L.onclick=(function(V){return function(){V.notifyOrderNext()}})(this);s.onclick=(function(V){return function(){V.notifyOrderPlay()}})(this);f.onclick=(function(V){return function(){V.notifyOrderPause()}})(this);e.onclick=(function(V){return function(){V.notifyOrderExternal(a.EXTERNAL_ORDER_DETALLES)}})(this);B.onclick=(function(V){return function(){V.notifyOrderExternal(a.EXTERNAL_ORDER_EMBEBER)}})(this);k.onclick=(function(V){return function(){V.notifyOrderExternal(a.EXTERNAL_ORDER_COMPARTIR)}})(this);H.onmouseover=(function(V){return function(){if(K.style.display=="none"){V.show(K)}}})(this);D.onclick=(function(V){return function(X){var W,aa,Y;Y=V.getPosition(X.currentTarget);W=X.clientX-Y.x;aa=X.clientY-Y.y;var Z=W/D.offsetWidth;V.notifyOrderSeekByProp(Z)}})(this);A.innerHTML=O.mediaData.title;o.apply(this,[false]);this.onVolumeChange(O.mediaData.startVolume);K.onmouseover=(function(V){return function(){V.show(K);K.style.display="block"}})(this);K.onmouseout=(function(V){return function(){if(!l){K.style.display="none"}}})(this);M.onmouseover=(function(V){return function(){V.show(K);K.style.display="block"}})(this);M.onclick=(function(V){return function(W){parentPosition=V.getPosition(W.currentTarget);x=W.clientX-parentPosition.x;y=W.clientY-parentPosition.y}})(this);v.onclick=(function(V){return function(W){parentPosition=V.getPosition(W.currentTarget);x=W.clientX-parentPosition.x;y=W.clientY-parentPosition.y;_ballpos=x-17;if(_ballpos<9){_ballpos=18}if(_ballpos>60){_ballpos=60}vol=_ballpos/60;if(vol<=0.3){vol=0}if(vol>1){vol=1}V.notifyOrderVolumeChange(vol)}})(this);var U=(function(V){return function(W){V.notifyOrderVolumeChange(W)}})(this);$("#playerVolumenMarca"+O.genericData.id).each(function(){var V=$(this).parent().children(".divPlayerVolumenMarcaHorizontal");$(this).draggable({axis:"x",containment:V,start:function(W,X){l=true},stop:function(X,Y){l=false;var W=((parseInt($(this).css("left"))-27)/38);if(W>1){W=1}if(W<0){W=0}U(W)},drag:function(X,Y){var W=((parseInt($(this).css("left"))-27)/38);if(W>1){W=1}if(W<0){W=0}U(W)}})});var S=d("botones_ocultar_directo");if(O.mediaData.isLive){this.hideBotonComentarios(true);J.style.padding="0 30px"}else{this.hideBotonComentarios(false)}};this.loadNComentarios=function(){h=d("botones_playser_numero_comentarios");if(h){if(this.infoEskup.perfilesHilos["_"+this.idTop]){h.innerHTML=this.infoEskup.perfilesHilos["_"+this.idTop].numero_mensajes}else{h.innerHTML=""}}if(h.innerHTML=="0"){h.innerHTML=""}};this.hideBotonCompartir=function(S){if(S==null){S=true}if(C.style.right==""){C.style.right="0px"}if(S){if(k.style.display=="none"){return}k.style.display="none";C.style.right=(parseInt(C.style.right)-37)+"px"}else{if(k.style.display!="none"){return}k.style.display="block";C.style.right=(parseInt(C.style.right)+37)+"px"}};this.hideBotonEmbeber=function(S){if(S==null){S=true}if(C.style.right==""){C.style.right="0px"}if(S){if(Q.style.display=="none"){return}Q.style.display="none";C.style.right=(parseInt(C.style.right)-37)+"px"}else{if(Q.style.display!="none"){return}Q.style.display="block";C.style.right=(parseInt(C.style.right)+37)+"px"}};this.hideBotonComentarios=function(S){if(S==null){S=true}if(C.style.right==""){C.style.right="0px"}if(S){if(N.style.display=="none"){return}N.style.display="none";C.style.right=(parseInt(C.style.right)-37)+"px"}else{if(N.style.display!="none"){return}N.style.display="block";C.style.right=(parseInt(C.style.right)+37)+"px"}};this.hideButtons=function(T,U,S){if(T==null){T=true}if(U==null){U=true}if(S==null){S=true}this.hideBotonComentarios(S);this.hideBotonCompartir(T);this.hideBotonEmbeber(U)};this.init=function(S){O=S;m=document.getElementById(O.internalData.skinContainer);F.apply(this);z.apply(this)};this.reset=function(){if(E){E.style.width="0%"}if(A){A.innerHTML=O.mediaData.title}if(f){this.hide(f)}if(s){this.show(s)}if(J){J.innerHTML=(O.mediaData.isLive)?"DIRECTO":this.secondsAsTimeCode(0,"hh:mm:ss")}var S=d("botones_ocultar_directo");if(O.mediaData.isLive){this.hideBotonComentarios(true);J.style.padding="0 30px"}else{this.hideBotonComentarios(false);S.style.visibility="visible";S.style.width="216px"}};this.resize=function(T,S){};this.onProgress=function(S){E.style.width=((S.currentTime/S.totalTime)*100)+"%";J.innerHTML=(O.mediaData.isLive&&O.internalData.position==emic.top.TopPlayer.POSITION_MEDIA)?"DIRECTO":this.secondsAsTimeCode(S.currentTime,"hh:mm:ss")};this.onVolumeChange=function(S){P.style.left=(S*46+22)+"px"};this.onBufferEmpty=function(){p.apply(this,[true])};this.onBufferFull=function(){p.apply(this,[false])};this.showLoading=function(S){p.apply(this,[S])};var p=function(S){if(S){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{s.className=s.className.replace("iniciar","cargando");f.className=f.className.replace("pausar","cargando_pause")}}else{if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{s.className=s.className.replace("cargando","iniciar");f.className=f.className.replace("cargando_pause","pausar")}}};this.externalOrder=function(S,T){switch(S){case a.ORDER_ENABLE_BUTTONS_ON:o.apply(this,[true]);break;case a.ORDER_ENABLE_BUTTONS_OFF:o.apply(this,[false]);break;case a.ORDER_TITLE:A.innerHTML=T;break}};var o=function(S){if(S){s.style.left="74px";f.style.left="74px";A.style.left="112px";L.style.display="block";j.style.display="block"}else{s.style.left="0px";f.style.left="0px";A.style.left="40px";L.style.display="none";j.style.display="none"}};this.onStatusChange=function(S){switch(S){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:this.hide(f);this.show(s);G=s;break;case emic.top.MediaModule.STATUS_PLAY:this.hide(s);this.show(f);G=f;break;case emic.top.AdModule.STATUS_PAUSE:this.hide(f);this.show(s);G=s;break;case emic.top.AdModule.STATUS_PLAY:this.hide(s);this.show(f);G=f;A.innerHTML=c;break;case emic.top.AdModule.STATUS_STOP:A.innerHTML=O.mediaData.title;break}};this.onMetadata=function(S){};this.onCue=function(S){};this.onError=function(T,S){};this.onSwitchRequest=function(S){};this.onSwitchComplete=function(S){};this.requestFullScreen=function(){};this.cancelFullScreen=function(){};this.onSeekStart=function(S){};this.onSeekComplete=function(S){}}a.TopSkin_playser=b})(emic.top.ui);