!function(namespace){function TopSkin_oneplayer(){emic.top.ui.UISkinBase.call(this);var _that=this,_player,_container,toAssignHtmlElem={_slideVolume:"divSlideVolume",_slideVideo:"divSlideVideo",_timeCurrent:"spanCurrentTime",_timeTotal:"spanTotalTime",_fileToDownload:"ahrefFileToDownload",_divInfoPrograma:"divInfoPrograma",_imgCaratula:"imgCaratula",_divLayerEmbed:"divLayerEmbed",_btnCloseLayerEmbed:"btnCloseLayerEmbed",_divBtnPlayPauseLoading:"divBtnPlay",_spanBtnMutear:"spanBtnMutear",_divBotonesCompartir:"divBotonesCompartir",_btnCloseShare:"btnCloseShare",_btnOpenShare:"btnOpenShare",_boton_compartir_facebook:"btnCompartirFacebook",_boton_compartir_twitter:"btnCompartirTwitter",_boton_compartir_download:"btnCompartirDownload",_boton_compartir_whatsapp:"boton_compartir_whatsapp",_boton_compartir_embed:"boton_compartir_embed",_play_display:"play_display",_mute_display:"mute_display",_select_emisora_display:"divSelectEmisoraDisplay",_select_emisora:"ahrefSelectEmisora",_mmSelector:"divMMSelector",_mmSelectorSize:"divMMSelectorSize",_ulEmisoras:"ulEmisoras",_ulSizes:"ulSizes",_nombreSize:"ahrefTamanio",_textCode:"textCode",_btnCopiarCodigo:"btnCopiarCodigo",_divInfo1:"divInfo1",_divInfo2:"divInfo2",_divInfo3:"divInfo3",_spanInfo1:"spanInfo1",_spanspanInfo1:"spanspanInfo1",_spanInfo2:"spanInfo2",_spanInfo3:"spanInfo3",_btnCambiarEmisoraMovil:"btnCambiarEmisoraMovil",_divButtonSelectMovil:"divButtonSelectMovil",_btnCloseEmisoraMovil:"btnCloseEmisoraMovil",_spanNombreEmisoraMovil:"spanNombreEmisoraMovil",_btnPlaylist:"btnPlaylist",_btnNext:"btnNext",_btnPrev:"btnPrev",_divBtnIrDirecto:"divBtnIrDirecto",_divEmisora:"divEmisora"};for(var i in toAssignHtmlElem)eval("var "+i);var _URL_TEMPLATE="/psdmedia/media/top/skins/oneplayer/template.html",_URL_STYLE="/psdmedia/media/top/skins/oneplayer/css/",_URL_JQUERY="/psdmedia/media/top/skins/oneplayer/js/",_CODE_NUM_PARSER_OK=0,_CODE_NUM_PARSER_ERROR=1,_isplaying=!1,_ismute=!1,_currentvolume=.7,_started=!1,_track_artist_url=null,_parrilla_nombre=null,_parrilla_horario=null,_parrilla_presentador=null,_parrilla_caratula=null,_URL_TWITTER="https://twitter.com/intent/tweet?text=",_URL_FACEBOOK="https://www.facebook.com/sharer/sharer.php?u=",_URL_PARRILLA="//fapi-top.prisasd.com/api/v1/parrilla/",_URL_ENLATADO="//fapi-top.prisasd.com/api/v1/search/los40/audio/idref/",_URL_EMISORAS="//fapi-top.prisasd.com/api/v1/search/{EMISORA}/audio/tags?tags=m(tags.type%7CE%2Cislive%7Ctrue)&size=40&orderBy=idref|asc",_DEFAULT_COVER="/psdmedia/media/top/skins/oneplayer/img/logo40-90.jpg",_default_cover=_DEFAULT_COVER,_DEFAULT_NOMBRE="PRISA MUSICALES",_default_nombre=_DEFAULT_NOMBRE,_DEFAULT_HORARIO="",_default_horario=_DEFAULT_HORARIO,_DEFAULT_PRESENTADOR="",_default_presentador=_DEFAULT_PRESENTADOR,_mdCover,_mdNombre,_mdPresentador,_udn=null,_vias={},_hayvias=!1,_firstVia="",_emisoraIrDirecto="",_message_share_facebook="",_message_share_twitter="",_message_share_twitter_emisora="",_twitter_via=null,_css="default.css",_show_twitter=!0,_show_facebook=!0,_isLive=!1,_isPlaylist=!1;this.flagSliderMove=!1,this.capaEmisorasOcultarMovil=!1;var _CheckWidget=function(a){var b=/widget\//g;return a.indexOf("widget")!=-1?(a=a.replace(b,""),a=a.replace("directo","emisora")):a},_loadjQuery=function(){var a=document.createElement("script"),b=_data.genericData.urlBase?_data.genericData.urlBase+_URL_JQUERY+"jquery-2.1.4.min.js":_URL_JQUERY+"jquery-2.1.4.min.js";a.setAttribute("src",b),a.setAttribute("type","text/javascript"),a.onload=function(){_that.init2(),void 0===jQuery.ui&&_loadjQueryUI.apply(this)},void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a)},_loadjQueryUI=function(){var a=document.createElement("script"),b=_data.genericData.urlBase?_data.genericData.urlBase+_URL_JQUERY+"jquery-ui.min.js":_URL_JQUERY+"jquery-ui.min.js";a.setAttribute("src",b),a.setAttribute("type","text/javascript"),a.onload=function(){_runjQueryfunctions.apply(this)},void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a);var c=document.createElement("script"),d=_data.genericData.urlBase?_data.genericData.urlBase+_URL_JQUERY+"jquery.custom-scrollbar.js":_URL_JQUERY+"jquery.custom-scrollbar.js";c.setAttribute("src",d),c.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(c)},_loadCSS=function(){var a=document.createElement("link"),b=_data.genericData.urlBase?_data.genericData.urlBase+_URL_STYLE+_css:_URL_STYLE+_css;a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",b),void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a)},_loadTemplate=function(){var a=new psd.framework.Parser,b=new psd.framework.Mediator,c=_data.genericData.urlBase?_data.genericData.urlBase+_URL_TEMPLATE:_URL_TEMPLATE;b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,onDataCompleteTemplateOnePlayer,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,onDataErrorTemplateoneplayer,this),b.mediate(c,a,psd.framework.Mediator.RESPONSE_TEXT)},onDataCompleteTemplateOnePlayer=function(a){var b;a.result.parserResult.code==_CODE_NUM_PARSER_OK?(b=a.result.parserResult.result.replace(/{<-%ID%->}/g,_data.genericData.id+"_"),b=b.replace(/{<-%URL_BASE%->}/g,_data.genericData.urlBase),_container.innerHTML=b,_assignElements.apply(this),this.notifyInitComplete()):a.result.parserResult.code==_CODE_NUM_PARSER_ERROR&&emic.top.debug("TopSkin_oneplayer | Error al cargar el template de oneplayer. ParseError.")},onDataErrorTemplateoneplayer=function(a){emic.top.debug("TopSkin_oneplayer | Error al cargar el template de oneplayer. DataError.")},_getElementById=function(a){return document.getElementById(_data.genericData.id+"_"+a)},_assignElements=function(){_player=document.getElementById("player");for(var i in toAssignHtmlElem)eval(i+"= _getElementById('"+toAssignHtmlElem[i]+"')"),"object"==typeof eval(i)&&null!=eval(i)||console.log(i+" no asignado");_show_facebook||(_boton_compartir_facebook.style.display="none"),_show_twitter||(_boton_compartir_twitter.style.display="none"),getDevice().mobile||(_boton_compartir_whatsapp.style.display="none"),_loadCSS.apply(this),_imgCaratula.onerror=function(){_imgCaratula.onerror=null,_imgCaratula.src=_DEFAULT_COVER},setSkin.apply(this),_loadEmisoras(),"undefined"!=typeof jQuery&&void 0!==jQuery.ui&&_runjQueryfunctions.apply(this)},onDataErrorParrilla=function(a){_default_nombre=_DEFAULT_NOMBRE,_default_horario=_DEFAULT_HORARIO,_default_cover=_DEFAULT_COVER,_default_presentador=_DEFAULT_PRESENTADOR,_parrilla_nombre=_default_nombre,_parrilla_horario=_default_horario,_parrilla_presentador=_default_presentador,_parrilla_caratula=_default_cover},setNombres=function(){var a,b,c;""==_parrilla_nombre&&(_parrilla_nombre=_DEFAULT_NOMBRE),""==_parrilla_presentador&&(_parrilla_presentador=_DEFAULT_PRESENTADOR),""==_parrilla_caratula&&(_parrilla_caratula=_DEFAULT_COVER),""==_parrilla_horario&&(_parrilla_horario=_DEFAULT_HORARIO),a=""!=_mdCover?_mdCover:_parrilla_caratula,b=""!=_mdNombre?_mdNombre:_parrilla_nombre,c=""!=_mdPresentador?_mdPresentador:_parrilla_presentador,_spanInfo2.innerHTML=".";var d=_divInfo2.offsetHeight;_spanInfo2.innerHTML="",_spanInfo3.innerHTML=".";var e=_divInfo3.offsetHeight;_spanInfo3.innerHTML="",_spanInfo1.className="",_spanInfo2.className="",_spanInfo3.className="",_spanInfo1.innerHTML="",_spanInfo2.innerHTML="",_spanInfo3.innerHTML="",_spanspanInfo1.innerHTML="",_isLive?(_spanInfo1.className="fa fa-circle",_spanspanInfo1.innerHTML="EN DIRECTO",_isplaying?(_spanInfo2.innerHTML=b,_spanInfo3.innerHTML=c,_imgCaratula.src=a):(_spanInfo2.innerHTML=_parrilla_nombre,_spanInfo3.innerHTML=_parrilla_presentador+" "+_parrilla_horario,_imgCaratula.src=_parrilla_caratula)):(_spanInfo2.innerHTML=_parrilla_nombre,_spanInfo3.innerHTML=_parrilla_presentador,_imgCaratula.src=_parrilla_caratula),_divInfo2.offsetHeight>d&&(_spanInfo2.className="mm_scrolling"),_divInfo3.offsetHeight>e&&(_spanInfo3.className="mm_scrolling"),this.notifyOrderVolumeChangeOnStarted(_currentvolume)},onDataCompleteParrilla=function(a){if(1==_data.mediaData.isLive?(_isLive=!0,_boton_compartir_download.style.display="none",_player.className="mm_player cs-directo"):(_isLive=!1,_boton_compartir_download.style.display="none",1==_data.mediaData.isPlaylist?(_isPlaylist=!0,_player.className="mm_player cs-playlist"):_player.className="mm_player cs-alacarta"),_parrilla_nombre="",_parrilla_horario="",_parrilla_presentador="",_parrilla_caratula="",_isLive)_parrilla_nombre=a.result.parserResult.result.nombre,_parrilla_horario="De "+a.result.parserResult.result.inicio+" a "+a.result.parserResult.result.fin,_parrilla_presentador=a.result.parserResult.result.presentador,_parrilla_caratula=a.result.parserResult.result.foto;else if("object"==typeof a.result.parserResult.result.data&&"object"==typeof a.result.parserResult.result.data[0]){var b=a.result.parserResult.result.data[0];_parrilla_nombre=null==b.name?"":b.name,_parrilla_horario=null==b.description?"":b.description,_parrilla_caratula=null==b.url_audio_still?"":b.url_audio_still,"number"==typeof b.length?this.onProgress({currentTime:0,totalTime:b.length/1e3}):this.onProgress({currentTime:0,totalTime:0})}_mdNombre="",_mdCover="",_mdPresentador="",setNombres.apply(this)},_loadParrilla=function(){var a=new psd.framework.parser.JSONParser,b=new psd.framework.Mediator;_isLive=_data.mediaData.isLive,url=_isLive?_URL_PARRILLA+_data.mediaData.id.toLowerCase():_URL_ENLATADO+_data.mediaData.id.toLowerCase(),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,onDataCompleteParrilla,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,onDataErrorParrilla,this),b.mediate(url,a,psd.framework.Mediator.RESPONSE_JSON)},onDataCompleteEmisoras=function(a){var b=[],c=a.result.parserResult.result.data;for(i in c)b[b.length]={id:c[i].idref,name:c[i].name};b.length<2&&(_select_emisora_display.style.display="none",_divEmisora.style.display="none");var d,e;for(i in b)void 0!=b[i].name&&(d=document.createElement("li"),e=document.createElement("a"),e.id="_emisora_"+b[i].id,e.innerHTML=b[i].name,_data.mediaData.defaultLive==b[i].id&&(d.className="active"),e.onclick=function(a,b){return function(){_that.cambiaEmisora(b,!0)}}(0,b[i].id),d.appendChild(e),_ulEmisoras.appendChild(d));_pintaNombreEmisora.apply(this)},onDataErrorEmisoras=function(){emic.top.debug("TopSkin_oneplayer | Error al cargar emisoras oneplayer para udn "+_udn),_select_emisora_display.style.display="none"},_loadEmisoras=function(){var a=new psd.framework.parser.JSONParser,b=new psd.framework.Mediator,c=_URL_EMISORAS.replace("{EMISORA}",_udn);b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,onDataCompleteEmisoras,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,onDataErrorEmisoras,this),b.mediate(c,a,psd.framework.Mediator.RESPONSE_JSON)},setSkin=function(){_emisoraIrDirecto=_data.uiData.skinData.emisora_ir_directo,_data.mediaData.isLive===!0?(_isLive=_data.mediaData.isLive,_divBtnIrDirecto.style.display="none"):_divBtnIrDirecto.style.display="block",_data.mediaData.isPlaylist===!0&&(_isPlaylist=!0),_data.uiData.skinData.soy_embed!==!0&&_data.mediaData.isPlaylist!==!0||(_divBtnIrDirecto.style.display="none"),_loadParrilla.apply(this),_divBtnPlayPauseLoading.onclick=function(a){return function(){_divBtnPlayPauseLoading.className.indexOf("mm_loading")>0||(_isplaying?void 0!==_data.mediaData.provider&&"hls"==_data.mediaData.provider?a.notifyOrderPause():a.notifyOrderStop():($(_divBtnPlayPauseLoading).addClass("mm_loading"),a.notifyOrderPlay()))}}(this),_divBtnIrDirecto.onclick=function(a){return function(){return _that.cambiaEmisora(_emisoraIrDirecto,!1),!1}}(),_btnOpenShare.onclick=function(a){return function(){return void 0===_data.uiData.skinData.appID||void 0===_data.uiData.skinData.title_share_facebook||void 0===_data.uiData.skinData.description_share_facebook?_boton_compartir_facebook.style.display="none":_boton_compartir_facebook.style.display="",$(_divBotonesCompartir).animate({width:"toggle"}),!1}}(),_btnCloseShare.onclick=function(a){return function(){return $(_divBotonesCompartir).animate({width:"toggle"}),!1}}(),_btnNext.onclick=function(a){return function(){return a.getPlayer().getUIModule().dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_NEXT)),!1}}(this),_btnPrev.onclick=function(a){return function(){return a.getPlayer().getUIModule().dispatchEvent(new emic.top.event.UIEvent(emic.top.event.UIEvent.ON_ORDER_PREV)),!1}}(this),_boton_compartir_twitter.onclick=function(a){return function(){$(_divBotonesCompartir).animate({width:"toggle"});var a=window.location.href;a=_CheckWidget(a),a=encodeURIComponent(a),"{}"==_data.mediaData.description&&(_data.mediaData.description=" "),null!=_twitter_via&&_hayvias&&(_twitter_via=void 0===_vias[_data.mediaData.idTOP.toLowerCase()]?_firstVia:_vias[_data.mediaData.idTOP.toLowerCase()]),content=_isLive?_message_share_twitter_emisora:_message_share_twitter;var b=content.search("@twitter@");content=content.replace("@twitter@","@"+_twitter_via),content=content.replace("@titulo@",_data.mediaData.title),content.length>100&&(content=content.substr(0,100)+"...");var c=_URL_TWITTER;c+=encodeURIComponent(content),b<0&&null!=_twitter_via&&(c+="&via="+_twitter_via),c+="&url="+a,window.open(c,"_blank")}}(),_boton_compartir_facebook.onclick=function(a){if($(_divBotonesCompartir).animate({width:"toggle"}),void 0!==_data.uiData.skinData.appID&&void 0!==_data.uiData.skinData.title_share_facebook&&void 0!==_data.uiData.skinData.description_share_facebook){var b="app_id="+_data.uiData.skinData.appID,c=window.location.href;c=_CheckWidget(c);var d=_data.uiData.skinData.title_share_facebook,e=_data.uiData.skinData.description_share_facebook,f=_data.uiData.skinData.default_cover;f=c+encodeURIComponent(f);var g=b+"&link="+c+"&description="+e+"&name="+d+"&picture="+f;g=encodeURI(g),window.open("https://www.facebook.com/dialog/feed?"+g)}},_boton_compartir_download.onclick=function(a){return function(){var a=_data.mediaData.urlHTML5[0];for(var b in _data.mediaData.urlHTML5)_data.mediaData.urlHTML5[b].indexOf("mp4")>0&&(a=_data.mediaData.urlHTML5[b]);_fileToDownload.href=a,_fileToDownload.click()}}(),_boton_compartir_whatsapp.onclick=function(a){return function(){var a=window.location.href,b="whatsapp://send?text="+a;window.open(b,"_blank")}}(),_boton_compartir_embed.onclick=function(a){return function(){$(_divLayerEmbed).animate({width:"toggle"})}}(),_btnCloseLayerEmbed.onclick=function(a){return function(){$(_divLayerEmbed).animate({width:"toggle"})}}(),_spanBtnMutear.onclick=function(a){return function(){_ismute?a.notifyOrderVolumeChangeOnStarted(_currentvolume):a.notifyOrderVolumeChangeOnStarted(0)}}(this),_select_emisora.onclick=function(a){return function(){$(_mmSelector).hasClass("mm_selector_activo")?$(_mmSelector).removeClass("mm_selector_activo"):$(_mmSelector).addClass("mm_selector_activo")}}(),_btnCambiarEmisoraMovil.onclick=function(a){return function(){a.capaEmisorasOcultarMovil=!0,$(_divButtonSelectMovil).show()}}(this),_btnCloseEmisoraMovil.onclick=function(a){return function(){$(_divButtonSelectMovil).hide()}}(),_mmSelectorSize.onclick=function(a){return function(){$(_mmSelectorSize).hasClass("mm_selector_activo")?$(_mmSelectorSize).removeClass("mm_selector_activo"):$(_mmSelectorSize).addClass("mm_selector_activo")}}(),_btnCopiarCodigo.onclick=function(a){return function(){_textCode.focus(),_textCode.setSelectionRange(0,_textCode.value.length),document.execCommand("copy")}}(),_btnPlaylist.onclick=function(a){return function(){$(".list-hidden").is(":visible")===!0?$(".mm_list-show").removeClass("btn-select"):$(".mm_list-show").addClass("btn-select"),$(".list-hidden").fadeToggle()}}(),$(".list-hidden").is(":visible")===!0?$(".mm_list-show").addClass("btn-select"):$(".mm_list-show").removeClass("btn-select"),_pintaNombreEmisora.apply(this),_pintaSizes.apply(this),this._CambiaSize()},_pintaSizes=function(){var a,b,c={"940x102":{width:940,height:102},"780x102":{width:780,height:102},"620x102":{width:620,height:102},"300x90":{width:300,height:90},"Ancho total":{width:0,height:0}};_ulSizes.innerHTML="";for(var d in c)a=document.createElement("li"),b=document.createElement("a"),b.innerHTML=d,"Ancho total"==d&&(a.className="active"),b.onclick=function(a,b,c){return function(){$(this).parent().siblings().removeClass("active"),$(this).parent().addClass("active"),a._CambiaSize(c,b)}}(this,c[d],d),a.appendChild(b),_ulSizes.appendChild(a)};this._CambiaSize=function(a,b){var c=_data.uiData.skinData.widget_domain;c+=_isPlaylist?"playlist/"+_data.uiData.id_playlist:_isLive?"directo/"+_data.mediaData.idTOP+"/":"audio/"+_data.mediaData.idTOP+"/";var d=' width="100%" height="100%" ',e='<iframe src="'+c+'" Width&Height frameborder="0" allowfullscreen></iframe>';void 0===a&&(a="TamaÃ±o"),"object"==typeof b&&"number"==typeof b.width&&"number"==typeof b.height&&b.width>0&&b.height>0&&(d=' width="'+b.width+'" height="'+b.height+'" '),e=e.replace("Width&Height",d),_textCode.innerHTML=e,_nombreSize.innerHTML=a};var _pintaNombreEmisora=function(){if("string"==typeof _data.mediaData.defaultLive){var a=$("#_emisora_"+_data.mediaData.defaultLive);void 0!==a.html()&&(_select_emisora.innerHTML=a.html(),a.html().search(/^LOS40 .{3}/gi)!=-1?_spanNombreEmisoraMovil.innerHTML=a.html().toUpperCase().replace("LOS40 ","").substring(0,3):_spanNombreEmisoraMovil.innerHTML=a.html().toUpperCase().substring(0,3),_spanNombreEmisoraMovil.title=a.html()),1!=_data.uiData.skinData.show_emisoras_label&&(_spanNombreEmisoraMovil.style.display="none")}};this.cambiaEmisora=function(a,b){this.capaEmisorasOcultarMovil&&(this.capaEmisorasOcultarMovil=!1,$(_divButtonSelectMovil).hide()),b&&_select_emisora.click(),this.notifyOrderStop(),setTimeout(function(){_resetEmisora.call(_that,a)},50),this.notifyOrderChangeLive(a,!b);for(var c=_ulEmisoras.getElementsByTagName("li"),d=0;d<c.length;d++)$(c[d]).removeClass("active");$("#_emisora_"+a).parent().addClass("active")};var _resetEmisora=function(a){this.getPlayer().getLauncher().reset(void 0,_data.genericData.id_cuenta,a,{player:{autoplay:!0}})};this.init=function(a){_data=a,_URL_ENLATADO="//fapi-top.prisasd.com/api/v1/search/"+a.genericData.id_cuenta+"/audio/idref/","undefined"==typeof jQuery?_loadjQuery.apply(this):(this.init2(),void 0===jQuery.ui&&_loadjQueryUI.apply(this))},this.init2=function(){this.initData(),_loadTemplate.apply(this)},this.initData=function(){if(_DEFAULT_COVER=_data.genericData.urlBase+"/psdmedia/media/top/skins/oneplayer/img/logo40-90.jpg",_default_cover=_DEFAULT_COVER,_container=document.getElementById(_data.internalData.skinContainer),_udn=_data.genericData.id_cuenta,void 0!=_data.uiData.skinData.default_title?(_default_nombre=_data.uiData.skinData.default_title,_DEFAULT_NOMBRE=_default_nombre):void 0!=_data.mediaData.title&&(_default_nombre=_data.mediaData.title,_DEFAULT_NOMBRE=_default_nombre),void 0!=_data.uiData.skinData.default_subtitle&&(_default_horario=_data.uiData.skinData.default_subtitle,_DEFAULT_HORARIO=_default_horario),void 0!=_data.uiData.skinData.default_subsub&&(_default_presentador=_data.uiData.skinData.default_subsubtitle,_DEFAULT_PRESENTADOR=_default_presentador),void 0!=_data.uiData.skinData.default_cover){var a="";void 0!=_data.genericData.urlBase&&(a=_data.genericData.urlBase),_DEFAULT_COVER=a+_default_cover,_default_cover=a+_data.uiData.skinData.default_cover,_DEFAULT_COVER=_default_cover}if(void 0!=_data.uiData.skinData.twitter_via&&(_twitter_via=_data.uiData.skinData.twitter_via,_twitter_via.indexOf(";")>0)){_hayvias=!0;var b=_twitter_via.split(";");for(var c in b){var d=b[c].split(":");_vias[d[0]]=d[1],""==_firstVia&&(_firstVia=d[1])}}void 0!=_data.uiData.skinData.css&&(_css=_data.uiData.skinData.css),void 0!=_data.uiData.skinData.message_share_fb&&(_message_share_facebook=_data.uiData.skinData.message_share_fb),void 0!=_data.uiData.skinData.message_share_tw&&(_message_share_twitter=_data.uiData.skinData.message_share_tw),void 0!=_data.uiData.skinData.message_share_tw_emisoras&&(_message_share_twitter_emisora=_data.uiData.skinData.message_share_tw_emisoras),void 0!=_data.uiData.skinData.show_facebook&&(_show_facebook=_data.uiData.skinData.show_facebook),void 0!=_data.uiData.skinData.show_twitter&&(_show_twitter=_data.uiData.skinData.show_twitter)};var setSlider=function(a,b){void 0!==$(a).slider&&"undefined"!=$(a).slider("instance")&&$(a).slider("value",b)};this.reset=function(){$(_divBtnPlayPauseLoading).addClass("mm_loading"),this.onStatusChange(emic.top.MediaModule.STATUS_STOP),this.initData(),setSkin.apply(this)},this.resize=function(a,b){},this.secondsAsTimeCode=function(a,b){if(isNaN(a))return"00:00:00";var c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f="";return c<10&&(c="0"+c),d<10&&(d="0"+d),e<10&&(e="0"+e),null==b?f=c+":"+d+":"+e:(f=b.replace("hh",c),f=f.replace("mm",d),f=f.replace("ss",e)),f},this.onProgress=function(a){if(!this.flagSliderMove){var b=100*a.currentTime/a.totalTime;setSlider(_slideVideo,b)}"number"==typeof a.currentTime&&"number"==typeof a.totalTime&&(_timeCurrent.innerHTML=this.secondsAsTimeCode(a.currentTime,"hh:mm:ss"),_timeTotal.innerHTML=this.secondsAsTimeCode(a.totalTime,"hh:mm:ss"))},this.onVolumeChange=function(a){var b=100*a;_currentvolume=a,0==a?(_spanBtnMutear.className=_spanBtnMutear.className.replace("icon-volume-2","icon-volume-off"),_ismute=!0):(_ismute=!1,_spanBtnMutear.className=_spanBtnMutear.className.replace("icon-volume-off","icon-volume-2")),setSlider(_slideVolume,b)},this.onSeekComplete=function(a){},this.onBufferEmpty=function(){$(_divBtnPlayPauseLoading).addClass("mm_loading")},this.onBufferFull=function(){$(_divBtnPlayPauseLoading).removeClass("mm_loading")},this.showLoading=function(a){},this.externalOrder=function(a,b){switch(a){case"metas_seo_facebook":_data.uiData.skinData.title_share_facebook=b.title,_data.uiData.skinData.description_share_facebook=b.description,_data.uiData.skinData.appID=b.app_id;break;case"id_playlist":"object"==typeof b&&void 0!==b.id&&(_data.uiData.id_playlist=b.id,this._CambiaSize())}},this.onStatusChange=function(a){switch(a){case emic.top.MediaModule.STATUS_STOP:_isplaying=!1,setSlider(_slideVideo,0),_play_display.className=_play_display.className.replace("fa-pause","fa-play"),$(_divBtnPlayPauseLoading).removeClass("mm_loading"),setNombres.apply(this);break;case emic.top.MediaModule.STATUS_PAUSE:case emic.top.AdModule.STATUS_PAUSE:_isplaying=!1,_play_display.className=_play_display.className.replace("fa-pause","fa-play"),setNombres.apply(this);break;case emic.top.MediaModule.STATUS_PLAY:$(_divBtnPlayPauseLoading).removeClass("mm_loading"),_isplaying=!0,_started=!0,_play_display.className=_play_display.className.replace("fa-play","fa-pause"),setNombres.apply(this);break;case emic.top.event.MediaEvent.ON_MEDIA_END:$(_divBtnPlayPauseLoading).removeClass("mm_loading");break;case emic.top.AdModule.STATUS_PLAY:$(_divBtnPlayPauseLoading).addClass("mm_loading");break;case emic.top.AdModule.STATUS_STOP:case emic.top.AdModule.PUBLI_SKIPPED:case emic.top.AdModule.PUBLI_ERROR:$(_divBtnPlayPauseLoading).removeClass("mm_loading")}},this.onPositionChange=function(a){switch(a){case emic.top.TopPlayer.POSITION_PREVIEW:$(_divBtnPlayPauseLoading).removeClass("mm_loading");break;case emic.top.TopPlayer.POSITION_AD_PREROLL:$(_divBtnPlayPauseLoading).addClass("mm_loading")}};var _getDataFromMetadata=function(a,b,c,d){return null!=a.cuePoint[b]&&""!=a.cuePoint[b]&&void 0!=a.cuePoint[b]?a.cuePoint[b]:null!=a.cuePoint.parameters[c]&&""!=a.cuePoint.parameters[c]&&void 0!=a.cuePoint.parameters[c]?a.cuePoint.parameters[c]:d};this.onMetadata=function(a){_mdCover=_getDataFromMetadata(a,"coverURL","cover_url","");var b=_getDataFromMetadata(a,"cueTitle","cue_title",""),c=_getDataFromMetadata(a,"albumName","album_name",""),d=_getDataFromMetadata(a,"artistName","artist_name","");_mdNombre=""!=b?b:c,_mdPresentador=d,setNombres.apply(this),void 0!=a.parameters&&void 0!=a.parameters.track_artist_url&&""!=a.parameters.track_artist_url&&null!=a.parameters.track_artist_url&&(_track_artist_url=a.parameters.track_artist_url),void 0!=a.cuePoint&&void 0!=a.cuePoint.parameters&&void 0!=a.cuePoint.parameters.track_artist_url&&""!=a.cuePoint.parameters.track_artist_url&&null!=a.cuePoint.parameters.track_artist_url&&(_track_artist_url=a.cuePoint.parameters.track_artist_url),null!=_track_artist_url?(_imgCaratula.style.cursor="pointer",_imgCaratula.onclick=function(){window.open(_track_artist_url,"_blank")}):(_imgCaratula.style.cursor="",_imgCaratula.onclick=function(){})},this.onCue=function(a){},this.onError=function(a,b){},this.onSwitchRequest=function(a){},this.onSwitchComplete=function(a){},this.requestFullScreen=function(){},this.cancelFullScreen=function(){},this.onSeekStart=function(a){},this.onSeekComplete=function(a){},this.notifyOrderVolumeChangeOnStarted=function(a){_started&&this.notifyOrderVolumeChange(a)};var _runjQueryfunctions=function(){$("#overlay").click(function(a){$(this).children("div").is(a.target)||0!==$(this).children("div").has(a.target).length||($("#overlay").removeClass("show"),$(this).children("div").removeClass("show"))}),$("#overlay .close").click(function(a){$("#overlay").removeClass("show"),$("#overlay").children("div").removeClass("show")}),$(".trigger_player").click(function(a){$(this).toggleClass("active"),$(this).next(".oc").toggle(300),a.stopPropagation()}),this.flagSliderMove=!1,$(_slideVolume).slider({range:"min",value:60,slide:function(a,b){_that.notifyOrderVolumeChangeOnStarted(b.value/100)}}),$(_slideVideo).slider({range:"min",value:0,start:function(){_that.flagSliderMove=!0},stop:function(a,b){_that.notifyOrderSeekByProp(b.value/100),_that.flagSliderMove=!1}}),$(this).children(".iconf_player").toggleClass("iconf-volume iconf-mute"),$(this).children(".iconf_player").hasClass("iconf-mute")?setSlider(_slideVolume,0):setSlider(_slideVolume,100)}}TopSkin_oneplayer.prototype=new emic.top.ui.UISkinBase,namespace.TopSkin_oneplayer=TopSkin_oneplayer}(emic.top.ui);