(function(a){b.prototype=new emic.top.ui.UISkinBase();function b(){emic.top.ui.UISkinBase.call(this);var E,o,u,t,e,C,J,L,P,N,z,G,K,j,A,R,g,p,M,h,F,I,q;var f="";var m=true;var D="250px";var d=false;moviendoVolumen=false;abiertas_rrss=false;var k,O;var w="/psdmedia/media/top/skins/playser_pep/assets/template.html",v="/psdmedia/media/top/skins/playser_pep/assets/estilos.css",r=0,l=1;var H=function(){var T=document.createElement("link"),S=O.genericData.urlBase?(O.genericData.urlBase+v):v;T.setAttribute("rel","stylesheet");T.setAttribute("type","text/css");T.setAttribute("href",S);if(typeof T!="undefined"){document.getElementsByTagName("head")[0].appendChild(T)}};var B=function(){var U=new psd.framework.Parser(),S=new psd.framework.Mediator(),T=O.genericData.urlBase?(O.genericData.urlBase+w):w;S.corsIE(true);S.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,i,this);S.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,s,this);S.mediate(T,U,psd.framework.Mediator.RESPONSE_TEXT)};var i=function(S){var T;if(S.result.parserResult.code==r){T=S.result.parserResult.result.replace(/{<-%ID%->}/g,O.genericData.id);k.innerHTML=T;Q.apply(this);this.recolocarIE8();this.notifyInitComplete()}else{if(S.result.parserResult.code==l){}}};var s=function(S){};var c=function(S){return document.getElementById(S+O.genericData.id)};var Q=function(){E=c("skin_pep");o=c("player_pep");u=c("playerProgressContainer");t=c("PlayerPlay");e=c("PlayerPause");C=c("cargando");if(getDevice().mobile==true){var T=c("PlayerVolume");if(T){T.style.display="none"}u.style.width="calc(100% - 65px)"}I=t;this.hide(e);J=c("PlayerVolume");P=c("playerVolumenMarca");N=c("divPlayerVolumenMarca");z=c("divPlayerVolumenMarca2");A=c("PlayerProgressBack");G=c("PlayerProgress");q=c("fondo_process_clickable");K=c("time");L=c("PlayerVolumePanel");this.hide(L);K.onclick=(function(V){return function(){m=!m}})(this);R=c("conectar");g=c("conectar_fb");p=c("conectar_tw");M=c("conectar_goo");h=c("conectar_cerrar");F=c("conectar_menu");g.onclick=(function(V){return function(){V.notifyOrderShareFacebook()}})(this);p.onclick=(function(V){return function(){V.notifyOrderShareTwitter()}})(this);M.onclick=(function(V){return function(){V.notifyOrderShareGoogleplus()}})(this);h.onclick=(function(V){return function(){R.style.width="24px";R.style.marginLeft="0px"}})(this);j=c("progress_mark");R.onclick=(function(V){return function(){if(abiertas_rrss){abiertas_rrss=false;R.style.width="24px";R.style.marginLeft="0px"}else{abiertas_rrss=true;R.style.width="100px";R.style.marginLeft="-73px"}}})(this);t.onclick=(function(V){return function(){V.notifyOrderPlay()}})(this);e.onclick=(function(V){return function(){V.notifyOrderPause()}})(this);J.onmouseover=(function(V){return function(){V.show(L);L.style.display="block";L.style.left="auto"}})(this);P.onclick=function(V){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){}else{V.preventDefault()}};N.onmouseover=(function(V){return function(){V.show(L);L.style.display="block"}})(this);L.onmouseover=(function(V){return function(){V.show(L);L.style.display="block"}})(this);L.onmouseout=(function(V){return function(){if(!moviendoVolumen){L.style.display="none"}}})(this);N.onclick=(function(V){return function(W){}})(this);z.onclick=(function(W,V){return function(aa){var Y=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?V:aa.currentTarget;var Z=aa||window.event;parentPosition=W.getPosition(Y);x=Z.clientX-parentPosition.x;y=Z.clientY-parentPosition.y;var X=x/48;if(X>1){X=1}if(X<0){X=0}W.notifyOrderVolumeChange(X)}})(this,z);A.onclick=(function(W,V){return function(Z){if(d==false){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}var X=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?V:Z.currentTarget;var Y=Z||window.event;parentPosition=W.getPosition(X);x=Y.clientX-parentPosition.x;y=Y.clientY-parentPosition.y;var aa=x/A.offsetWidth;W.notifyOrderSeekByProp(aa)}}})(this);q.onclick=(function(W,V){return function(aa){if(d==false){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}var X,ad,ab;var Y=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?V:aa.currentTarget;var Z=aa||window.event;ab=W.getPosition(Y);X=Z.clientX-ab.x;ad=Z.clientY-ab.y;var ac=X/A.offsetWidth;W.notifyOrderSeekByProp(ac)}}})(this);A.onclick=(function(W,V){return function(aa){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9)){return false}if(d==false){var X,ad,ab;var Y=((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<9))?V:aa.currentTarget;var Z=aa||window.event;ab=W.getPosition(Y);X=Z.clientX-ab.x;ad=Z.clientY-ab.y;var ac=X/A.offsetWidth;W.notifyOrderSeekByProp(ac)}}})(this);if(parseInt(document.getElementById(O.internalData.skinContainer).style.offsetWidth)<parseInt(D)){u.style.display="none";o.style.width="auto"}if(O.uiData.skinData.hidePlaypause){t.style.visibility="hidden";e.style.visibility="hidden";e.style.visibility="hidden"}if(O.uiData.skinData.hideSocial){this.hide(R);o.style.width="100%"}this.onPositionChange=function(V){f=V};this.onVolumeChange(O.mediaData.startVolume);var U=(function(V){return function(W){V.notifyOrderVolumeChange(W)}})(this);var S=(function(V){return function(W){V.notifyOrderSeekByProp(W)}})(this);$("#progress_mark"+O.genericData.id).each(function(){var V=$(this).parent().children(".divPlayerProgresoLimites");$(this).draggable({axis:"x",containment:V,start:function(W,X){d=true},stop:function(Y,aa){d=false;var ac=$(this).position();var X=V.position();var ab=V.width()-$(this).width();var Z=ac.left-X.left;var W=100*Z/ab;$(this).parent().children(".divPlayerProgreso").css("width",(ac.left+($(this).width()/2))+"px");S((ac.left+($(this).width()/2))/A.offsetWidth)},drag:function(W,X){if(f!=emic.top.TopPlayer.POSITION_MEDIA){return false}else{}}})});$("#playerVolumenMarca"+O.genericData.id).each(function(){var V=$(this).parent().children(".divPlayerVolumenMarcaHorizontal");$(this).draggable({axis:"x",containment:V,start:function(W,X){moviendoVolumen=true},stop:function(X,Y){moviendoVolumen=false;var W=((parseInt($(this).css("left"))-27)/38);if(W>1){W=1}if(W<0){W=0}U(W)},drag:function(X,Y){var W=((parseInt($(this).css("left"))-27)/38);if(W>1){W=1}if(W<0){W=0}U(W)}})})};this.init=function(S){O=S;k=document.getElementById(O.internalData.skinContainer);H.apply(this);B.apply(this)};this.externalOrder=function(S,T){};this.reset=function(){G.style.width="0%";j.style.left="0px";if(e){this.hide(e)}if(t){this.show(t)}if(K){K.innerHTML=(O.mediaData.isLive)?"DIRECTO":this.secondsAsTimeCode(0,"mm:ss")}if(O.mediaData.isLive){K.className+=" directos_pep"}else{K.className=K.className.replace("directos_pep","")}};this.resize=function(T,S){};this.onProgress=function(S){G.style.width=((S.currentTime/S.totalTime)*100)+"%";if(!d){j.style.left=G.style.width}if(O.mediaData.isLive&&f==emic.top.TopPlayer.POSITION_MEDIA){K.innerHTML="DIRECTO"}else{K.innerHTML=this.secondsAsTimeCode(S.currentTime,"mm:ss")}if(O.mediaData.isLive){K.className+=" directos_pep"}else{K.className=K.className.replace("directos_pep","")}};this.onVolumeChange=function(T){var S;P.style.left=(27+(T*48)-11/2)+"px"};this.onStatusChange=function(S){switch(S){case emic.top.MediaModule.STATUS_STOP:case emic.top.MediaModule.STATUS_PAUSE:case emic.top.AdModule.STATUS_PAUSE:this.hide(e);this.show(t);I=t;break;case emic.top.MediaModule.STATUS_PLAY:f=emic.top.TopPlayer.POSITION_MEDIA;case emic.top.AdModule.STATUS_PLAY:this.hide(t);this.show(e);I=e;e.style.display="block";break}};this.onBufferEmpty=function(){n.apply(this,[true])};this.onBufferFull=function(){n.apply(this,[false])};this.showLoading=function(S){n.apply(this,[S])};var n=function(S){if(S){if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{t.className=t.className.replace("playcontinue","cargando");e.className=e.className.replace("playpause","cargandopause")}}else{if((psd.framework.ua.msie!=null)&&(psd.framework.ua.msie)&&(parseInt(psd.framework.ua.version)<10)){}else{t.className=t.className.replace("cargando","playcontinue");e.className=e.className.replace("cargandopause","playpause")}}};this.onMetadata=function(S){};this.onCue=function(S){};this.onError=function(T,S){};this.onSwitchRequest=function(S){};this.onSwitchComplete=function(S){};this.requestFullScreen=function(){};this.cancelFullScreen=function(){};this.onSeekStart=function(S){};this.onSeekComplete=function(S){}}a.TopSkin_playser_pep=b})(emic.top.ui);