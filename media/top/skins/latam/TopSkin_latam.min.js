(function(b){a.prototype=new emic.top.ui.UISkinBase();function a(){emic.top.ui.UISkinBase.call(this);var ae=this;var ak="order_share_moment",M="order_add_fav",g="order_like",aH="order_dislike";var C,m,au,n,aa,H,x,U,z,aI,D,j,Y,aw,ah,E,J,T,W;var o,y,ap,aC,aD,B,aG,aB;var Z="/psdmedia/media/top/skins/latam/template.html",an="/psdmedia/media/top/skins/latam/css/",d="/psdmedia/media/top/skins/latam/js/",aE=0,aj=1;var t=false;var al=false;var ax=0.7;var e=false;var aF=null;var q=null;var P=null;var ab=null;var Q=null;var N="https://twitter.com/intent/tweet?text=";var I="https://www.facebook.com/sharer/sharer.php?u=";var aq="http://fapi-top.prisasd.com/api/v1/parrilla/";var X="http://fapi-top.prisasd.com/api/v1/search/{EMISORA}/audio/tags?tags=m(tags.type%7CE%2Cislive%7Ctrue)&size=40&orderBy=idref|asc";var ar="PRISA MUSICALES";var V="Latam";var f="";var h="/psdmedia/media/top/skins/latam/img/defaultlogo.png";var c=null;var af={};var ag=false;var aA=ar;var aJ=V;var w=h;var S=f;var G="";var ad="";var ao=null;var p="default.css";var r=true;var u=true;var s=function(){var aL=document.createElement("script"),aM=_data.genericData.urlBase?(_data.genericData.urlBase+d+"jquery.js"):d+"jquery.js";aL.setAttribute("src",aM);aL.setAttribute("type","text/javascript");aL.onload=function(){L.apply(this);if(typeof(jQuery.ui)=="undefined"){R.apply(this)}};if(typeof aL!="undefined"){document.getElementsByTagName("head")[0].appendChild(aL)}};var R=function(){var aN=document.createElement("script"),aL=_data.genericData.urlBase?(_data.genericData.urlBase+d+"jquery-ui.min.js"):d+"jquery-ui.min.js";aN.setAttribute("src",aL);aN.setAttribute("type","text/javascript");aN.onload=function(){ay.apply(this)};if(typeof aN!="undefined"){document.getElementsByTagName("head")[0].appendChild(aN)}var aO=document.createElement("link"),aM=_data.genericData.urlBase?(_data.genericData.urlBase+an+"jquery-ui.min.css"):an+"jquery-ui.min.css";aO.setAttribute("rel","stylesheet");aO.setAttribute("type","text/css");aO.setAttribute("href",aM);if(typeof aO!="undefined"){document.getElementsByTagName("head")[0].appendChild(aO)}};var at=function(){var aM=document.createElement("link"),aL=_data.genericData.urlBase?(_data.genericData.urlBase+an+p):an+p;aM.setAttribute("rel","stylesheet");aM.setAttribute("type","text/css");aM.setAttribute("href",aL);if(typeof aM!="undefined"){document.getElementsByTagName("head")[0].appendChild(aM)}};var ai=function(){var aN=new psd.framework.Parser(),aL=new psd.framework.Mediator(),aM=_data.genericData.urlBase?(_data.genericData.urlBase+Z):Z;aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,l,this);aL.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,O,this);aL.mediate(aM,aN,psd.framework.Mediator.RESPONSE_TEXT)};var l=function(aL){var aM;if(aL.result.parserResult.code==aE){aM=aL.result.parserResult.result.replace(/{<-%ID%->}/g,_data.genericData.id);_container.innerHTML=aM;A.apply(this);this.notifyInitComplete()}else{if(aL.result.parserResult.code==aj){emic.top.debug("TopSkin_latam | Error al cargar el template de LATAM. ParseError.")}}};var O=function(aL){emic.top.debug("TopSkin_latam | Error al cargar el template de LATAM. DataError.")};var F=function(aL){return document.getElementById(_data.genericData.id+aL)};var A=function(){C=document.getElementById("caratula");m=document.getElementById("nombre_cancion");au=document.getElementById("nombre_disco");n=document.getElementById("nombre_artista");aa=document.getElementById("play");H=document.getElementById("mutear");x=document.getElementById("btnMenu");j=document.getElementById("btnEmisora");Y=document.getElementById("btnShare");aw=document.getElementById("boton_compartir_facebook");ah=document.getElementById("boton_compartir_twitter");T=document.getElementById("select_emisora");E=document.getElementById("boton_compartir_facebook_mobile");J=document.getElementById("boton_compartir_twitter_mobile");W=document.getElementById("boton_muestra_rrss_mobile");o=document.getElementById("play_display");y=document.getElementById("preRoll");ap=document.getElementById("mute_display");aC=document.getElementById("volumen_display");aD=document.getElementById("btnEmisora_display");B=document.getElementById("select_emisora_display");aC=document.getElementById("volumen_display");aG=document.getElementById("adcontainer");aB=document.getElementById("adbreakcontainer");if(!u){aw.style.display="none";E.style.display="none"}if(!r){ah.style.display="none";J.style.display="none"}if((!u)&&(!r)){W.style.visibility="hidden"}at.apply(this);C.onerror=function(){C.onerror=null;C.src=w};am.apply(this);ac();if((typeof(jQuery)!="undefined")&&(typeof(jQuery.ui)!="undefined")){ay.apply(this)}};var aK=function(aL){aA=ar;aJ=V;w=h;S=f;q=aA;P=aJ;ab=S;Q=w};var K=function(aL){q=aL.result.parserResult.result.nombre;P="De "+aL.result.parserResult.result.inicio+" a "+aL.result.parserResult.result.fin;ab=aL.result.parserResult.result.presentador;Q=aL.result.parserResult.result.foto;if(q!=""){m.innerHTML=q;aA=q}else{m.innerHTML=ar}if(aL.result.parserResult.result.inicio!=""){au.innerHTML=P;aJ=P}else{au.innerHTML=V}n.innerHTML=ab;S=ab;if(Q!=""){C.src=Q;w=Q}else{C.src=h}if(typeof(jQuery)!="undefined"){L.apply(this)}};var av=function(){var aM=new psd.framework.parser.JSONParser(),aN=new psd.framework.Mediator(),aL=aq+_data.mediaData.id.toLowerCase();aN.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,K,this);aN.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,aK,this);aN.mediate(aL,aM,psd.framework.Mediator.RESPONSE_JSON)};var k=function(aL){var aM=[];var aN=aL.result.parserResult.result.data;for(i in aN){aM[aM.length]={id:aN[i].idref,name:aN[i].name}}if(aM.length<2){j.style.display="none"}T.onchange=(function(aO){return function(){if(T.selectedIndex==0){return}ae.notifyOrderStop();ae.notifyOrderChangeLive(T[T.selectedIndex]["value"]);var aP=ae.getPlayer().getLauncher();aP.reset(undefined,_data.genericData.id_cuenta,T[T.selectedIndex]["value"],{player:{autoplay:true}});aD.className=aD.className.replace("active","");B.style.display="none";w=h;aA=ar;aJ=V;S=f}})(this);for(i in aM){if(aM[i].name!=undefined){T.options[T.options.length]=new Option(aM[i].name,aM[i].id)}}};var az=function(){emic.top.debug("TopSkin_latam | Error al cargar emisoras LATAM para udn "+c);j.style.display="none"};var ac=function(){var aN=new psd.framework.parser.JSONParser(),aM=new psd.framework.Mediator(),aL=X.replace("{EMISORA}",c);aM.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,k,this);aM.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,az,this);aM.mediate(aL,aN,psd.framework.Mediator.RESPONSE_JSON)};var am=function(){av.apply(this);aa.onclick=(function(aL){return function(){if(aa.className.indexOf("loading")>0){return}if(t){if((typeof(_data.mediaData.provider)!="undefined")&&(_data.mediaData.provider=="hls")){aL.notifyOrderPause()}else{aL.notifyOrderStop()}}else{aa.className=aa.className+" loading";aL.notifyOrderPlay()}}})(this);ah.onclick=(function(aL){return function(){if(_data.mediaData.description=="{}"){_data.mediaData.description=" "}var aO="Estoy escuchando "+_data.mediaData.title+" en ";if((ad!="")&&(ad!="default")){aO=ad}if(aO.length>100){aO=aO.substr(0,100)+"..."}var aN=window.location.href;var aM=N;aM+=encodeURIComponent(aO);if(ao!=null){if(ag){ao=af[_data.mediaData.idTOP.toLowerCase()]}aM+="&via="+ao}aM+="&url="+aN;window.open(aM,"_blank")}})(this);J.onclick=(function(aL){return function(){if(_data.mediaData.description=="{}"){_data.mediaData.description=" "}var aO=_data.mediaData.title;if(ad!=""){aO=ad}if(aO.length>100){aO=aO.substr(0,100)+"..."}var aN=window.location.href;var aM=N;aM+=encodeURI(aO);if(ao!=null){aM+="&via="+ao}aM+="&url="+aN;window.open(aM,"_blank")}})(this);aw.onclick=(function(aL){return function(){var aN=window.location.href;var aO="";if(G!=""){aO=G}var aM=I+aN+"&t="+encodeURI(aO);window.open(aM,"_blank")}})(this);E.onclick=(function(aL){return function(){var aN=window.location.href;var aO="";if(G!=""){aO=G}var aM=I+aN+"&t="+encodeURI(aO);window.open(aM,"_blank")}})(this);H.onclick=(function(aL){return function(){if(al){aL.notifyOrderVolumeChangeOnStarted(ax)}else{aL.notifyOrderVolumeChangeOnStarted(0)}}})(this)};this.init=function(aP){_data=aP;_container=document.getElementById(_data.internalData.skinContainer);c=_data.genericData.id_cuenta;if(_data.uiData.skinData.default_title!=undefined){aA=_data.uiData.skinData.default_title;ar=aA}if(_data.uiData.skinData.default_subtitle!=undefined){aJ=_data.uiData.skinData.default_subtitle;V=aJ}if(_data.uiData.skinData.default_subsub!=undefined){S=_data.uiData.skinData.default_subsubtitle;f=S}if(_data.uiData.skinData.default_cover!=undefined){var aN="";if(_data.genericData.urlBase!=undefined){aN=_data.genericData.urlBase}h=aN+w;w=aN+_data.uiData.skinData.default_cover;h=w}if(_data.uiData.skinData.twitter_via!=undefined){ao=_data.uiData.skinData.twitter_via;if(ao.indexOf(";")>0){ag=true;var aL=ao.split(";");for(var aM in aL){var aO=aL[aM].split(":");af[aO[0]]=aO[1]}}}if(_data.uiData.skinData.css!=undefined){p=_data.uiData.skinData.css}if(_data.uiData.skinData.message_share_fb!=undefined){G=_data.uiData.skinData.message_share_fb}if(_data.uiData.skinData.message_share_tw!=undefined){ad=_data.uiData.skinData.message_share_tw}if(typeof(jQuery)=="undefined"){s.apply(this)}else{if(typeof(jQuery.ui)=="undefined"){R.apply(this)}}if(_data.uiData.skinData.show_facebook!=undefined){u=_data.uiData.skinData.show_facebook}if(_data.uiData.skinData.show_twitter!=undefined){r=_data.uiData.skinData.show_twitter}ai.apply(this)};this.reset=function(){if(aa!=undefined){if(_data.mediaData.autoplay==true){aa.className=aa.className.replace(/loading/g,"");aa.className=aa.className+" loading"}}am.apply(this)};this.resize=function(aM,aL){};this.onProgress=function(aM){var aL=(aM.currentTime*100/aM.totalTime)};this.onVolumeChange=function(aM){var aL=aM*100;if(aM==0){ap.className=ap.className.replace("iconf-volume","iconf-mute");al=true}else{ax=aM;al=false;ap.className=ap.className.replace("iconf-mute","iconf-volume")}if(!getDevice().mobile){$("#volume > .slider").slider("value",aL)}};this.onSeekComplete=function(aL){};this.onBufferEmpty=function(){aa.className=aa.className+" loading"};this.onBufferFull=function(){aa.className=aa.className.replace(" loading","")};this.showLoading=function(aL){};this.externalOrder=function(aL,aM){};this.onStatusChange=function(aL){switch(aL){case emic.top.MediaModule.STATUS_STOP:t=false;o.className=o.className.replace("iconf-pause","iconf-play");C.src=w;m.innerHTML=aA;au.innerHTML=aJ;n.innerHTML=S;if(typeof(jQuery)!="undefined"){L.apply(this)}break;case emic.top.MediaModule.STATUS_PAUSE:case emic.top.AdModule.STATUS_PAUSE:t=false;o.className=o.className.replace("iconf-pause","iconf-play");break;case emic.top.MediaModule.STATUS_PLAY:aa.className=aa.className.replace(" loading","");t=true;e=true;o.className=o.className.replace("iconf-play","iconf-pause");break;case emic.top.event.MediaEvent.ON_MEDIA_END:break;case emic.top.AdModule.STATUS_PLAY:break;case emic.top.AdModule.STATUS_STOP:case emic.top.AdModule.PUBLI_SKIPPED:case emic.top.AdModule.PUBLI_ERROR:break}};this.onPositionChange=function(aL){switch(aL){case emic.top.TopPlayer.POSITION_PREVIEW:break;case emic.top.TopPlayer.POSITION_AD_PREROLL:break}};var v=function(aN,aM,aL,aO){if((aN.cuePoint[aM]!=null)&&(aN.cuePoint[aM]!="")&&(aN.cuePoint[aM]!=undefined)){return aN.cuePoint[aM]}else{if((aN.cuePoint.parameters[aL]!=null)&&(aN.cuePoint.parameters[aL]!="")&&(aN.cuePoint.parameters[aL]!=undefined)){return aN.cuePoint.parameters[aL]}else{return aO}}};this.onMetadata=function(aL){C.src=v(aL,"coverURL","cover_url",Q);m.innerHTML=v(aL,"cueTitle","cue_title",q);n.innerHTML=v(aL,"artistName","artist_name",P);au.innerHTML=v(aL,"albumName","album_name",ab);if((aL.parameters!=undefined)&&(aL.parameters.track_artist_url!=undefined)&&(aL.parameters.track_artist_url!="")&&(aL.parameters.track_artist_url!=null)){aF=aL.parameters.track_artist_url}if((aL.cuePoint!=undefined)&&(aL.cuePoint.parameters!=undefined)&&(aL.cuePoint.parameters.track_artist_url!=undefined)&&(aL.cuePoint.parameters.track_artist_url!="")&&(aL.cuePoint.parameters.track_artist_url!=null)){aF=aL.cuePoint.parameters.track_artist_url}if(aF!=null){C.style.cursor="pointer";C.onclick=function(){window.open(aF,"_blank")};n.style.cursor="pointer";n.onclick=function(){window.open(aF,"_blank")}}else{C.style.cursor="";C.onclick=function(){};n.style.cursor="";n.onclick=function(){}}if(typeof(jQuery)!="undefined"){L.apply(this)}};this.onCue=function(aL){};this.onError=function(aM,aL){};this.onSwitchRequest=function(aL){};this.onSwitchComplete=function(aL){};this.requestFullScreen=function(){};this.cancelFullScreen=function(){};this.onSeekStart=function(aL){};this.onSeekComplete=function(aL){};this.notifyOrderVolumeChangeOnStarted=function(aL){if(!e){return}this.notifyOrderVolumeChange(aL)};var ay=function(){$("#overlay").click(function(aL){if(!$(this).children("div").is(aL.target)&&$(this).children("div").has(aL.target).length===0){$("#overlay").removeClass("show");$(this).children("div").removeClass("show")}});$("#overlay .close").click(function(aL){$("#overlay").removeClass("show");$("#overlay").children("div").removeClass("show")});$(".trigger_player").click(function(aL){$(this).toggleClass("active");$(this).next(".oc").toggle(300);aL.stopPropagation()});if(!getDevice().mobile){$("#volume > .slider").slider({range:"min",value:60,slide:function(aL,aM){ae.notifyOrderVolumeChangeOnStarted(aM.value/100)}})}$(this).children(".iconf_player").toggleClass("iconf-volume iconf-mute");if(!getDevice().mobile){if($(this).children(".iconf_player").hasClass("iconf-mute")){$("#volume .slider").slider("value",0)}else{$("#volume .slider").slider("value",100)}}};var L=function(){if(typeof(jQuery)=="undefined"){return}$("#infoSong .media-body p span").each(function(){var aL=$(this);if(aL.width()>aL.parent().width()){aL.addClass("scrolling")}else{aL.removeClass("scrolling")}})}}b.TopSkin_latam=a})(emic.top.ui);
            mm_latam_compilation = "30/11/2016 12:16:29 PM";
        