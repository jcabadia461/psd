(function(a){if(a.psd==undefined){a.psd={}}if(a.psd.fenix==undefined){a.psd.fenix={}}if(a.psd.fenix.controls==undefined){a.psd.fenix.controls={}}if(a.psd.fenix.display==undefined){a.psd.fenix.display={}}if(a.psd.fenix.display.commands==undefined){a.psd.fenix.display.commands={}}if(a.psd.fenix.event==undefined){a.psd.fenix.event={}}if(a.psd.fenix.media==undefined){a.psd.fenix.media={}}if(a.psd.fenix.stage==undefined){a.psd.fenix.stage={}}if(a.psd.fenix.text==undefined){a.psd.fenix.text={}}if(a.psd.fenix.textures==undefined){a.psd.fenix.textures={}}})(window);(function(b){a._nextID=0;a.getKeyId=function(){return a._nextID++};function a(){}b.UID=a})(psd.fenix);(function(a){b.colorToRGB=function(e,i){if(typeof e==="string"&&e[0]==="#"){e=window.parseInt(e.slice(1),16)}i=(i===undefined)?1:i;var h=e>>16&255,f=e>>8&255,c=e&255,d=(i<0)?0:((i>1)?1:i);if(d===1){return"rgb("+h+","+f+","+c+")"}else{return"rgba("+h+","+f+","+c+","+d+")"}};function b(){}a.ColorUtil=b})(psd.fenix);(function(a){b.containsPoint=function(d,c,e){return !(c<d.x||c>d.x+d.width||e<d.y||e>d.y+d.height)};b.intersects=function(d,c){return !(d.x+d.width<c.x||c.x+c.width<d.x||d.y+d.height<c.y||c.y+c.height<d.y)};function b(){}a.MathUtil=b})(psd.fenix);(function(a){function b(c,d){this.x=c|0;this.y=d|0;this.clone=function(){return new b(this.x,this.y)};this.add=function(e){return new b(this.x+e.x,this.y+e.y)};this.degreesTo=function(g){var f=this.x-g.x;var e=this.y-g.y;var h=Math.atan2(e,f);return h*(180/Math.PI)};this.distance=function(f){var e=this.x-f.x;var g=this.y-f.y;return Math.sqrt(e*e+g*g)};this.equals=function(e){return this.x==e.x&&this.y==e.y};this.interpolate=function(g,e){return new b((this.x+g.x)*e,(this.y+g.y)*e)};this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};this.normalize=function(f){var e=this.length();this.x=this.x/e*f;this.y=this.y/e*f};this.orbit=function(f,e,g,i){var h=i*(Math.PI/180);this.x=f.x+e*Math.cos(h);this.y=f.y+g*Math.sin(h)};this.offset=function(f,e){this.x+=f;this.y+=e};this.subtract=function(e){return new b(this.x-e.x,this.y-e.y)};this.toString=function(){return"(x="+this.x+", y="+this.y+")"};b.interpolate=function(h,g,e){return new b((h.x+g.x)*e,(h.y+g.y)*e)};b.polar=function(e,f){return new b(e*Math.sin(f),e*Math.cos(f))};b.distance=function(g,f){var e=g.x-f.x;var h=g.y-f.y;return Math.sqrt(e*e+h*h)}}a.Point=b})(psd.fenix);(function(b){function a(d,e,c){this.x=d|0;this.y=e|0;this.r=c|1;this.clone=function(){return new a(this.x,this.y,this.r)};this.toString=function(){return"(x="+this.x+", y="+this.y+", radius="+this.r+")"}}b.Girth=a})(psd.fenix);(function(b){function a(d,f,e,c){this.x=d||0;this.y=f||0;this.width=e||1;this.height=c||1;this.clone=function(){return new a(this.x,this.y,this.width,this.height)};this.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}b.Rectangle=a})(psd.fenix);(function(b){a.prototype=new psd.framework.Event();a.ABORT="abort";a.BEGIN="begin";a.CAN_PLAY="canplay";a.CAN_PLAY_THROUGH="canplaythrough";a.DURATION_CHANGE="durationchange";a.EMPTIED="emptied";a.ENDED="ended";a.ERROR="error";a.LOADED_DATA="loadeddata";a.LOADED_METADATA="loadedmetadata";a.LOAD_START="loadstart";a.PAUSE="pause";a.PLAY="play";a.PLAYING="playing";a.PROGRESS="progress";a.RATE_CHANGE="ratechange";a.READY_STATE_CHANGE="readystatechange";a.SEEKED="seeked";a.SEEKING="seeking";a.STALLED="stalled";a.SUSPEND="suspend";a.TIME_UPDATE="timeupdate";a.VOLUME_CHANGE="volumechange";a.WAITING="waiting";this.data=null;function a(c,d){psd.framework.Event.call(this,c);this.data=d}b.MediaEvent=a})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CLICK="click";a.MOUSE_DOWN="mouseDown";a.MOUSE_UP="mouseUp";a.MOUSE_MOVE="mouseMove";a.MOUSE_OVER="mouseOver";a.MOUSE_OUT="mouseOut";a.MOUSE_WHEEL="mouseWheel";this.stageX=0;this.stageY=0;this.localX=0;this.localY=0;this.delta=0;function a(g,f,e,d,c){psd.framework.Event.call(this,g);this.stageX=f!=undefined?f:0;this.stageY=e!=undefined?e:0;this.localX=d!=undefined?d:0;this.localY=c!=undefined?c:0}b.MouseEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.CHANGE="change";this.data=null;function b(c,d){psd.framework.Event.call(this,c);this.data=d}a.ProgressEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.INIT="init";a.INIT_ERROR="initError";a.ADDED_TO_STAGE="addedToStage";a.REMOVED_FROM_STAGE="removedFromStage";a.ENTER_FRAME="enterFrame";a.ADDED="added";a.REMOVED="removed";a.RESIZE="resize";a.DISPLAY_STATE_CHANGE="displayStateChange";this.currentTarget=null;function a(c,d){psd.framework.Event.call(this,c);this.currentTarget=d}b.StageEvent=a})(psd.fenix);(function(a){b.prototype=new psd.framework.Event();b.KEY_DOWN="keyDown";b.KEY_UP="keyUp";this.keyCode=0;function b(c,d){psd.framework.Event.call(this,c);this.keyCode=d}a.KeyboardEvent=b})(psd.fenix.event);(function(b){a.prototype=new psd.framework.Event();a.CACHE_FLUSH="cacheFlush";function a(c){psd.framework.Event.call(this,c)}b.CacheEvent=a})(psd.fenix.event);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(d,j,o){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.textures.TextureAtlas";var r=(o==true||o=="true")?true:false;var c=d;var f=false;var q=(function(s){return function(){m.apply(s)}})(this);var m=function(){f=true;if(l){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var n=null;var e=j;var l=false;var p=new psd.framework.Mediator();var g=function(s){if(r){n=s.result.parserResult.result}else{n=JSON.parse(s.result.parserResult.result)}l=true;if(f){this.dispatchEvent(new psd.framework.Event("texture_atlas_ready"))}};var h=function(s){Log.log("onMediateError: "+s)};var i=new psd.framework.Parser();var k=new Image();this.texture=function(){return k};this.getFrames=function(u){var t,s,w,v=[];if(u=="*"){v=n.frames}else{if(Object.prototype.toString.apply(u)!="[object Array]"){u=[u]}for(t in n.frames){w=n.frames[t];for(s in u){if(w.filename.indexOf(u[s])==0){v.push(w)}}}}return v};p.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,g,this);p.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,h,this);p.mediate(e,i,r?psd.framework.Mediator.RESPONSE_JSONP:psd.framework.Mediator.RESPONSE_JSON);k.onload=q;k.crossOrigin="anonymous";k.src=c}a.TextureAtlas=b})(psd.fenix.textures);(function(b){function a(c,f){this.className="psd.fenix.display.commands.BeginFillCommand";var e=c!=undefined?c:0;var d=f!=undefined?f:1;this.exec=function(g){g.closePath();g.fillStyle=psd.fenix.ColorUtil.colorToRGB(e,d);g.beginPath()}}b.BeginFillCommand=a})(psd.fenix.display.commands);(function(b){function a(j,k,d,e,g){this.className="psd.fenix.display.commands.BeginGradientFillCommand";var c=j;var f=(k!=undefined&&(k=="linear"||k=="radial"))?k:"linear";var i=d!=undefined?d:[];var h=e!=undefined?e:[];var l=g!=undefined?g:[];this.exec=function(m){var o=f=="linear"?m.createLinearGradient(0,0,0,c.height()):m.createRadialGradient(0,0,1,1,1,1),n;for(n in i){o.addColorStop(l[n],psd.fenix.ColorUtil.colorToRGB(i[n],h[n]))}m.closePath();m.fillStyle=o;m.beginPath()}}b.BeginGradientFillCommand=a})(psd.fenix.display.commands);(function(b){function a(g,d,c,j){this.className="psd.fenix.display.commands.CurveToCommand";var i=g!=undefined?g:0;var f=d!=undefined?d:0;var h=c!=undefined?c:0;var e=j!=undefined?j:0;this.exec=function(k){k.quadraticCurveTo(i,f,h,e);k.stroke()}}b.CurveToCommand=a})(psd.fenix.display.commands);(function(a){function b(d,h,c){this.className="psd.fenix.display.commands.DrawCircleCommand";var f=d!=undefined?d:0;var e=h!=undefined?h:0;var g=c!=undefined?c:0;this.exec=function(i){i.arc(f,e,g,0,2*Math.PI,false);return new psd.fenix.Rectangle(f-g,e-g,g*2,g*2)}}a.DrawCircleCommand=b})(psd.fenix.display.commands);(function(b){function a(e,j,i,d){this.className="psd.fenix.display.commands.DrawRectCommand";var g=e!=undefined?e:0;var f=j!=undefined?j:0;var c=i!=undefined?i:0;var h=d!=undefined?d:0;this.exec=function(k){k.beginPath();k.fillRect(g,f,c,h);k.closePath();return new psd.fenix.Rectangle(g,f,c,h)}}b.DrawRectCommand=a})(psd.fenix.display.commands);(function(b){function a(l,j,c,n,d,m){this.className="psd.fenix.display.commands.DrawRoundRectCommand";var k=l!=undefined?l:0;var i=j!=undefined?j:0;var f=c!=undefined?c:0;var g=n!=undefined?n:0;var e=d!=undefined?d:0;var h=m!=undefined?m:e;this.exec=function(o){o.beginPath();o.moveTo(k+e,i);o.lineTo(k+f-e,i);o.quadraticCurveTo(k+f,i,k+f,i+h);o.lineTo(k+f,i+g-h);o.quadraticCurveTo(k+f,i+g,k+f-e,i+g);o.lineTo(k+e,i+g);o.quadraticCurveTo(k,i+g,k,i+g-h);o.lineTo(k,i+h);o.quadraticCurveTo(k,i,k+e,i);o.closePath();return new psd.fenix.Rectangle(k,i,f,g)}}b.DrawRoundRectCommand=a})(psd.fenix.display.commands);(function(a){function b(){this.className="psd.fenix.display.commands.EndFillCommand";this.exec=function(c){c.fill()}}a.EndFillCommand=b})(psd.fenix.display.commands);(function(b){function a(m,g,f,e,c,i){this.className="psd.fenix.display.commands.LineStyleCommand";var j=m!=undefined?m:0;var l=g!=undefined?g:0;var k=g!=undefined?f:1;var n=e!=undefined?e:"";var d=c!=undefined?c:"";var h=i!=undefined?i:0;this.exec=function(o){o.lineWidth=j;o.lineCap=n;o.lineJoin=d;o.miterLimit=h;o.strokeStyle=psd.fenix.ColorUtil.colorToRGB(l,k)}}b.LineStyleCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.LineToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.lineTo(e,d);g.stroke()}}b.LineToCommand=a})(psd.fenix.display.commands);(function(b){function a(c,f){this.className="psd.fenix.display.commands.MoveToCommand";var e=c!=undefined?(Math.floor(c)+0.5):0;var d=f!=undefined?(Math.floor(f)+0.5):0;this.exec=function(g){g.closePath();g.beginPath();g.moveTo(e,d)}}b.MoveToCommand=a})(psd.fenix.display.commands);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.Graphics";var d=null;var c=[];this.bounds=function(){return d};this.draw=function(e){var g,f;e.save();e.beginPath();for(g=0;g<c.length;g++){f=c[g].exec(e);if(f!=undefined){if(d==null){d=new psd.fenix.Rectangle(f.x,f.y,f.width,f.height)}else{if(f.x<d.x){d.x=f.x}if(f.y<d.y){d.y=f.y}if((f.width+f.x)>(d.width+d.x)){d.width=f.x-d.x+f.width}if((f.height+f.y)>(d.height+d.y)){d.height=f.y-d.y+f.height}}}}e.closePath();e.restore()};this.beginFill=function(e,f){c.push(new psd.fenix.display.commands.BeginFillCommand(e,f))};this.beginGradientFill=function(i,g,f,e,h){c.push(new psd.fenix.display.commands.BeginGradientFillCommand(i,g,f,e,h))};this.clear=function(){c=[]};this.curveTo=function(g,f,e,h){c.push(new psd.fenix.display.commands.CurveToCommand(g,f,e,h))};this.drawCircle=function(f,g,e){c.push(new psd.fenix.display.commands.DrawCircleCommand(f,g,e))};this.drawRect=function(f,h,g,e){c.push(new psd.fenix.display.commands.DrawRectCommand(f,h,g,e))};this.drawRoundRect=function(f,j,g,e,i,h){c.push(new psd.fenix.display.commands.DrawRoundRectCommand(f,j,g,e,i,h))};this.endFill=function(){c.push(new psd.fenix.display.commands.EndFillCommand())};this.lineStyle=function(h,g,j,i,e,f){c.push(new psd.fenix.display.commands.LineStyleCommand(h,g,j,i,e,f))};this.lineTo=function(e,f){c.push(new psd.fenix.display.commands.LineToCommand(e,f))};this.moveTo=function(e,f){c.push(new psd.fenix.display.commands.MoveToCommand(e,f))}}b.Graphics=a})(psd.fenix.display);(function(b){a.prototype=new psd.framework.EventDispatcher();function a(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.DisplayObject";var p=psd.fenix.UID.getKeyId();var q=false;var m=0;var t=0;var w=0;var h=0;var v=0;var r=0;var d=null;var e=false;var u=function(y){s=y.currentTarget};this.addEventListener(psd.fenix.StageEvent.ADDED,u);var f=function(y){o=y.currentTarget;j=o.context2d()};var x=null;this.graphicsBounds=function(){return x};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,f,this);this._prepareContext=function(y){if(y){y.translate(this.x,this.y);y.rotate(this.rotation);y.scale(l,i);y.globalAlpha=this.globalAlpha();if(this.scrollRect!=null){y.beginPath();y.rect(0,0,this.scrollRect.width,this.scrollRect.height);y.clip();y.translate(-this.scrollRect.x,-this.scrollRect.y)}}};this.name="instance_"+p;this.x=0;this.globalX=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.x}else{return this.parent().globalX()+this.x*this.parent().scaleX()}}};this.y=0;this.globalY=function(){if(this.className=="psd.fenix.Stage"){return 0}else{if(this.parent()==null){return this.y}else{return this.parent().globalY()+this.y*this.parent().scaleY()}}};this.z=0;this.width=function(y){if(y&&y!=t){t=y;q=false}if(!q){this.measure()}return w};this.height=function(y){if(y&&y!=v){v=y;q=false}if(!q){this.measure()}return r};var l=1;this.scaleX=function(y){if(y&&y!=l){l=y;q=false}return l};var i=1;this.scaleY=function(y){if(y&&y!=i){i=y;q=false}return i};this.rotation=0;this.alpha=1;var k=false;this.boundsDetection=function(y){if(y!=undefined){k=y}return k};this.globalAlpha=function(y){if(y&&y!=_alpha){_alpha=y}if(this.className=="psd.fenix.Stage"){return this.alpha}else{if(this.parent()==null){return 1}else{return this.parent().globalAlpha()*this.alpha}}};this.visible=true;this.mouseEnabled=true;this.buttonMode=false;this.useHandCursor=true;this.scrollRect=null;this.cacheAsBitmap=false;var g;this.cache=function(){return g};this.invalidateCache=function(){if(Object.prototype.toString.call(y)==="[object HTMLCanvasElement]"){var y=document.createElement("canvas");g={canvas:y,ctx:y.getContext("2d"),svg:null,data:null,url:null,img:new Image(),caching:false,ready:0,delay:Math.floor(Math.random()*60),DOMURL:self.URL||self.webkitURL||self}}else{g={}}this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH))};var o=null;this.stage=function(){return o};var s=null;this.parent=function(){return s};var j=null;this.context2d=function(){return j};var c=new psd.fenix.display.Graphics();this.graphics=function(){return c};this.validateGraphics=function(){var y=this.graphics().bounds(),z=false;if(y!=null){if(x==null){z=true}else{if((x.x!=y.x)||(x.y!=y.y)||(x.width!=y.width)||(x.height!=y.height)){z=true}}}if(z){x=new psd.fenix.Rectangle(y.x,y.y,y.width,y.height);q=false}};this.invalidateSize=function(y,z){if(y!=null&&y!=undefined){m=y}if(z!=null&&z!=undefined){h=z}q=false;if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateSize()}this.invalidateCache();if(this.parent()!=null&&this.parent().className!="psd.fenix.Stage"){this.parent().invalidateCache()}};this.validateSize=function(y,z){if(!q){if(m!=0){y=m}if(h!=0){z=h}if(y==0){y=t}if(z==0){z=v}if(t!=0&&y!=0){l=t/y}if(v!=0&&z!=0){i=v/z}w=y*l;r=z*i;q=true;this.dispatchEvent(new psd.fenix.event.CacheEvent(psd.fenix.event.CacheEvent.CACHE_FLUSH));this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}};this.measure=function(){this.validateGraphics();if(!q){if(x!=null){this.validateSize(x.width,x.height)}else{this.validateSize(m,h)}}};this.render=function(y){if(y!=null&&this.visible&&this.globalAlpha()>0){y.save();this._prepareContext.apply(this,[y]);this.graphics().draw(y);this.measure();if(this._render){this._render(y)}y.restore()}};this.testHit=function(z,C,A){var B=(z>=this.globalX()&&z<=this.globalX()+this.width()&&C>=this.globalY()&&C<=this.globalY()+this.height());if(B&&!k&&psd!=null&&psd.fenix!=null&&A!=null){A.clearRect(0,0,1,1);A.save();this._prepareContext(A);if(typeof(this._render)!="undefined"){this._render(A,true)}this.render(A,true);if(typeof(A.getImageData)!="undefined"){B=A.getImageData(0,0,1,1).data[3]>1}A.restore()}return B};var n=false;this.isMouseDown=function(y){if(y==true||y==false){n=y}return n};this.invalidateMouseStatus=function(y){this.updateMouseStatus(false,y,true)};this.calculateMouseStatus=function(z){var y=this.visible&&this.testHit(z.x,z.y,z.hitContext);this.updateMouseStatus(y,z,false);return y};this.updateMouseStatus=function(y,z,A){if(this.className!="psd.fenix.Stage"){if(y){if(!e){e=true;if(!A){if(this.buttonMode&&this.useHandCursor){document.body.style.cursor="pointer"}}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,z.x,z.y))}}else{if(e){e=false;if(!A){document.body.style.cursor="auto"}this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,z.x,z.y))}}}};this.calculateMouseDownStatus=function(z){var y=this.visible&&this.testHit(z.x,z.y,z.hitContext);this.updateMouseDownStatus(y,z);return y};this.updateMouseDownStatus=function(y,z){if(z.down){if(y){if(!n){n=true;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,z.x,z.y,z.x-this.globalX(),z.y-this.globalY()))}}}else{if(n){n=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,z.x,z.y,z.x-this.globalX(),z.y-this.globalY()))}}}}else{if(n){n=false;if(this.className!="psd.fenix.Stage"){this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,z.x,z.y,z.x-this.globalX(),z.y-this.globalY()))}}}};this.invalidateCache()}b.DisplayObject=a})(psd.fenix);(function(a){b.prototype=new psd.fenix.DisplayObject();function b(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.DisplayObjectContainer";var d=function(f){var g,h=c.length;for(g=0;g<h;g++){c[g].dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,f.currentTarget))}};this.addEventListener(psd.fenix.StageEvent.ADDED_TO_STAGE,d,this);var c=[];this.displayList=function(){return c};this.numChildren=function(){return c.length};var e=true;this.mouseChildren=function(f){if(f==true||f==false){e=f}return e};this.addChild=function(f){c.push(f);f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){f.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return f};this.removeChild=function(g){var f=this.getChildIndex(g);if(f>=0){c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.REMOVED_FROM_STAGE,this))}}return g};this.addChildAt=function(g,f){c.splice(f,0,g);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.stage()!=null){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this.stage()))}if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}return g};this.removeChildAt=function(f){var g=null;if(f>=0&&f<=c.length){g=c[f];c.splice(f,1);g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED,this));if(this.className=="psd.fenix.Stage"){g.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.ADDED_TO_STAGE,this))}}return g};this.getChildIndex=function(h){var g=0,f=-1;for(g in c){if(c[g]===h){f=g;break}}return f};this.measure=function(){var h,n,g,l=c.length,f=Number.MAX_VALUE,k=-Number.MAX_VALUE,m=Number.MAX_VALUE,j=-Number.MAX_VALUE;if(l){for(h=0;h<l;h++){n=c[h];if(n.x<f){f=n.x}if((n.x+n.width())>k){k=n.x+n.width()}if(n.y<m){m=n.y}if((n.y+n.height())>j){j=n.y+n.height()}}}this.validateGraphics();if(this.graphicsBounds()){if(this.graphicsBounds().x<f){f=this.graphicsBounds().x}if(this.graphicsBounds().y<m){m=this.graphicsBounds().y}if(this.graphicsBounds().width+this.graphicsBounds().x>k){k=this.graphicsBounds().width+this.graphicsBounds().x}if(this.graphicsBounds().height+this.graphicsBounds().y>j){j=this.graphicsBounds().height+this.graphicsBounds().y}}this.validateSize((k-f),(j-m))};this.removeAllChildren=function(){while(this.numChildren()>0){this.removeChildAt(0)}};this.render=function(g){var k,j=this.cache(),f=this.width(),l=this.height();if(g!=null&&this.visible&&this.globalAlpha()>0){g.save();this._prepareContext(g);if(this.cacheAsBitmap&&j.ready>0){j.ready=Math.max(j.ready-1,0);g.drawImage(j.img,0,0)}else{this.graphics().draw(g);if(this._render){this._render(g)}for(k=0;k<c.length;k++){c[k].render(g)}if(this.cacheAsBitmap){if(j.delay>0){j.delay--}else{if(j.ready==0&&!j.caching){f=2*f;l=2*l;j.caching=true;j.canvas.setAttribute("width",f);j.canvas.setAttribute("height",l);j.ctx.clearRect(0,0,f,l);this.graphics().draw(j.ctx);if(this._render){this._render(j.ctx)}for(k=0;k<c.length;k++){c[k].render(j.ctx)}j.url=j.canvas.toDataURL();j.img.onload=function(){j.ready=60*60*5;j.caching=false};j.img.src=j.url}}}}this.measure();g.restore()}};this.invalidateMouseStatus=function(g){var f;for(f in c){c[f].invalidateMouseStatus(g)}b.prototype.invalidateMouseStatus.apply(this,[g])};this.calculateMouseStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseStatus(j);if(h){break}}if(f>0){while(f>0){f--;c[f].invalidateMouseStatus(j)}}g.restore();if(!h){h=b.prototype.calculateMouseStatus.apply(this,[j])}this.updateMouseStatus(h,j,true)}return h};this.calculateMouseDownStatus=function(j){var h=false,g=j.hitContext,f=c.length;if(this.visible){g.save();if(this.className!="psd.fenix.Stage"){this._prepareContext(g)}while(f>0){f--;h=c[f].calculateMouseDownStatus(j);if(h){break}}g.restore();if(!h){h=b.prototype.calculateMouseDownStatus.apply(this,[j])}this.updateMouseDownStatus(h,j)}return h}}a.DisplayObjectContainer=b})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(f,i){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Movieclip";var h=0;var g=true;var e=f;var d=i;this.invalidateSize(d[0].frame.w,d[0].frame.h);this._render=function(s,r){var p=d[h],l=p.frame,n=p.rotated,k=n?l.h:l.w,o=n?l.w:l.h,q=n?this.height():this.width(),m=n?this.width():this.height();if(n){s.translate(0,m/2);s.rotate(-Math.PI/2)}s.drawImage(e,l.x,l.y,k,o,0,0,k,o);if(g&&!r){h++;if(h>=d.length){h=0}}};var j=function(k){var m=h,l;for(l in d){if(d[l].label==k){m=l;break}}return m};var c=function(o){var k={width:0,height:0},m=d[o],l=m.frame,n=m.rotated;k.width=n?l.h:l.w;k.height=n?l.w:l.h;return k};this.gotoAndStop=function(l){var k;this.stop();if(typeof(l)=="number"){h=l}else{if(typeof(l)=="string"){h=j(l)}}k=c.apply(this,[h]);this.invalidateSize(k.width,k.height)};this.gotoAndPlay=function(k){if(typeof(k)=="number"){h=k}else{if(typeof(k)=="string"){h=j(k)}}this.play()};this.play=function(){g=true};this.stop=function(){g=false};this.currentFrame=function(){return h};this.currentLabel=function(){return d[h].label}}b.Movieclip=a})(psd.fenix);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(e){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.display.Video";var f=e;var d=false;var c=f.mediaTag();this._render=function(g){if(d&&c!=null){g.drawImage(c,0,0,this.width(),this.height())}};this.testHit=function(g,h){return(g>=this.x&&g<=this.x+this.width()&&h>=this.y&&h<=this.y+this.height())}}b.Video=a})(psd.fenix.display);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(d){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.Clip";this.viewPort=null;var e=d;var f=false;var c=new Image();c.onload=(function(g){return function(){f=true;g.invalidateSize(c.width,c.height)}})(this);this._render=function(g,h){if(f==true){if(this.viewPort==null){if(this.width()==0&&this.height()==0){g.drawImage(c,0,0)}else{g.drawImage(c,0,0,this.width(),this.height())}}else{g.drawImage(c,this.viewPort.x,this.viewPort.y,this.viewPort.width,this.viewPort.height,this.x,this.y,this.width(),this.height())}}};c.src=e}b.Clip=a})(psd.fenix);(function(b){a.prototype=new psd.framework.EventDispatcher();a.TYPE_VIDEO="video";a.TYPE_AUDIO="audio";function a(f,d,ab){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaElement";var c=d;var T=f;var v=ab;var R=null;var u=null;var C=(function(ag){return function(ah){M.apply(ag,[ah])}})(this);var M=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ABORT))};var H=(function(ag){return function(ah){k.apply(ag,[ah])}})(this);var k=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY))};var U=(function(ag){return function(ah){j.apply(ag,[ah])}})(this);var j=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH))};var n=(function(ag){return function(ah){E.apply(ag,[ah])}})(this);var E=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.DURATION_CHANGE))};var o=(function(ag){return function(ah){V.apply(ag,[ah])}})(this);var V=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.EMPTIED))};var ae=(function(ag){return function(ah){l.apply(ag,[ah])}})(this);var l=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ENDED));R.load()};var J=(function(ag){return function(ah){Q.apply(ag,[ah])}})(this);var Q=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.ERROR))};var X=(function(ag){return function(ah){aa.apply(ag,[ah])}})(this);var aa=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_DATA))};var P=(function(ag){return function(ah){af.apply(ag,[ah])}})(this);var af=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOADED_METADATA))};var Z=(function(ag){return function(ah){N.apply(ag,[ah])}})(this);var N=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.LOAD_START))};var i=(function(ag){return function(ah){q.apply(ag,[ah])}})(this);var q=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var s=(function(ag){return function(ah){S.apply(ag,[ah])}})(this);var S=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var ac=(function(ag){return function(ah){F.apply(ag,[ah])}})(this);var F=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAYING))};var z=(function(ag){return function(ah){w.apply(ag,[ah])}})(this);var w=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PROGRESS))};var I=(function(ag){return function(ah){K.apply(ag,[ah])}})(this);var K=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.RATE_CHANGE))};var r=(function(ag){return function(ah){p.apply(ag,[ah])}})(this);var p=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.READY_STATE_CHANGE))};var x=(function(ag){return function(ah){O.apply(ag,[ah])}})(this);var O=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKED))};var B=(function(ag){return function(ah){h.apply(ag,[ah])}})(this);var h=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SEEKING))};var t=(function(ag){return function(ah){ad.apply(ag,[ah])}})(this);var ad=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.STALLED))};var A=(function(ag){return function(ah){g.apply(ag,[ah])}})(this);var g=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.SUSPEND))};var y=(function(ag){return function(ah){D.apply(ag,[ah])}})(this);var D=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.TIME_UPDATE,R.currentTime))};var W=(function(ag){return function(ah){G.apply(ag,[ah])}})(this);var G=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.VOLUME_CHANGE))};var e=(function(ag){return function(ah){L.apply(ag,[ah])}})(this);var L=function(ag){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.WAITING))};var Y=function(){var ah="[object HTMLVideoElement]",al="[object HTMLAudioElement]",aj="[object Array]",ak=Object.prototype.toString.apply(c),ai,am;R=(ak==ah||ak==al)?c:null;u=ak==aj?c:[c];if(R==null&&(T==a.TYPE_VIDEO||T==a.TYPE_AUDIO)){R=document.createElement(T);if(T=="audio"){R.setAttribute("style","position:absolute;")}else{R.setAttribute("style","position:absolute; background:black;")}R.setAttribute("width",v.width);R.setAttribute("height",v.height);for(ai in u){var ag=document.createElement("source");ag.setAttribute("src",u[ai].src);R.appendChild(ag)}if(typeof(v)!="undefined"&&v!=null){am=v.autoplay;if(typeof(am)!="undefined"&&(am=="true"||am==true)){R.setAttribute("autoplay","autoplay")}am=v.poster;if(typeof(am)!="undefined"&&am!=""){R.setAttribute("poster",am)}}m(psd.fenix.event.MediaEvent.ABORT,C);m(psd.fenix.event.MediaEvent.CAN_PLAY,H);m(psd.fenix.event.MediaEvent.CAN_PLAY_THROUGH,U);m(psd.fenix.event.MediaEvent.DURATION_CHANGE,n);m(psd.fenix.event.MediaEvent.EMPTIED,o);m(psd.fenix.event.MediaEvent.ENDED,ae);m(psd.fenix.event.MediaEvent.ERROR,J);m(psd.fenix.event.MediaEvent.LOADED_DATA,X);m(psd.fenix.event.MediaEvent.LOADED_METADATA,P);m(psd.fenix.event.MediaEvent.LOAD_START,Z);m(psd.fenix.event.MediaEvent.PAUSE,i);m(psd.fenix.event.MediaEvent.PLAY,s);m(psd.fenix.event.MediaEvent.PLAYING,ac);m(psd.fenix.event.MediaEvent.PROGRESS,z);m(psd.fenix.event.MediaEvent.RATE_CHANGE,I);m(psd.fenix.event.MediaEvent.READY_STATE_CHANGE,r);m(psd.fenix.event.MediaEvent.SEEKED,x);m(psd.fenix.event.MediaEvent.SEEKING,B);m(psd.fenix.event.MediaEvent.STALLED,t);m(psd.fenix.event.MediaEvent.SUSPEND,A);m(psd.fenix.event.MediaEvent.TIME_UPDATE,y);m(psd.fenix.event.MediaEvent.VOLUME_CHANGE,W);m(psd.fenix.event.MediaEvent.WAITING,e);psd.fenix.topLevelApplication.insertBefore(R,psd.fenix.topLevelCanvas)}};var m=function(ag,ah){if(R){if(R.addEventListener){R.addEventListener(ag,ah,false)}else{if(R.attachEvent){R.attachEvent(ag,ah)}}}};Y.apply(this);this.currentTime=function(ah){var ag=0;if(R){if(typeof(ah)!="undefined"){R.currentTime=ah}ag=R.currentTime}return ag};this.duration=function(){if(R){return R.duration}else{return 0}};this.autoplay=function(ag){if(R){if(ag==false){R.removeAttribute("autoplay")}else{R.setAttribute("autoplay","autoplay")}}};this.pause=function(){if(R){R.pause()}};this.paused=function(){if(R){return R.paused}else{return false}};this.play=function(){if(R){R.play()}};this.resize=function(ag,aj,ah,ai){if(R){if(ah){R.width=ah}if(ai){R.height=ai}}};this.volume=function(ah){var ag=0;if(R){if(ah>=0&&ah<=1){R.volume=ah}ag=R.volume}return ag}}b.MediaElement=a})(psd.fenix.media);(function(a){b.prototype=new psd.framework.EventDispatcher();function b(){psd.framework.EventDispatcher.call(this);this.className="psd.fenix.media.MediaController";var d=null;var i=false;var h=function(k){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PLAY))};var e=function(k){this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.PAUSE))};var g=function(k){i=false;d.autoplay(false);d.pause();d.currentTime(0);this.dispatchEvent(k)};var f=function(k){if(!i){i=true;this.dispatchEvent(new psd.fenix.event.MediaEvent(psd.fenix.event.MediaEvent.BEGIN))}this.dispatchEvent(k)};var c=function(k){this.dispatchEvent(k)};var j=function(k){this.dispatchEvent(k)};this.attachStream=function(k){d=k;d.addEventListener(psd.fenix.event.MediaEvent.PLAY,h,this);d.addEventListener(psd.fenix.event.MediaEvent.PAUSE,e,this);d.addEventListener(psd.fenix.event.MediaEvent.ENDED,g,this);d.addEventListener(psd.fenix.event.MediaEvent.PLAYING,f,this);d.addEventListener(psd.fenix.event.MediaEvent.TIME_UPDATE,j,this);d.addEventListener(psd.fenix.event.MediaEvent.WAITING,c,this)};this.currentTime=function(){if(d){return d.currentTime()}else{return 0}};this.currentTimeAsTimeCode=function(k){return this.secondsAsTimeCode(this.currentTime(),k)};this.duration=function(){if(d){return d.duration()}else{return 0}};this.durationAsTimeCode=function(k){return this.secondsAsTimeCode(this.duration(),k)};this.play=function(){if(d){d.play()}};this.pause=function(){if(d){d.pause()}};this.paused=function(){if(d){return d.paused()}else{return false}};this.secondsAsTimeCode=function(o,n){var l=Math.floor(o/3600),m=Math.floor((o-(l*3600))/60),p=Math.floor(o-(l*3600)-(m*60)),k="";if(l<10){l="0"+l}if(m<10){m="0"+m}if(p<10){p="0"+p}if(n==null){k=l+":"+m+":"+p}else{k=n.replace("hh",l);k=k.replace("mm",m);k=k.replace("ss",p)}return k};this.seek=function(k){if(k>0&&k<1){k=k*d.duration()}d.currentTime(k)};this.volume=function(k){if(d){return d.volume(k)}else{return 0}}}a.MediaController=b})(psd.fenix.media);(function(b){function a(){this.className="psd.fenix.text.TextFormat";this.bold=false;this.color=0;this.font="Verdana, Geneva, sans-serif";this.italic=false;this.size=16;this.toCanvasString=function(){var c="";if(this.bold){c+="bold "}if(this.italic){c+="italic "}c+=this.size+"px ";c+=this.font+" ";return c};this.toCSSString=function(){var c=this.color.toString(16);if(c.indexOf("0x")==0){c=c.substr(2)}var d="";d+="font-family:"+this.font+";";d+="font-size:"+this.size+"px;";d+="font-style:"+(this.italic?"italic;":"normal;");d+="font-weight:"+(this.bold?"bold;":"normal;");d+="color:#"+c+";";return d}}b.TextFormat=a})(psd.fenix.text);(function(a){a.TextFieldAutoSize={};a.TextFieldAutoSize.CENTER="center";a.TextFieldAutoSize.LEFT="left";a.TextFieldAutoSize.NONE="none";a.TextFieldAutoSize.RIGHT="right"})(psd.fenix.text);(function(b){a.prototype=new psd.fenix.DisplayObject();function a(){psd.fenix.DisplayObject.call(this);this.className="psd.fenix.text.TextField";var i;var m="<svg xmlns='http://www.w3.org/2000/svg' width='{WIDTH}px' height='{HEIGHT}px'><foreignObject width='100%' height='100%'><div xmlns='http://www.w3.org/1999/xhtml'><span style='{STYLE}'>{TEXT}</span></div></foreignObject></svg>";var n=new psd.fenix.text.TextFormat();this._render=function(p){var o=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){o=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){o=-this.width()}p.beginPath();p.rect(o,0,this.width(),this.height());p.lineWidth=1;p.strokeStyle=psd.fenix.ColorUtil.colorToRGB(g,1);p.fillStyle=psd.fenix.ColorUtil.colorToRGB(h,1);if(c){p.fill()}if(l){p.stroke()}p.beginPath();p.rect(o,0,this.width()+35,this.height());p.clip();p.closePath();if(!d){p.textAlign=f;p.textBaseline="top";p.font=n.toCanvasString();p.fillStyle=psd.fenix.ColorUtil.colorToRGB(n.color,1);p.fillText(j,0,0)}else{if(i.svg==null||i.img==null){i.img=new Image();i.data=m.replace("{TEXT}",j).replace("{WIDTH}",this.width()).replace("{HEIGHT}",this.height()).replace("{STYLE}",n.toCSSString());i.svg=new Blob([i.data],{type:"image/svg+xml;charset=utf-8"});i.url=i.DOMURL.createObjectURL(i.svg);i.img.onload=function(){i.DOMURL.revokeObjectURL(i.url);i.ready=true};i.img.src=i.url}else{if(i.ready){p.drawImage(i.img,0,0)}}}};var e=function(){var o=document.getElementsByTagName("body")[0],q=document.createElement("span"),r=document.createTextNode(j),p=n.toCSSString();q.appendChild(r);q.setAttribute("style",p);if(d){q.setAttribute("style",p+"display:block;width:"+this.width()+"px;")}o.appendChild(q);if(f!=psd.fenix.text.TextFieldAutoSize.NONE){if(!d){this.invalidateSize(q.offsetWidth,q.offsetHeight)}else{this.invalidateSize(this.width(),q.offsetHeight)}}o.removeChild(q)};var k=function(){i={svg:null,data:null,url:null,img:null,ready:false,DOMURL:self.URL||self.webkitURL||self}};var f=psd.fenix.text.TextFieldAutoSize.LEFT;this.autoSize=function(o){if(o==psd.fenix.text.TextFieldAutoSize.NONE||o==psd.fenix.text.TextFieldAutoSize.LEFT||o==psd.fenix.text.TextFieldAutoSize.RIGHT||o==psd.fenix.text.TextFieldAutoSize.CENTER){f=o}return f};var c=false;this.background=function(o){if(o==true||o==false){c=o}return c};var h=16777215;this.backgroundColor=function(o){if(o!=undefined&&o!=null){h=o}return h};var l=false;this.border=function(o){if(o==true||o==false){l=o}return l};var g=0;this.borderColor=function(o){if(o!=undefined&&o!=null){g=o}return g};this.getTextFormat=function(){var o,p={};for(o in n){p[o]=n[o]}return p};var d=false;this.multiline=function(o){if(o!=undefined&&o!=null){d=o}return d};this.setTextFormat=function(o){if(typeof(o.className)!="undefined"&&o.className=="psd.fenix.text.TextFormat"){n=o;if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}}};var j="";this.text=function(o){if(o!=undefined&&o!=null){j=o}if(f!=psd.fenix.text.TextFieldAutoSize.NONE){e.apply(this)}k();return j};this.testHit=function(p,q){var o=0;if(f==psd.fenix.text.TextFieldAutoSize.CENTER){o=-this.width()/2}if(f==psd.fenix.text.TextFieldAutoSize.RIGHT){o=-this.width()}return(p>=(o+this.globalX())&&p<=(o+this.globalX()+this.width())&&q>=this.globalY()&&q<=(this.globalY()+this.height()))};this.addEventListener(psd.fenix.event.CacheEvent.CACHE_FLUSH,k,this);k()}b.TextField=a})(psd.fenix.text);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();function b(l,u,f,v,e,s){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.ProgressBarInterface";var d=false;var t=l;var y=u;var p=f;var x=e;var j=v;var g=null;var r=null;var c=s;var q=false;var w=0;var n=function(){p.buttonMode=true;p.useHandCursor=true;x.buttonMode=true;x.useHandCursor=true;j.buttonMode=true;j.useHandCursor=true;j.width(0);this.addChild(t);this.addChild(x);this.addChild(p);this.addChild(y);this.addChild(j);if(c!=null){c.x=w*p.width();c.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,h,this);this.addChild(c)}x.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,k,this);p.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,k,this);j.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,k,this);d=true};var k=function(z){w=z.localX/p.width();this.setProgress(w);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,w))};var h=function(z){q=true;this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,o,this);this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_UP,m,this)};var o=function(A){var z=A.stageX-this.globalX();if(z<0){z=0}if(z>p.width()){z=p.width()}c.x=z-c.width()/2;if(i){w=z;j.width(z);this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,z/p.width()))}};var m=function(A){var z=A.stageX-this.globalX();if(z<0){z=0}if(z>p.width()){z=p.width()}w=z;q=false;c.x=z-c.width()/2;this.setProgress(z/p.width());this.dispatchEvent(new psd.fenix.event.ProgressEvent(psd.fenix.event.ProgressEvent.CHANGE,z/p.width()));this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,o,this);this.stage().removeEventListener(psd.fenix.MouseEvent.MOUSE_UP,m,this)};if(l&&u&&f&&v&&e){n.apply(this)}var i=false;this.liveUpdate=function(z){if(z!=undefined){i=z}return i};this.resize=function(A,z){if(d){t.x=0;y.x=A-y.width();p.x=t.x+t.width();p.width(y.x-p.x);j.x=p.x;j.width(p.width()*w);if(g!=null){t.height(g);y.height(g);p.height(g);j.height(g)}if(r!=null){x.height(r);x.width(p.width());x.x=p.x;x.y=(p.height()-x.height())/2}if(c!=null){c.x=c.x=p.width()*w-c.width()/2;c.y=(p.height()-c.height())/2;if(c.x-c.width/2<0){c.x=s.width/2}}}};this.slider=function(z){if(c!=null){this.removeChild(c)}c=z;c.x=w*p.width()-c.width()/2;c.addEventListener(psd.fenix.MouseEvent.MOUSE_DOWN,h,this);this.addChild(c)};this.setProgress=function(A){w=A;if(d){var z=p.width()*A==0?1:p.width()*A;if(!i||!q){j.width(z)}if(c!=null&&!q){c.x=z-c.width()/2}}};this.currentProgress=function(){return w};this.barHeight=function(z){g=z};this.zoneHeight=function(z){r=z}}a.ProgressBarInterface=b})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.controls.ProgressBarInterface;function a(i,g,k,m,l,d){var h,j,c,f,e;this.className="psd.fenix.controls.ProgressBarInterface";h=new psd.fenix.Movieclip(i,g);h.gotoAndStop(0);j=new psd.fenix.Movieclip(i,k);j.gotoAndStop(0);c=new psd.fenix.Movieclip(i,m);c.buttonMode=true;c.useHandCursor=true;c.gotoAndStop(0);f=new psd.fenix.Movieclip(i,g);f.buttonMode=true;f.useHandCursor=true;f.alpha=1;f.gotoAndStop(0);e=new psd.fenix.Movieclip(i,l);e.buttonMode=true;e.useHandCursor=true;e.gotoAndStop(0);e.width(0);psd.fenix.controls.ProgressBarInterface.call(this,h,j,c,e,f,d)}b.ProgressBar=a})(psd.fenix.controls);(function(b){a.prototype=new psd.fenix.DisplayObjectContainer();function a(j){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.controls.VideoPlayback";var i=j;var g=null;var c=null;var f=null;var d=null;var e=false;var h=function(){g=new psd.fenix.media.VideoElement(i);c=new psd.fenix.display.Video(g);f=new psd.fenix.media.MediaController();f.attachStream(g);d=new psd.fenix.controls.MediaControlBar(f);this.addChild(c);this.addChild(d);e=true};this.resize=function(m,k){var l=m-40;if(e){g.width(m);g.height(k);d.x=20;d.y=k-50;d.resize(l,k)}};h.apply(this)}b.VideoPlayback=a})(psd.fenix.controls);(function(a){a.StageDisplayState={};a.StageDisplayState.NORMAL="normal";a.StageDisplayState.FULL_SCREEN="fullscreen"})(psd.fenix.stage);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();b.FPS=60;function b(k,ab){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.fenix.Stage";var V=k;var x=null;var Z=V+"_fenix";var l=null;var n;var P=V+"_hits";var y=null;var C=null;var J=0;var B=0;var L=true;var D=false;var c=false;var R=true;var I=null;var m=null;var w=null;var i=false;var u={autosize:true};if(ab!=undefined&&ab!=null){u.autosize=ab.autosize!=null&&ab.autosize!=undefined?ab.autosize:true;u.width=ab.width!=null&&ab.width!=undefined?ab.width:400;u.height=ab.height!=null&&ab.height!=undefined?ab.height:300;u.hitCanvas=ab.hitCanvas!=null&&ab.hitCanvas!=undefined?ab.hitCanvas:false}var E=(function(ae){return function(){X.apply(ae)}})(this);var X=function(){y=document.getElementById(V);if(y==null){this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT_ERROR));return}C=document.createElement("div");C.setAttribute("style","position:relative; width:100%; height:100%;");y.appendChild(C);m=C.requestFullScreen||C.mozRequestFullScreen||C.webkitRequestFullScreen||function(){};w=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||function(){};if(document.addEventListener){document.addEventListener("fullscreenchange",Y,false);document.addEventListener("mozfullscreenchange",Y,false);document.addEventListener("webkitfullscreenchange",Y,false);document.addEventListener("keydown",o,false)}else{if(document.attachEvent){document.attachEvent("onfullscreenchange",Y);document.attachEvent("onmozfullscreenchange",Y);document.attachEvent("onwebkitfullscreenchange",Y);document.attachEvent("onkeydown",o)}}if(u.autosize==true){G=J=y.clientWidth==undefined||y.clientWidth==0?448:y.clientWidth;K=B=y.clientHeight==undefined||y.clientHeight==0?365:y.clientHeight}else{G=u.width;K=u.height}x=document.createElement("canvas");x.setAttribute("style","position:absolute;");x.id=Z;x.width=G;x.height=K;C.appendChild(x);l=document.createElement("canvas");l.id=P;l.width=l.height=1;if(u.hitCanvas){var ae=document.getElementById(u.hitCanvas);if(ae!=null){l.width=ae.clientWidth;l.height=ae.clientHeight;ae.appendChild(l)}}if(Object.prototype.toString.call(x)==="[object HTMLCanvasElement]"){Log.log("Initializing fenix in standard mode...");n=x.getContext("2d");Q=l.getContext("2d");n.fillStyle=q;psd.fenix.topLevelApplication=C;psd.fenix.topLevelCanvas=x;this.start();this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}else{Log.log("Initializing fenix in compatibility mode...");requestAnimationFrame=null;G_vmlCanvasManager.initElement(x);G_vmlCanvasManager.initElement(l);n=x.getContext("2d");Q=l.getContext("2d");n.fillStyle=q;psd.fenix.topLevelApplication=C;psd.fenix.topLevelCanvas=x;this.changeFrameRate(10);this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.INIT))}};var Y=(function(ae){return function(){S.apply(ae)}})(this);var S=function(){if(document.mozFullScreenElement||document.webkitFullscreenElement){T=psd.fenix.stage.StageDisplayState.FULL_SCREEN}else{T=psd.fenix.stage.StageDisplayState.NORMAL}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.DISPLAY_STATE_CHANGE))};var o=(function(ae){return function(af){aa.apply(ae,[af])}})(this);var aa=function(ae){var af=0;if(ae==null){af=window.event.keyCode}else{af=ae.keyCode}this.dispatchEvent(new psd.fenix.event.KeyboardEvent(psd.fenix.event.KeyboardEvent.KEY_DOWN,af))};var N=(function(ae){return function(){f.apply(ae)}})(this);var f=function(){if(T==psd.fenix.stage.StageDisplayState.NORMAL){if((y.clientWidth!=J||y.clientHeight!=B)&&!psd.framework.ua.msie){J=y.clientWidth;B=y.clientHeight;if(u.autosize){x.width=G=J;x.height=K=B}else{x.width=G=u.width;x.height=K=u.height}this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}else{if(window.innerWidth!=J||window.innerHeight!=B){J=window.innerWidth;B=window.innerHeight;x.width=G=J;x.height=K=B;this.dispatchEvent(new psd.fenix.StageEvent(psd.fenix.StageEvent.RESIZE))}}if(L){O();this.render(n)}if(c&&R){R=false;h.apply(this,[this.calculateMouseStatus])}if(requestAnimationFrame!=undefined&&!i){requestAnimationFrame(N)}};var O=function(){n.clearRect(0,0,G,K);n.fillStyle=q;n.fillRect(0,0,G,K)};var p=(function(ae){return function(){e.apply(ae)}})(this);var e=function(){if(!D){D=true;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_DOWN,ad,ac))}};var v=(function(ae){return function(){M.apply(ae)}})(this);var M=function(){if(D){D=false;h.apply(this,[this.calculateMouseDownStatus]);this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_UP,ad,ac))}};var h=function(ae){Q.clearRect(0,0,1,1);Q.save();Q.translate(-ad,-ac);ae.apply(this,[{x:ad,y:ac,down:D,hitContext:Q}]);Q.restore()};var A=(function(ae){return function(af){j.apply(ae,[af])}})(this);var j=function(ae){var af=r(x,ae);if(ae.offsetX){ad=ae.offsetX;ac=ae.offsetY}else{ad=af.x;ac=af.y}R=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_MOVE,ad,ac))};var U=(function(ae){return function(af){H.apply(ae,[af])}})(this);var H=function(ae){var af=r(x,ae);if(ae.offsetX){ad=ae.offsetX;ac=ae.offsetY}else{ad=af.x;ac=af.y}c=true;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OVER,ad,ac))};var W=(function(ae){return function(){F.apply(ae)}})(this);var F=function(){ad=-5;ac=-5;h.apply(this,[this.calculateMouseStatus]);c=false;this.dispatchEvent(new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_OUT,ad,ac))};var g=(function(ae){return function(af){t.apply(ae,[af])}})(this);var t=function(ae){var af=new psd.fenix.MouseEvent(psd.fenix.MouseEvent.MOUSE_WHEEL,ad,ac);af.delta=ae.wheelDelta||ae.detail||0;this.dispatchEvent(af)};function r(ag,ae){var ak=ag;var aj=0;var ai=0;while(ak&&ak.tagName!="BODY"){aj+=ak.offsetTop;ai+=ak.offsetLeft;ak=ak.offsetParent}var ah=ae.clientX-ai+window.pageXOffset;var af=ae.clientY-aj+window.pageYOffset;return{x:ah,y:af}}var d=function(){if(x.addEventListener){x.addEventListener("mousemove",A,false);x.addEventListener("mouseover",U,false);x.addEventListener("mouseout",W,false);x.addEventListener("mousedown",p,false);x.addEventListener("mouseup",v,false);x.addEventListener("DOMMouseScroll",g,false);x.addEventListener("mosuewheel",g,false)}else{if(x.attachEvent){x.attachEvent("onmousemove",A);x.attachEvent("onmouseover",U);x.attachEvent("onmouseout",W);x.attachEvent("onmousedown",p);x.attachEvent("onmouseup",v);x.attachEvent("DOMMouseScroll",g);x.attachEvent("mousewheel",g)}}};var s=function(){if(x.removeEventListener){x.removeEventListener("mousemove",A,false);x.removeEventListener("mouseover",U,false);x.removeEventListener("mouseout",W,false);x.removeEventListener("mousedown",p,false);x.removeEventListener("mouseup",v,false);x.removeEventListener("DOMMouseScroll",g,false);x.removeEventListener("mousewheel",g,false)}else{if(x.attachEvent){x.detachEvent("onmousemove",A);x.detachEvent("onmouseover",U);x.detachEvent("onmouseout",W);x.detachEvent("onmousedown",p);x.detachEvent("onmouseup",v);x.detachEvent("DOMMouseScroll",g);x.detachEvent("mousewheel",g)}}};var G=0;this.stageWidth=function(){return G};var K=0;this.stageHeight=function(){return K};var z=ab&&!isNaN(ab.fps)?ab.fps:60;this.frameRate=function(){return z};var ad=-5;this.mouseX=function(){return ad};var ac=-5;this.mouseY=function(){return ac};var Q=null;this.hitContext=function(){return Q};var T=psd.fenix.stage.StageDisplayState.NORMAL;this.displayState=function(af){var ag=psd.fenix.stage.StageDisplayState.NORMAL,ae=psd.fenix.stage.StageDisplayState.FULL_SCREEN;if(af==ae&&m!=undefined){m.apply(C)}if(af==ag&&w!=undefined){w.apply(document)}return T};var q="rgba(255,255,255,0)";this.backgroundColor=function(ae){if(ae){q=ae;if(typeof(n)!="undefined"){n.fillStyle=q}}return q};this.init=function(){if(document.readyState==="complete"||document.readyState==="loaded"){X.apply(this)}else{if(window.addEventListener){window.addEventListener("load",E,false)}else{if(window.attachEvent){window.attachEvent("onload",E)}}}};this.start=function(){d();var ae=navigator.userAgent;i=(ae.indexOf("iPhone")!=-1)&&(ae.indexOf("Version/6.0")!=-1);var af=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=af;if(af!=undefined&&!i){af(N)}else{I=setInterval(N,(1000/z))}};this.pause=function(){s();if(I!=null){clearInterval(I)}};this.changeFrameRate=function(ae){z=ae;if(I!=null){clearInterval(I)}I=setInterval(N,1000/z)};this.freeze=function(ae){if(ae==true||ae==false){L=!ae}}}a.Stage=b})(psd.fenix);(function(b){a.SIZE_BIG="sizeBig";a.SIZE_MEDIUM="sizeMedium";a.SIZE_SMALL="sizeSmall";a.TYPE_PLAY="typePlay";a.TYPE_PAUSE="typePause";a.TYPE_RESET="typeReset";a.TYPE_NEXT="typeNext";a.TYPE_VOL_FULL="typeVolFull";a.TYPE_VOL_MEDIUM="typeVolMed";a.TYPE_VOL_MUTE="typeVolMute";a.TYPE_FULLSCREEN_ON="typeFSOn";a.TYPE_FULLSCREEN_OFF="typeFSOff";function a(d){var h=d;var e=70;var g=42;var c=20;this.sizeBig=function(){return e};this.sizeMedium=function(){return g};this.sizeSmall=function(){return c};var f=function(){};this.getButton=function(n,q,j,i){var o,l,m,p,k;switch(q){case a.SIZE_BIG:o=e;break;case a.SIZE_MEDIUM:o=g;break;case a.SIZE_SMALL:o=c;break}k=new psd.fenix.DisplayObjectContainer();k.graphics().beginFill(i,j);k.graphics().drawRoundRect(0,0,o,o,o*0.1);k.graphics().endFill();console.log("+++type: "+n);switch(n){case a.TYPE_PLAY:l=h.getFrames("Button_play");break;case a.TYPE_PAUSE:l=h.getFrames("Button_pause");break;case a.TYPE_RESET:l=h.getFrames("Button_reset");break;case a.TYPE_NEXT:l=h.getFrames("Button_next");break;case a.TYPE_FULLSCREEN_ON:l=h.getFrames("Button_fson");break;case a.TYPE_FULLSCREEN_OFF:l=h.getFrames("Button_fsoff");break;case a.TYPE_VOL_FULL:l=h.getFrames("Button_vol100");break;case a.TYPE_VOL_MEDIUM:l=h.getFrames("Button_vol50");break;case a.TYPE_VOL_MUTE:l=h.getFrames("Button_vol0");break}m=h.texture();p=new psd.fenix.Movieclip(m,l);p.width(o);p.height(o);k.addChild(p);return k};f.apply(this)}b.Buttons=a})(top.ui.skins.fenix);(function(a){b.prototype=new psd.fenix.DisplayObjectContainer();function b(q){psd.fenix.DisplayObjectContainer.call(this);this.className="psd.media.skins.TopSkin_generic_f";b.PROFILE_NORMAL="normal";b.PROFILE_MINI="mini";b.PROFILE_MOBILE="mobile";b.MODE_AUDIO_PROFILE="audio";b.MODE_VIDEO_PROFILE="video";var k=2000;var e=640;var g=true;var s={normal:{minSizeTextVisible:300,minSizeBarVisible:250},mini:{minSizeTextVisible:200,minSizeBarVisible:150}};var Q=q;var n=Q.genericData.urlBase;var t=uiData.skinData;var G="";var L=null;var w=false;var T=null;var B=((t.profile==b.PROFILE_NORMAL)||(t.profile==b.PROFILE_MINI)||(t.profile==b.PROFILE_MOBILE))?t.profile:b.PROFILE_NORMAL;var u=((t.mode==b.MODE_AUDIO_PROFILE)||(t.mode==b.MODE_VIDEO_PROFILE))?t.mode:b.MODE_VIDEO_PROFILE;var N=null;var P=null;var l=this;var j=false;var o=10;var v="#333333";var x=(t.color)?t.color:"#999999";var K=0.85;var r=1;var D="#0";var y=psd.media.skins.Buttons;var C=null;var S={};S.play=null;S.pause=null;S.begin=null;S.reset=null;S.next=null;S.fson=null;S.fsoff=null;S.vol0=null;S.vol50=null;S.vol100=null;S.fs=null;S.vol=null;S.playpause=null;var R=null;var i=null;var f=null;var I=null;var z=null;var F=null;var E=null;var J=false;var m=-1;var h=-1;var O=function(){L=new psd.fenix.textures.TextureAtlas(n+"/psdmedia/media/top/skins/fenix/generic_f/player.atlas.png",n+"/psdmedia/media/top/skins/fenix/generic_f/player.atlas.json",false);L.addEventListener("texture_atlas_ready",p,this)};var p=function(){var am,Y,ai,V,aj,U,ab,aa,ac,al,Z,ah,X,W,ad,ag,af,ak,ae;if(u==b.MODE_VIDEO_PROFILE){if((B==b.PROFILE_NORMAL)||(B==b.PROFILE_MOBILE)){ab=y.SIZE_BIG;aa=y.SIZE_MEDIUM;ac=y.SIZE_BIG}else{if(B==b.PROFILE_MINI){ab=aa=y.SIZE_SMALL;ac=y.SIZE_MEDIUM}}}else{if(u==b.MODE_AUDIO_PROFILE){if((B==b.PROFILE_NORMAL)||(B==b.PROFILE_MOBILE)){ac=ab=aa=y.SIZE_MEDIUM}else{if(B==b.PROFILE_MINI){ab=aa=y.SIZE_SMALL;ac=y.SIZE_MEDIUM}}}}C=new y(L);S.play=C.getButton(y.TYPE_PLAY,ab,K,D);S.pause=C.getButton(y.TYPE_PAUSE,ab,r,x);S.begin=new psd.fenix.DisplayObjectContainer();ak=C.getButton(y.TYPE_PLAY,ac,r,x);S.begin.addChild(ak);S.reset=new psd.fenix.DisplayObjectContainer();ak=C.getButton(y.TYPE_RESET,aa,K,D);S.reset.addChild(ak);S.next=new psd.fenix.DisplayObjectContainer();ak=C.getButton(y.TYPE_NEXT,aa,K,D);S.next.addChild(ak);S.fson=C.getButton(y.TYPE_FULLSCREEN_ON,aa,K,D);S.fsoff=C.getButton(y.TYPE_FULLSCREEN_OFF,aa,r,x);z=new psd.fenix.DisplayObjectContainer();if(t.volume){S.vol0=C.getButton(y.TYPE_VOL_MUTE,aa,r,x);S.vol0.name="vol0";S.vol50=C.getButton(y.TYPE_VOL_MEDIUM,aa,K,D);S.vol50.name="vol50";S.vol100=C.getButton(y.TYPE_VOL_FULL,aa,K,D);S.vol100.name="vol100";S.vol=new psd.fenix.DisplayObjectContainer();S.vol.setProgress=function(an){if(an==0){S.vol0.visible=true;S.vol50.visible=false;S.vol100.visible=false}else{if(an<=0.5){S.vol0.visible=false;S.vol50.visible=true;S.vol100.visible=false}else{S.vol0.visible=false;S.vol50.visible=false;S.vol100.visible=true}}};S.vol.addChild(S.vol0);S.vol.addChild(S.vol50);S.vol.addChild(S.vol100);S.vol0.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);S.vol50.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);S.vol100.addEventListener(psd.fenix.MouseEvent.MOUSE_UP,A);S.vol0.visible=false;S.vol100.visible=false;z.addChild(S.vol)}if(t.fullscreen){S.fs=new psd.fenix.DisplayObjectContainer();S.fs.addChild(S.fson);S.fs.addChild(S.fsoff);S.fsoff.visible=false;if(u==b.MODE_AUDIO_PROFILE){S.fson.visible=false}z.addChild(S.fs)}S.playpause=new psd.fenix.DisplayObjectContainer();S.playpause.addChild(S.play);S.playpause.addChild(S.pause);S.pause.visible=false;E=new psd.fenix.DisplayObjectContainer();E.visible=!(B==b.PROFILE_MINI);z.addChild(E);z.addChild(S.playpause);z.addChild(S.reset);if(t.navigator){z.addChild(S.next)}W=L.texture();al=C.sizeSmall();Z=C.sizeSmall()*0.1;Y=new psd.fenix.DisplayObjectContainer();Y._render=function(an){an.closePath();an.fillStyle=psd.fenix.ColorUtil.colorToRGB(x,1);an.beginPath();an.moveTo(Z,0);an.lineTo(Z,al);an.quadraticCurveTo(0,al,0,al-Z);an.lineTo(0,Z);an.quadraticCurveTo(0,0,Z,0);an.closePath();an.fill()};Y.invalidateSize(Z,al);ai=new psd.fenix.DisplayObjectContainer();ai._render=function(an){an.closePath();an.fillStyle=psd.fenix.ColorUtil.colorToRGB(v,1);an.beginPath();an.moveTo(0,0);an.quadraticCurveTo(Z,0,Z,Z);an.lineTo(Z,al-Z);an.quadraticCurveTo(Z,al,0,al);an.lineTo(0,al);an.lineTo(0,0);an.closePath();an.fill()};ai.invalidateSize(Z,al);V=new psd.fenix.DisplayObjectContainer();V.graphics().beginFill(v,1);V.graphics().drawRect(0,0,1,al);V.graphics().endFill();aj=new psd.fenix.DisplayObjectContainer();aj.graphics().beginFill(x,1);aj.graphics().drawRect(0,0,1,al);aj.graphics().endFill();U=new psd.fenix.DisplayObjectContainer();U.graphics().beginFill(v,1);U.graphics().drawRect(0,0,1,al);U.graphics().endFill();I=new psd.fenix.controls.ProgressBarInterface(Y,ai,V,aj,U);I.zoneHeight(al);z.addChild(I);F=new psd.fenix.DisplayObjectContainer();F.visible=!(B==b.PROFILE_MINI);am=new psd.fenix.text.TextFormat();am.color=16777215;am.size=14;am.bold=true;am.font="Helvetica";ae=new psd.fenix.text.TextFormat();ae.color=16777215;ae.size=12;ae.bold=true;ae.font="Helvetica";R=new psd.fenix.text.TextField();R.setTextFormat(am);R.text("00:00");i=new psd.fenix.text.TextField();i.setTextFormat(am);i.text("00:00");f=new psd.fenix.text.TextField();f.setTextFormat(am);if(t.title){G=t.title}if(u==b.MODE_VIDEO_PROFILE){F.addChild(R);F.addChild(i);F.addChild(f);this.addChild(S.begin);z.alpha=0;F.alpha=0}else{this.showProgressBar();F.alpha=0;R.visible=false;i.visible=false;z.addChild(R);z.addChild(i)}if(u==b.MODE_VIDEO_PROFILE){P=new psd.framework.utils.Timer(k,1);P.addEventListener(psd.framework.events.TimerEvent.TIMER_COMPLETE,H,this);P.start()}w=true;this.dispatchEvent(new top.event.UIEvent(top.event.UIEvent.ON_SKIN_READY))};var H=function(V){if(u==b.MODE_VIDEO_PROFILE){P.stop();TweenLite.to(z,0.75,{alpha:0,ease:Power4.easeOut,onCompleteParams:[z],onComplete:function U(W){W.visible=false}});TweenLite.to(F,0.75,{alpha:0,ease:Power4.easeOut,onCompleteParams:[F],onComplete:function U(W){W.visible=false}})}};var d=function(U){if(z.visible==false){z.visible=true;F.visible=true}TweenLite.to(z,0.5,{alpha:1,ease:Power4.easeOut});TweenLite.to(F,0.5,{alpha:1,ease:Power4.easeOut});if(u==b.MODE_VIDEO_PROFILE){P.reset();P.start()}};var c=function(U){};var A=function(U){switch(U.target.name){case"vol0":S.vol.setProgress(1);M(1);break;case"vol50":S.vol.setProgress(0);M(0);break;case"vol100":S.vol.setProgress(0.5);M(0.5);break}};var M=function(U){var V=new psd.fenix.event.ProgressEvent();V.type=psd.fenix.event.ProgressEvent.CHANGE;V.data=U;S.vol.dispatchEvent(V)};this.resizeSkin=function(W,ac){if((S.vol!=undefined)&&(W<S.vol.width()*4)){return new psd.fenix.Rectangle(0,0,W,ac)}var ab,aa,V,U,ad,X,Z;if(w){if((W!=m)||(ac!=h)){X=(j)?Math.min(W,e):W;ab=(B==b.PROFILE_MINI)?o*0.5:o;S.playpause.x=0;S.reset.x=S.playpause.x+S.play.width()+ab;S.reset.y=Math.ceil(S.playpause.height()-S.reset.height())+0.5;Z=X-ab;if((u==b.MODE_VIDEO_PROFILE)&&(t.fullscreen)){S.fs.x=Z-ab-S.fs.width();S.fs.y=S.reset.y;Z=S.fs.x}if(t.volume){S.vol.x=Z-ab-S.vol.width();S.vol.y=S.reset.y;Z=S.vol.x}if(t.navigator){S.next.x=Z-ab-S.next.width();S.next.y=S.reset.y;Z=S.next.x}z.x=(W-X)*0.5+ab;z.y=ac-S.playpause.height()-ab;S.begin.x=(W-S.begin.width())*0.5;S.begin.y=(ac-S.begin.height())*0.5;U=S.reset.x+S.reset.width()+ab;ad=S.reset.y;V=Z-S.reset.x-S.reset.width()-ab*2;aa=C.sizeMedium();E.graphics().clear();E.graphics().beginFill(D,K);E.graphics().drawRoundRect(0,0,V,aa,aa*0.1);E.graphics().endFill();E.x=U;E.y=ad;if(B==b.PROFILE_MINI){I.x=U;I.y=ad;I.resize(V)}else{I.x=U+ab;I.y=ad+aa*0.25;I.resize(V-ab*2)}if(X<=s[B].minSizeBarVisible){I.visible=false}else{I.visible=true}if(X<s[B].minSizeTextVisible){g=false}else{g=true}if(!g){R.visible=false;i.visible=false}else{R.visible=true;i.visible=true}if(S.vol.x<=180){E.visible=false}else{if(B==b.PROFILE_NORMAL){E.visible=true}}if(u==b.MODE_VIDEO_PROFILE){F.graphics().clear();F.graphics().beginFill(D,K);F.graphics().beginFill(D,K);F.graphics().drawRoundRect(0,0,X-ab*2,aa,aa*0.1);F.graphics().endFill();F.x=z.x;F.y=ab;R.x=X-ab-75;R.y=0;i.x=R.x;i.y=20;f.y=10;f.x=ab;if(G){var Y=(X-ab*2-75)/12;f.text(new String(G).slice(0,Y))}}else{if(u==b.MODE_AUDIO_PROFILE){R.y=i.y=I.y+(ab*0.5);R.x=I.x+o;i.x=S.vol.x-40-ab*2}}h=ac;m=W}}return new psd.fenix.Rectangle(0,0,W,ac)};this.updateOnStatusChange=function(U){if(U=="play"){S.play.visible=false;S.pause.visible=true}else{if(U=="pause"){S.play.visible=true;S.pause.visible=false}}};this.updateOnContentRefresh=function(){if((!J)&&(u==b.MODE_AUDIO_PROFILE)){J=true;i.x=I.x+I.width()-i.width()-o}};this.showProgressBar=function(){this.addChild(z);this.removeChild(S.begin);this.addChild(F);this.stage().addEventListener(psd.fenix.MouseEvent.MOUSE_MOVE,d,this)};this.updateOnDisplayStateChange=function(U){if(U==psd.fenix.stage.StageDisplayState.NORMAL){j=false;S.fsoff.visible=false;S.fson.visible=true;d()}else{j=true;S.fsoff.visible=true;S.fson.visible=false}};this.playPauseElement=function(){return S.playpause};if(t.fullscreen){this.fullscreenElement=function(){return S.fs}}this.currentTimeElement=function(){return R};this.totalTimeElement=function(){return i};this.progressBarElement=function(){return I};this.reiniElement=function(){return S.reset};this.nextElement=function(){return S.next};this.playBeginElement=function(){return S.begin};this.setTitle=function(U){if(t.title==undefined||t.title==""||t.title==null){G=U}};if(t.volume){this.volumeElement=function(){return S.vol}}O.apply(this)}a.TopSkin_generic_f=b}(top.ui.skins.fenix));
/*!
 * VERSION: 1.11.3
 * DATE: 2014-01-10
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(ap){var aF=ap.GreenSockGlobals||ap;if(!aF.TweenLite){var aB,aq,ar,aw,aJ,av=function(b){var a,c=b.split("."),d=aF;for(a=0;c.length>a;a++){d[c[a]]=d=d[c[a]]||{}}return d},ay=av("com.greensock"),aC=1e-10,aK=[].slice,ao=function(){},ax=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),aE={},au=function(c,d,e,f){this.sc=aE[c]?aE[c].sc:[],aE[c]=this,this.gsClass=null,this.func=e;var b=[];this.check=function(g){for(var k,j,i,a,o=d.length,n=o;--o>-1;){(k=aE[d[o]]||new au(d[o],[])).gsClass?(b[o]=k.gsClass,n--):g&&k.sc.push(this)}if(0===n&&e){for(j=("com.greensock."+c).split("."),i=j.pop(),a=av(j.join("."))[i]=this.gsClass=e.apply(e,b),f&&(aF[i]=a,"function"==typeof define&&define.amd?define((ap.GreenSockAMDPath?ap.GreenSockAMDPath+"/":"")+c.split(".").join("/"),[],function(){return a}):"undefined"!=typeof module&&module.exports&&(module.exports=a)),o=0;this.sc.length>o;o++){this.sc[o].check()}}},this.check(!0)},aH=ap._gsDefine=function(b,d,a,c){return new au(b,d,a,c)},aG=ay._class=function(b,c,a){return c=c||function(){},aH(b,[],function(){return c},a),c};aH.globals=aF;var an=[0,0,1,1],aD=[],H=aG("easing.Ease",function(b,d,a,c){this._func=b,this._type=a||0,this._power=c||0,this._params=d?an.concat(d):an},!0),am=H.map={},W=H.register=function(p,j,f,q){for(var b,d,k,c,g=j.split(","),l=g.length,m=(f||"easeIn,easeOut,easeInOut").split(",");--l>-1;){for(d=g[l],b=q?aG("easing."+d,null,!0):ay.easing[d]||{},k=m.length;--k>-1;){c=m[k],am[d+"."+c]=am[c+d]=b[c]=p.getRatio?p:p[c]||new p}}};for(ar=H.prototype,ar._calcEnd=!1,ar.getRatio=function(b){if(this._func){return this._params[0]=b,this._func.apply(null,this._params)}var d=this._type,a=this._power,c=1===d?1-b:2===d?b:0.5>b?2*b:2*(1-b);return 1===a?c*=c:2===a?c*=c*c:3===a?c*=c*c*c:4===a&&(c*=c*c*c*c),1===d?1-c:2===d?c:0.5>b?c/2:1-c/2},aB=["Linear","Quad","Cubic","Quart","Quint,Strong"],aq=aB.length;--aq>-1;){ar=aB[aq]+",Power"+aq,W(new H(null,null,1,aq),ar,"easeOut",!0),W(new H(null,null,2,aq),ar,"easeIn"+(0===aq?",easeNone":"")),W(new H(null,null,3,aq),ar,"easeInOut")}am.linear=ay.easing.Linear.easeIn,am.swing=ay.easing.Quad.easeInOut;var ak=aG("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});ar=ak.prototype,ar.addEventListener=function(k,g,d,m,a){a=a||0;var b,c,f=this._listeners[k],j=0;for(null==f&&(this._listeners[k]=f=[]),c=f.length;--c>-1;){b=f[c],b.c===g&&b.s===d?f.splice(c,1):0===j&&a>b.pr&&(j=c+1)}f.splice(j,0,{c:g,s:d,up:m,pr:a}),this!==aw||aJ||aw.wake()},ar.removeEventListener=function(b,d){var a,c=this._listeners[b];if(c){for(a=c.length;--a>-1;){if(c[a].c===d){return c.splice(a,1),void 0}}}},ar.dispatchEvent=function(b){var f,a,c,d=this._listeners[b];if(d){for(f=d.length,a=this._eventTarget;--f>-1;){c=d[f],c.up?c.c.call(c.s||a,{type:b,target:a}):c.c.call(c.s||a)}}};var aI=ap.requestAnimationFrame,az=ap.cancelAnimationFrame,ai=Date.now||function(){return(new Date).getTime()},J=ai();for(aB=["ms","moz","webkit","o"],aq=aB.length;--aq>-1&&!aI;){aI=ap[aB[aq]+"RequestAnimationFrame"],az=ap[aB[aq]+"CancelAnimationFrame"]||ap[aB[aq]+"CancelRequestAnimationFrame"]}aG("Ticker",function(q,n){var g,u,a,b,d,j=this,p=ai(),c=n!==!1&&aI,k=function(f){J=ai(),j.time=(J-p)/1000;var h,i=j.time-d;(!g||i>0||f===!0)&&(j.frame++,d+=i+(i>=b?0.004:b-i),h=!0),f!==!0&&(a=u(k)),h&&j.dispatchEvent("tick")};ak.call(j),j.time=j.frame=0,j.tick=function(){k(!0)},j.sleep=function(){null!=a&&(c&&az?az(a):clearTimeout(a),u=ao,a=null,j===aw&&(aJ=!1))},j.wake=function(){null!==a&&j.sleep(),u=0===g?ao:c&&aI?aI:function(e){return setTimeout(e,0|1000*(d-j.time)+1)},j===aw&&(aJ=!0),k(2)},j.fps=function(e){return arguments.length?(g=e,b=1/(g||60),d=this.time+b,j.wake(),void 0):g},j.useRAF=function(e){return arguments.length?(j.sleep(),c=e,j.fps(g),void 0):c},j.fps(q),setTimeout(function(){c&&(!a||5>j.frame)&&j.useRAF(!1)},1500)}),ar=ay.Ticker.prototype=new ay.events.EventDispatcher,ar.constructor=ay.Ticker;var al=aG("core.Animation",function(b,c){if(this.vars=c=c||{},this._duration=this._totalDuration=b||0,this._delay=Number(c.delay)||0,this._timeScale=1,this._active=c.immediateRender===!0,this.data=c.data,this._reversed=c.reversed===!0,V){aJ||aw.wake();var a=this.vars.useFrames?ac:V;a.add(this,a._time),this.vars.paused&&this.paused(!0)}});aw=al.ticker=new ay.Ticker,ar=al.prototype,ar._dirty=ar._gc=ar._initted=ar._paused=!1,ar._totalTime=ar._time=0,ar._rawPrevTime=-1,ar._next=ar._last=ar._onUpdate=ar._timeline=ar.timeline=null,ar._paused=!1;var ag=function(){aJ&&ai()-J>2000&&aw.wake(),setTimeout(ag,2000)};ag(),ar.play=function(a,b){return arguments.length&&this.seek(a,b),this.reversed(!1).paused(!1)},ar.pause=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!0)},ar.resume=function(a,b){return arguments.length&&this.seek(a,b),this.paused(!1)},ar.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},ar.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},ar.reverse=function(a,b){return arguments.length&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},ar.render=function(){},ar.invalidate=function(){return this},ar.isActive=function(){var b,c=this._timeline,a=this._startTime;return !c||!this._gc&&!this._paused&&c.isActive()&&(b=c.rawTime())>=a&&a+this.totalDuration()/this._timeScale>b},ar._enabled=function(a,b){return aJ||aw.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},ar._kill=function(){return this._enabled(!1,!1)},ar.kill=function(a,b){return this._kill(a,b),this},ar._uncache=function(a){for(var b=a?this:this.timeline;b;){b._dirty=!0,b=b.timeline}return this},ar._swapSelfInParams=function(b){for(var c=b.length,a=b.concat();--c>-1;){"{self}"===b[c]&&(a[c]=this)}return a},ar.eventCallback=function(b,f,a,c){if("on"===(b||"").substr(0,2)){var d=this.vars;if(1===arguments.length){return d[b]}null==f?delete d[b]:(d[b]=f,d[b+"Params"]=ax(a)&&-1!==a.join("").indexOf("{self}")?this._swapSelfInParams(a):a,d[b+"Scope"]=c),"onUpdate"===b&&(this._onUpdate=f)}return this},ar.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},ar.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},ar.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},ar.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},ar.totalTime=function(b,f,a){if(aJ||aw.wake(),!arguments.length){return this._totalTime}if(this._timeline){if(0>b&&!a&&(b+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var c=this._totalDuration,d=this._timeline;if(b>c&&!a&&(b=c),this._startTime=(this._paused?this._pauseTime:d._time)-(this._reversed?c-b:b)/this._timeScale,d._dirty||this._uncache(!1),d._timeline){for(;d._timeline;){d._timeline._time!==(d._startTime+d._totalTime)/d._timeScale&&d.totalTime(d._totalTime,!0),d=d._timeline}}}this._gc&&this._enabled(!0,!1),(this._totalTime!==b||0===this._duration)&&this.render(b,f,!1)}return this},ar.progress=ar.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},ar.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},ar.timeScale=function(b){if(!arguments.length){return this._timeScale}if(b=b||aC,this._timeline&&this._timeline.smoothChildTiming){var c=this._pauseTime,a=c||0===c?c:this._timeline.totalTime();this._startTime=a-(a-this._startTime)*this._timeScale/b}return this._timeScale=b,this._uncache(!1)},ar.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},ar.paused=function(b){if(!arguments.length){return this._paused}if(b!=this._paused&&this._timeline){aJ||b||aw.wake();var d=this._timeline,a=d.rawTime(),c=a-this._pauseTime;!b&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=b?a:null,this._paused=b,this._active=this.isActive(),!b&&0!==c&&this._initted&&this.duration()&&this.render(d.smoothChildTiming?this._totalTime:(a-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!b&&this._enabled(!0,!1),this};var K=aG("core.SimpleTimeline",function(a){al.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});ar=K.prototype=new al,ar.constructor=K,ar.kill()._gc=!1,ar._first=ar._last=null,ar._sortChildren=!1,ar.add=ar.insert=function(b,d){var a,c;if(b._startTime=Number(d||0)+b._delay,b._paused&&this!==b._timeline&&(b._pauseTime=b._startTime+(this.rawTime()-b._startTime)/b._timeScale),b.timeline&&b.timeline._remove(b,!0),b.timeline=b._timeline=this,b._gc&&b._enabled(!0,!0),a=this._last,this._sortChildren){for(c=b._startTime;a&&a._startTime>c;){a=a._prev}}return a?(b._next=a._next,a._next=b):(b._next=this._first,this._first=b),b._next?b._next._prev=b:this._last=b,b._prev=a,this._timeline&&this._uncache(!0),this},ar._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this},ar.render=function(b,f,a){var c,d=this._first;for(this._totalTime=this._time=this._rawPrevTime=b;d;){c=d._next,(d._active||b>=d._startTime&&!d._paused)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(b-d._startTime)*d._timeScale,f,a):d.render((b-d._startTime)*d._timeScale,f,a)),d=c}},ar.rawTime=function(){return aJ||aw.wake(),this._totalTime};var af=aG("TweenLite",function(h,d,f){if(al.call(this,d,f),this.render=af.prototype.render,null==h){throw"Cannot tween a null target."}this.target=h="string"!=typeof h?h:af.selector(h)||h;var g,k,c,j=h.jquery||h.length&&h!==ap&&h[0]&&(h[0]===ap||h[0].nodeType&&h[0].style&&!h.nodeType),b=this.vars.overwrite;if(this._overwrite=b=null==b?aA[af.defaultOverwrite]:"number"==typeof b?b>>0:aA[b],(j||h instanceof Array||h.push&&ax(h))&&"number"!=typeof h[0]){for(this._targets=c=aK.call(h,0),this._propLookup=[],this._siblings=[],g=0;c.length>g;g++){k=c[g],k?"string"!=typeof k?k.length&&k!==ap&&k[0]&&(k[0]===ap||k[0].nodeType&&k[0].style&&!k.nodeType)?(c.splice(g--,1),this._targets=c=c.concat(aK.call(k,0))):(this._siblings[g]=ah(k,this,!1),1===b&&this._siblings[g].length>1&&at(k,this,null,1,this._siblings[g])):(k=c[g--]=af.selector(k),"string"==typeof k&&c.splice(g+1,1)):c.splice(g--,1)}}else{this._propLookup={},this._siblings=ah(h,this,!1),1===b&&this._siblings.length>1&&at(h,this,null,1,this._siblings)}(this.vars.immediateRender||0===d&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),ae=function(a){return a.length&&a!==ap&&a[0]&&(a[0]===ap||a[0].nodeType&&a[0].style&&!a.nodeType)},ab=function(b,d){var a,c={};for(a in b){ad[a]||a in d&&"x"!==a&&"y"!==a&&"width"!==a&&"height"!==a&&"className"!==a&&"border"!==a||!(!Y[a]||Y[a]&&Y[a]._autoCSS)||(c[a]=b[a],delete b[a])}b.css=c};ar=af.prototype=new al,ar.constructor=af,ar.kill()._gc=!1,ar.ratio=0,ar._firstPT=ar._targets=ar._overwrittenProps=ar._startAt=null,ar._notifyPluginsOfEnabled=!1,af.version="1.11.3",af.defaultEase=ar._ease=new H(null,null,1,1),af.defaultOverwrite="auto",af.ticker=aw,af.autoSleep=!0,af.selector=ap.$||ap.jQuery||function(a){return ap.$?(af.selector=ap.$,ap.$(a)):ap.document?ap.document.getElementById("#"===a.charAt(0)?a.substr(1):a):a};var X=af._internals={isArray:ax,isSelector:ae},Y=af._plugins={},aa=af._tweenLookup={},z=0,ad=X.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},aA={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},ac=al._rootFramesTimeline=new K,V=al._rootTimeline=new K;V._startTime=aw.time,ac._startTime=aw.frame,V._active=ac._active=!0,al._updateRoot=function(){if(V.render((aw.time-V._startTime)*V._timeScale,!1,!1),ac.render((aw.frame-ac._startTime)*ac._timeScale,!1,!1),!(aw.frame%120)){var b,c,a;for(a in aa){for(c=aa[a].tweens,b=c.length;--b>-1;){c[b]._gc&&c.splice(b,1)}0===c.length&&delete aa[a]}if(a=V._first,(!a||a._paused)&&af.autoSleep&&!ac._first&&1===aw._listeners.tick.length){for(;a&&a._paused;){a=a._next}a||aw.sleep()}}},aw.addEventListener("tick",al._updateRoot);var ah=function(b,f,a){var c,d,g=b._gsTweenID;if(aa[g||(b._gsTweenID=g="t"+z++)]||(aa[g]={target:b,tweens:[]}),f&&(c=aa[g].tweens,c[d=c.length]=f,a)){for(;--d>-1;){c[d]===f&&c.splice(d,1)}}return aa[g].tweens},at=function(A,v,k,B,b){var g,w,d,j;if(1===B||B>=4){for(j=b.length,g=0;j>g;g++){if((d=b[g])!==v){d._gc||d._enabled(!1,!1)&&(w=!0)}else{if(5===B){break}}}return w}var x,y=v._startTime+aC,h=[],q=0,c=0===v._duration;for(g=b.length;--g>-1;){(d=b[g])===v||d._gc||d._paused||(d._timeline!==v._timeline?(x=x||aj(v,0,c),0===aj(d,x,c)&&(h[q++]=d)):y>=d._startTime&&d._startTime+d.totalDuration()/d._timeScale>y&&((c||!d._initted)&&2e-10>=y-d._startTime||(h[q++]=d)))}for(g=q;--g>-1;){d=h[g],2===B&&d._kill(k,A)&&(w=!0),(2!==B||!d._firstPT&&d._initted)&&d._enabled(!1,!1)&&(w=!0)}return w},aj=function(b,f,a){for(var c=b._timeline,d=c._timeScale,g=b._startTime;c._timeline;){if(g+=c._startTime,d*=c._timeScale,c._paused){return -100}c=c._timeline}return g/=d,g>f?g-f:a&&g===f||!b._initted&&2*aC>g-f?aC:(g+=b.totalDuration()/b._timeScale/d)>f+aC?0:g-f-aC};ar._init=function(){var k,h,g,m,b=this.vars,d=this._overwrittenProps,j=this._duration,c=b.immediateRender,f=b.ease;if(b.startAt){if(this._startAt&&this._startAt.render(-1,!0),b.startAt.overwrite=0,b.startAt.immediateRender=!0,this._startAt=af.to(this.target,0,b.startAt),c){if(this._time>0){this._startAt=null}else{if(0!==j){return}}}}else{if(b.runBackwards&&0!==j){if(this._startAt){this._startAt.render(-1,!0),this._startAt=null}else{g={};for(m in b){ad[m]&&"autoCSS"!==m||(g[m]=b[m])}if(g.overwrite=0,g.data="isFromStart",this._startAt=af.to(this.target,0,g),b.immediateRender){if(0===this._time){return}}else{this._startAt.render(-1,!0)}}}}if(this._ease=f?f instanceof H?b.easeParams instanceof Array?f.config.apply(f,b.easeParams):f:"function"==typeof f?new H(f,b.easeParams):am[f]||af.defaultEase:af.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets){for(k=this._targets.length;--k>-1;){this._initProps(this._targets[k],this._propLookup[k]={},this._siblings[k],d?d[k]:null)&&(h=!0)}}else{h=this._initProps(this.target,this._propLookup,this._siblings,d)}if(h&&af._onPluginEvent("_onInitAllProps",this),d&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),b.runBackwards){for(g=this._firstPT;g;){g.s+=g.c,g.c=-g.c,g=g._next}}this._onUpdate=b.onUpdate,this._initted=!0},ar._initProps=function(k,g,q,b){var d,m,c,f,j,p;if(null==k){return !1}this.vars.css||k.style&&k!==ap&&k.nodeType&&Y.css&&this.vars.autoCSS!==!1&&ab(this.vars,k);for(d in this.vars){if(p=this.vars[d],ad[d]){p&&(p instanceof Array||p.push&&ax(p))&&-1!==p.join("").indexOf("{self}")&&(this.vars[d]=p=this._swapSelfInParams(p,this))}else{if(Y[d]&&(f=new Y[d])._onInitTween(k,this.vars[d],this)){for(this._firstPT=j={_next:this._firstPT,t:f,p:"setRatio",s:0,c:1,f:!0,n:d,pg:!0,pr:f._priority},m=f._overwriteProps.length;--m>-1;){g[f._overwriteProps[m]]=this._firstPT}(f._priority||f._onInitAllProps)&&(c=!0),(f._onDisable||f._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else{this._firstPT=g[d]=j={_next:this._firstPT,t:k,p:d,f:"function"==typeof k[d],n:d,pg:!1,pr:0},j.s=j.f?k[d.indexOf("set")||"function"!=typeof k["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(k[d]),j.c="string"==typeof p&&"="===p.charAt(1)?parseInt(p.charAt(0)+"1",10)*Number(p.substr(2)):Number(p)-j.s||0}}j&&j._next&&(j._next._prev=j)}return b&&this._kill(b,k)?this._initProps(k,g,q,b):this._overwrite>1&&this._firstPT&&q.length>1&&at(k,this,g,this._overwrite,q)?(this._kill(g,k),this._initProps(k,g,q,b)):c},ar.render=function(v,j,h){var w,b,d,k,c=this._time,g=this._duration;if(v>=g){this._totalTime=this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(w=!0,b="onComplete"),0===g&&(k=this._rawPrevTime,(0===v||0>k||k===aC)&&k!==v&&(h=!0,k>aC&&(b="onReverseComplete")),this._rawPrevTime=k=!j||v||0===k?v:aC)}else{if(1e-7>v){this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==c||0===g&&this._rawPrevTime>aC)&&(b="onReverseComplete",w=this._reversed),0>v?(this._active=!1,0===g&&(this._rawPrevTime>=0&&(h=!0),this._rawPrevTime=k=!j||v||0===this._rawPrevTime?v:aC)):this._initted||(h=!0)}else{if(this._totalTime=this._time=v,this._easeType){var p=v/g,q=this._easeType,f=this._easePower;(1===q||3===q&&p>=0.5)&&(p=1-p),3===q&&(p*=2),1===f?p*=p:2===f?p*=p*p:3===f?p*=p*p*p:4===f&&(p*=p*p*p*p),this.ratio=1===q?1-p:2===q?p:0.5>v/g?p/2:1-p/2}else{this.ratio=this._ease.getRatio(v/g)}}}if(this._time!==c||h){if(!this._initted){if(this._init(),!this._initted||this._gc){return}this._time&&!w?this.ratio=this._ease.getRatio(this._time/g):w&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==c&&v>=0&&(this._active=!0),0===c&&(this._startAt&&(v>=0?this._startAt.render(v,j,h):b||(b="_dummyGS")),this.vars.onStart&&(0!==this._time||0===g)&&(j||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||aD))),d=this._firstPT;d;){d.f?d.t[d.p](d.c*this.ratio+d.s):d.t[d.p]=d.c*this.ratio+d.s,d=d._next}this._onUpdate&&(0>v&&this._startAt&&this._startTime&&this._startAt.render(v,j,h),j||(this._time!==c||w)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||aD)),b&&(this._gc||(0>v&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(v,j,h),w&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!j&&this.vars[b]&&this.vars[b].apply(this.vars[b+"Scope"]||this,this.vars[b+"Params"]||aD),0===g&&this._rawPrevTime===aC&&k!==aC&&(this._rawPrevTime=0)))}},ar._kill=function(p,k){if("all"===p&&(p=null),null==p&&(null==k||k===this.target)){return this._enabled(!1,!1)}k="string"!=typeof k?k||this._targets||this.target:af.selector(k)||k;var g,q,b,d,m,c,f,j;if((ax(k)||ae(k))&&"number"!=typeof k[0]){for(g=k.length;--g>-1;){this._kill(p,k[g])&&(c=!0)}}else{if(this._targets){for(g=this._targets.length;--g>-1;){if(k===this._targets[g]){m=this._propLookup[g]||{},this._overwrittenProps=this._overwrittenProps||[],q=this._overwrittenProps[g]=p?this._overwrittenProps[g]||{}:"all";break}}}else{if(k!==this.target){return !1}m=this._propLookup,q=this._overwrittenProps=p?this._overwrittenProps||{}:"all"}if(m){f=p||m,j=p!==q&&"all"!==q&&p!==m&&("object"!=typeof p||!p._tempKill);for(b in f){(d=m[b])&&(d.pg&&d.t._kill(f)&&(c=!0),d.pg&&0!==d.t._overwriteProps.length||(d._prev?d._prev._next=d._next:d===this._firstPT&&(this._firstPT=d._next),d._next&&(d._next._prev=d._prev),d._next=d._prev=null),delete m[b]),j&&(q[b]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return c},ar.invalidate=function(){return this._notifyPluginsOfEnabled&&af._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},ar._enabled=function(b,d){if(aJ||aw.wake(),b&&this._gc){var a,c=this._targets;if(c){for(a=c.length;--a>-1;){this._siblings[a]=ah(c[a],this,!0)}}else{this._siblings=ah(this.target,this,!0)}}return al.prototype._enabled.call(this,b,d),this._notifyPluginsOfEnabled&&this._firstPT?af._onPluginEvent(b?"_onEnable":"_onDisable",this):!1},af.to=function(b,c,a){return new af(b,c,a)},af.from=function(b,c,a){return a.runBackwards=!0,a.immediateRender=0!=a.immediateRender,new af(b,c,a)},af.fromTo=function(b,d,a,c){return c.startAt=a,c.immediateRender=0!=c.immediateRender&&0!=a.immediateRender,new af(b,d,c)},af.delayedCall=function(b,f,a,c,d){return new af(f,0,{delay:b,onComplete:f,onCompleteParams:a,onCompleteScope:c,onReverseComplete:f,onReverseCompleteParams:a,onReverseCompleteScope:c,immediateRender:!1,useFrames:d,overwrite:0})},af.set=function(a,b){return new af(a,0,b)},af.getTweensOf=function(b,f){if(null==b){return[]}b="string"!=typeof b?b:af.selector(b)||b;var a,c,d,g;if((ax(b)||ae(b))&&"number"!=typeof b[0]){for(a=b.length,c=[];--a>-1;){c=c.concat(af.getTweensOf(b[a],f))}for(a=c.length;--a>-1;){for(g=c[a],d=a;--d>-1;){g===c[d]&&c.splice(a,1)}}}else{for(c=ah(b).concat(),a=c.length;--a>-1;){(c[a]._gc||f&&!c[a].isActive())&&c.splice(a,1)}}return c},af.killTweensOf=af.killDelayedCallsTo=function(b,f,a){"object"==typeof f&&(a=f,f=!1);for(var c=af.getTweensOf(b,f),d=c.length;--d>-1;){c[d]._kill(a,b)}};var Z=aG("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=Z.prototype},!0);if(ar=Z.prototype,Z.version="1.10.1",Z.API=2,ar._firstPT=null,ar._addTween=function(d,h,c,f,g,k){var b,j;return null!=f&&(b="number"==typeof f||"="!==f.charAt(1)?Number(f)-c:parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)))?(this._firstPT=j={_next:this._firstPT,t:d,p:h,s:c,c:b,f:"function"==typeof d[h],n:g||h,r:k},j._next&&(j._next._prev=j),j):void 0},ar.setRatio=function(b){for(var d,a=this._firstPT,c=0.000001;a;){d=a.c*b+a.s,a.r?d=0|d+(d>0?0.5:-0.5):c>d&&d>-c&&(d=0),a.f?a.t[a.p](d):a.t[a.p]=d,a=a._next}},ar._kill=function(b){var d,a=this._overwriteProps,c=this._firstPT;if(null!=b[this._propName]){this._overwriteProps=[]}else{for(d=a.length;--d>-1;){null!=b[a[d]]&&a.splice(d,1)}}for(;c;){null!=b[c.n]&&(c._next&&(c._next._prev=c._prev),c._prev?(c._prev._next=c._next,c._prev=null):this._firstPT===c&&(this._firstPT=c._next)),c=c._next}return !1},ar._roundProps=function(b,c){for(var a=this._firstPT;a;){(b[this._propName]||null!=a.n&&b[a.n.split(this._propName+"_").join("")])&&(a.r=c),a=a._next}},af._onPluginEvent=function(d,h){var c,f,g,k,b,j=h._firstPT;if("_onInitAllProps"===d){for(;j;){for(b=j._next,f=g;f&&f.pr>j.pr;){f=f._next}(j._prev=f?f._prev:k)?j._prev._next=j:g=j,(j._next=f)?f._prev=j:k=j,j=b}j=h._firstPT=g}for(;j;){j.pg&&"function"==typeof j.t[d]&&j.t[d]()&&(c=!0),j=j._next}return c},Z.activate=function(a){for(var b=a.length;--b>-1;){a[b].API===Z.API&&(Y[(new a[b])._propName]=a[b])}return !0},aH.plugin=function(d){if(!(d&&d.propName&&d.init&&d.API)){throw"illegal plugin definition."}var h,c=d.propName,f=d.priority||0,g=d.overwriteProps,k={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},b=aG("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){Z.call(this,c,f),this._overwriteProps=g||[]},d.global===!0),j=b.prototype=new Z(c);j.constructor=b,b.API=d.API;for(h in k){"function"==typeof d[h]&&(j[k[h]]=d[h])}return b.version=d.version,Z.activate([b]),b},aB=ap._gsQueue){for(aq=0;aB.length>aq;aq++){aB[aq]()}for(ar in aE){aE[ar].func||ap.console.log("GSAP encountered missing dependency: com.greensock."+ar)}}aJ=!1}})(window);