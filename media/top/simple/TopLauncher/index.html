<!DOCTYPE html>
<html>
<head>
    <title>Launcher TOP</title>

    <script type="text/javascript" src="/psdmedia/media/simple/js/SimpleMediaPlayer.min.js"></script>
    <!--<script type="text/javascript" src="/psdmedia/media/simple/js/SimpleMediaPlayer.lib.js"></script>-->
    <script type="text/javascript" src="/psdmedia/media/simple/TopLauncher/data/s_code.js"></script>

    <style type="text/css">
        #media_player_container
        {
            width:400px;
            height:400px;
            background:#b0c4de;
        }

    </style>
</head>

<body onload="loadPlayer()">

    <div id="media_player_container"></div>
    <button type="button" name="load_btn" value="Load" onclick="reLoadPlayer()">Reload</button>

    <script type="text/javascript">

        var mediaLauncherTop;

        function loadPlayer()
        {

            //Se le pueden pasar los settings tanto en el constructor como en la propiedad addSetting
            //var mediaLauncherTop = new psd.top.TopLauncher(settings);
            mediaLauncherTop = new psd.media.TopLauncher();
            mediaLauncherTop.addSetting(getSettings());
			mediaLauncherTop.init();
            mediaLauncherTop.addEventListener(psd.media.TopLauncher._EVENT_INI,onSetEvents)

        }
        //EVENTOS
        function onSetEvents()
        {
            //Recogemos eventos
            var mediaPlayer = mediaLauncherTop.getMediaPlayer();

            mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_BEGIN, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_COMPLETE, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.CUEPOINT_DATA, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.INITIALIZED, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_START, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_STOP, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.AD_START, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.AD_SKIP, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPLETE, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPANION_ON, onMediaEvent);
            mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPANION_OFF, onMediaEvent);

        }

        function onMediaEvent(evt)
        {
            console.log("//index - onMediaEvent - evt.type: " + evt.type);
        }
        //EVENTOS

        //RECARGA DEL PLAYER
        function reLoadPlayer()
        {
            mediaLauncherTop.addSetting(getSettings());
            mediaLauncherTop.init();
        }

        //RECOGEMOS DATOS
        function getSettings()
        {
            //Par√°metros relacionados con el player
            var settings = {};
            settings.ws = {};
            //settings.ws.urlBase = "http://webapi.top.des.prisadigital.int/video";
            //settings.ws.id_video = "RonaldMD2";
            settings.ws.urlBase = "http://webfastapi.top.des.prisadigital.int/api";
            //settings.ws.id_cuenta = "elpais";
            settings.ws.id_cuenta = "meristation";
            //settings.ws.id_video = "20131128_03";
            settings.ws.id_video = "1158559308001";

            settings.player = {};
            settings.player.container = "media_player_container";
            settings.player.autoplay = false;
            settings.player.width = "100%";
            settings.player.height = "100%";

            settings.skin = {};
            settings.skin.id = "cadenaser";

            settings.ads = {};
            //settings.adsConf = "/psdmedia/media/simple/skins/cadenaser/confPubliVideo_test.xml";
            settings.ads.conf = "/psdmedia/media/simple/skins/cadenaser/conf_Publi_STW.xml";

            settings.stats = {};
            settings.stats.conf = "/psdmedia/media/simple/TopLauncher/data/stats/profiles/medium_vod_ads.xml";

            return settings;
        }

    </script>

</body>
</html>