<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

	<head>
		<title>Tests SimpleMediaPlayer cadenaser</title>
		<link href="forms.css" rel="stylesheet" type="text/css">
		<script type="text/javascript" src="/psdmedia/media/simple/js/SimpleMediaPlayer.min.js"></script>
		<script src="http://10.90.213.46:8080/target/target-script-min.js#anonymous"></script>
		
		<style type="text/css"> 
		
			#menu {
				float: left;
				width: 30%;
				padding: 1%;
			}
			
			#content {
				float:rigth:
				width:68%;
			}
			
			#media_player_container
			{
				float:left;
				width:35%;
				padding: 1%;
			}
			
			#media_player_console
			{
				float:right;
				width:28%;
				padding: 1%;
			}
			
			#console
			{
				height: 100%;
			}
			
		</style>
	</head>
	
	<body>
	
		<div style="width:30%; float:left;">
			
			<br />
			
			<div id="controls" style="text-align:center;">
			
				<fieldset>
					<legend>Controles</legend>
					<button type="button" name="load_btn" value="Load" onclick="loadPlayer()">Cargar</button>
					<button type="button" name="play_btn" value="Play" onclick="play()">Play</button>
					<button type="button" name="pause_btn" value="Pause" onclick="pause()">Pause</button>
					<button type="button" name="fullscreen_btn" value="FullScreen" onclick="fullscreen()">FullScreen</button>
					<button type="button" name="isplaying_btn" value="isPlaying" onclick="isPlaying()">IsPlaying</button>
					<button type="button" name="resizePlayer_btn" value="isPlaying" onclick="resizePlayer()">Capa grande</button>
				</fieldset>
			</div>
		
			<br />
		
			<div style="text-align:center;">
				<form id="settings" action="javascript:loadPlayer();">
					
					<fieldset>
						<legend>Contenido</legend>
						<div>
							<label for="content">Elige el video/audio de prueba</label>
							<select name="content">
								<option>01.- Audio (mp4) - AkamaiHD</option>
								<option>02.- Audio (mp3) - Akamai</option>
								<option>03.- Video (mp4) - Akamai</option>
								<option>04.- Video (mp4) - AkamaiHD</option>
								<option>05.- Audio (mp4) - Brightcove</option>
								<option>06.- Video (mp4) - Brightcove</option>
								<option>07.- Audio (live) - Streamtheworld</option>
								<option>08.- Audio (mp4) - Streamtheworld</option>
								<option>09.- Video (mp4) - Streamtheworld</option>
								<option>10.- Video - HTML5</option>
								<option>11.- Video (live) - AkamaiHD</option>
								<option>12.- Video (mp4) - AkamaiHDS</option>
								<option>13.- Video (mp4) - Akamai (RTMP)</option>
							</select>
						</div>
					</fieldset>
					
					<br />
					
					<fieldset>
						<legend>Player Settings</legend>
						<div class="inline">
							<input type="checkbox" name="autoplay" />
							<label for="autoplay">Utilizar <strong>reproducción automática</strong></label>
						</div>
						<div class="inline">
							<input type="checkbox" name="mode" />
							<label for="mode">Forzar <strong>modo HTML5</strong></label>
						</div>
						<div class="inline">
							<input type="checkbox" name="controls" />
							<label for="controls"><strong>Ocultar Controles</strong> de reproducción</label>
						</div>
						<div class="inline">
							<input type="checkbox" name="force_width" checked />
							<label for="force_width">Forzar <strong>ancho</strong> de player</label>
							<input type="number" name="playerwidth" min="0" value="400" />							
						</div>
						<div class="inline">
							<input type="checkbox" name="force_height" checked />
							<label for="force_height">Forzar <strong>alto</strong> de player</label>
							<input type="number" name="playerheight" min="0" value="400" />
						</div>
						<div class="inline">
							<input type="checkbox" name="force_wmode" />
							<label for="wmode">Forzar <strong>wmode</strong></label>
							<select name="wmode" value="opaque">
								<option>window</option>
								<option>direct</option>
								<option>opaque</option>
								<option>transparent</option>
								<option>gpu</option>
							</select>
						</div>
						<div class="inline">
							<label for="bgcolor"><strong>Color</strong> de fondo</label>
							<input type="color" name="bgcolor" value="#dfe6f7" style="width:75px;" />
						</div>
					</fieldset>
					
					<br />
					
					<fieldset>
						<legend>Skin settings</legend>
						<div class="inline">
							<input type="checkbox" name="skinhtml5" />
							<label for="skinhtml5">Utilizar <strong>Skin HTML5</strong></label>
						</div>						
						<div class="inline">
							<input type="checkbox" name="skinvolume" />
							<label for="volumecontrol">Mostrar <strong>control de volumen</strong></label>
						</div>
						<div class="inline">
							<input type="checkbox" name="skinshare" />
							<label for="skinshare">Mostrar <strong>control de compartir</strong></label>
						</div>
						<div class="inline">
							<input type="checkbox" name="skindownload" />
							<label for="skindownload">Mostrar <strong>control de descargar</strong></label>
						</div>
					</fieldset>
					
					<button type="button" name="fullscreen_btn" value="FullScreen" onclick="cancelFullscreen()">FullScreenOut</button>
					
				</form>
			</div>
		</div>
	
		<div>
			<div id="media_player_container"></div>
			<!--<div id="media_player_container" style="width:100%; height:48px;">
				<div style="position:relative; width:100%; height:100%;"></div> 
			</div>-->
			
			<div id="media_player_console">
					<fieldset>
						<legend>Consola</legend>
						<textarea id="console" readonly="readonly" rows="20" cols="25"></textarea>
					</fieldset>
			</div>
		</div>
		
		<script type="text/javascript">
			
			function play()
			{
				mediaPlayer.play();
			}
			
			function pause()
			{
				mediaPlayer.pause();
			}
			
			function fullscreen()
			{
				mediaPlayer.requestFullScreen();
			}
			
			function cancelFullscreen()
			{
				mediaPlayer.cancelFullScreen();
			}
			
			function isPlaying()
			{
				alert(mediaPlayer.isPlaying());
			}			
			 
			function resizePlayer()
			{ 
				//document.getElementById("media_player_container").style.height = '400';
				//document.getElementById("media_player_container").clientHeight = '400px'; 
				//console.log("resizePlayer - height: " + document.getElementById("media_player_container").style.height);
				//console.log("resizePlayer - height: " + document.getElementById("media_player_container").height); 
				
			}
			
			function loadPlayer()
			{
				var settingsForm = document.forms[0],
					playerConfig = { };
				 
				playerConfig.id = "media_player_container";
				//playerConfig.base = "http://cacafuti";
				
				playerConfig.media = getMedia(settingsForm.content.selectedIndex);
				
				playerConfig.ads = {};
				playerConfig.ads.conf = "/psdmedia/media/simple/skins/cadenaser/conf_Publi_STW.xml";
				//playerConfig.ads.conf = "http://www.cadenaser.com/psdmedia/media/simple/skins/cadenaser/confPubliAudio.xml"
				//playerConfig.ads.conf = "/psdmedia/media/simple/skins/cadenaser/confPubliVideo.xml";
				//playerConfig.ads.conf = "/psdmedia/media/simple/skins/cadenaser/confPubliAudio.xml";  
				//playerConfig.ads.conf = "/psdmedia/media/simple/skins/cadenaser/confPubliAudioLive.xml"; 
				playerConfig.ads.tags = "SER_RADIO"; 

				playerConfig.player = {};
				playerConfig.player.container = "media_player_container";
				if(settingsForm.force_wmode.checked) { playerConfig.player.wmode = settingsForm.wmode.value; }
				if(settingsForm.force_width.checked) { playerConfig.player.width = settingsForm.playerwidth.value; } 
				if(settingsForm.force_height.checked) { playerConfig.player.height = settingsForm.playerheight.value; }
				 
				if(settingsForm.autoplay.checked) { playerConfig.player.autoplay = "true"; }
				if(settingsForm.mode.checked) { playerConfig.player.mode = "html5"; }
				if(settingsForm.controls.checked) { playerConfig.player.controls = "false"; }
				playerConfig.player.bgColor = settingsForm.bgcolor.value.substr(1);
				
				playerConfig.skin = {};
				playerConfig.skin.id = "cadenaser";
				//playerConfig.skin.mode = "mini";            
				
				if(settingsForm.skinhtml5.checked) { playerConfig.skin.html5 = "true"; }
				if(settingsForm.skinvolume.checked) { playerConfig.skin.volumeControl = "true"; }
				if(settingsForm.skinshare.checked) { playerConfig.skin.shareControl = "shareFunction()"; }
				if(settingsForm.skindownload.checked) { playerConfig.skin.downloadControl = "downFunction()"; }
				
				mediaPlayer = new psd.media.SimpleMediaPlayer(playerConfig);
				mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_BEGIN, onMediaBegin, mediaPlayer);
				mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_COMPLETE, onMediaComplete);
				mediaPlayer.addEventListener(psd.media.MediaEvent.CUEPOINT_DATA, onCuePointData);
				mediaPlayer.addEventListener(psd.media.MediaEvent.INITIALIZED, onMediaPlayerInitialized);
				mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_START, onMediaPlayerStart);
				mediaPlayer.addEventListener(psd.media.MediaEvent.MEDIA_STOP, onMediaPlayerStop);
				mediaPlayer.addEventListener(psd.media.MediaEvent.AD_START, onMediaAdStart);
				mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPLETE, onMediaAdStop);
				mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPANION_ON, onAdCompanionOn);
				mediaPlayer.addEventListener(psd.media.MediaEvent.AD_COMPANION_OFF, onAdCompanionOff); 
				mediaPlayer.init();
			}
			
			function getMedia(id)
			{
				var media;
				
				switch(id)
				{
					case 0:
					default:
						media =
						{
							type: "audio/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "http://sermedia-f.akamaihd.net/cadenaser/2011/05/20110501csrcsrcul_11_Aes_LAU.mp4"
							, srcHTML5 : "http://sermedia-f.akamaihd.net/cadenaser/2011/05/20110501csrcsrcul_11_Aes_LAU.mp4"
							, live: false
							, cdn: { provider:"akamaihd"} 
							
							//type: "audio/mp3" 
							//, src : "http://10.90.1.61:33399/psdmedia/video/player/ficheros_prueba/musica.mp3"   
							//, src : "http://live.emisoras.cadenaser.com:8085/cadiz"
							//, src : "http://194.169.201.237:8085/stream/prisacom_Bilbao" 
							//, src : "http:\/\/194.169.201.237:8085\/stream\/prisacom_Bilbao"  
							//, srcHTML5 : "http:\/\/194.169.201.237:8085\/stream\/prisacom_Bilbao"
							//, srcHTML5 : "http://emisoras.cadenaser.com:8085/alcala" 
							//, srcHTML5 : "http://emisoras.cadenaser.com:8085/liveser.mp3"
							//, live: true
							//, cdn: { provider:"akamai"}
							//, poster: "http://snapshot.opera.com/resources/BigBuckBunny.png"
							
							
							/*type: "audio/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "rtmp://cp54139.live.edgefcs.net/live/SerOndaMedia@44303"
							, srcHTML5 : "http://emisoras.cadenaser.com:8085/estudioa4"
							, live: true
							, cdn: { provider:"akamai"}*/
						};
						break;
						
					case 1:
						media = 
						{
							/*type: "audio/mp3"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "http://ipod.cadenaser.com:8085/liveser.mp3"
							, srcHTML5 : "http://ipod.cadenaser.com:8085/liveser.mp3"
							, live: true
							, cdn: { provider:"akamai"}*/
							
							//*****pruebas para html5 - para móviles*****
							type: "audio/mp3" 
							, title: "titulo del audio" 
							, desc: "desc del audio"
							, src : "http://www.maxima.fm/audio/files/426.mp3"
							, srcHTML5 : "http://www.maxima.fm/audio/files/426.mp3"
							, live: false 
							, cdn: { provider:"akamai"}
							
							/*type:"audio/mp4"
							,title:"sin titulo"
							,desc:"sin desc"
							//,src:"http://sermedia-f.akamaihd.net/cadenaser/2013/03/20130314csrcsrdep_4_Aes_LAU.mp4"
							,src:"http://sermedia-f.akamaihd.net/cadenaser/2013/08/20130805csrcsrsoc_2_Aes_LAU.mp4"
							,srcHTML5:"http://vmedia.cadenaser.com/cadenaser/2013/03/20130314csrcsrdep_4_Aes_LAU.mp4"
							,cdn: {provider:"akamahd"}*/
							
							
						};
						break;
						
					case 2:
						media = 
						{
							type: "video/mp4"
							, title: 'Fernández Díaz: %22El aborto tiene algo que ver con ETA%22' 
							, desc: 'El%2Bministro%2Bdel%2BInterior%252C%2BJorge%2BFern%25E1ndez%2BD%25EDaz%252C%2Bha%2Bafirmado%2Besta%2Bma%25F1ana%2Bdurante%2Bsu%2Brueda%2Bde%2Bprensa%2Bpara%2Binformar%2Bsobre%2Blas%2Bdetenciones%2Bde%2Bseis%2Bpresuntos%2Betarras%2Ben%2BFrancia%252C%2Bque%2Bel%2Baborto%2B%2522tiene%2Balgo%2Bque%2Bver%2522%2Bcon%2BETA%252C%2B%2522pero%2Bno%2Bdemasiado%2522.'
							//, src : "http://mediapm.edgesuite.net/ovp/content/demo/video/elephants_dream/elephants_dream_768x428_24.0fps_608kbps.mp4"
							//, src : "http://vsermedia-f.akamaihd.net/cadenaser/201304/25/economia/20130425csrcsreco_1_Ves_LVC.m4v"
							, src : "http://vsermedia-f.akamaihd.net/cadenaser/201305/07/espana/20130507csrcsrnac_5_Ves_LVC.m4v"
							, srcHTML5 : "http://mediapm.edgesuite.net/ovp/content/demo/video/elephants_dream/elephants_dream_768x428_24.0fps_608kbps.mp4"
							//, live: false
							, poster: "http://www.cadenaser.com/recorte/20130415csrcsrsoc_5/XLCO/Ies/20130415csrcsrsoc_5.jpg"
							, cdn: { provider:"akamai"}						
						};
						break;
						
					case 3:
						media = 
						{
							type: "video/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							//, src : "http://efvod-hdnetwork.akamai.com.edgesuite.net/ElephantsDream2_h264_1500@14411"
							//, srcHTML5 : "http://efvod-hdnetwork.akamai.com.edgesuite.net/ElephantsDream2_h264_1500@14411"
							, src : "http://efvod-hdnetwork.akamai.com.edgesuite.net/ElephantsDream2_h264_1500@14411"
							, srcHTML5 : "http://efvod-hdnetwork.akamai.com.edgesuite.net/ElephantsDream2_h264_1500@14411"
							//, live: false
							, cdn: { provider:"akamaihd"}
							, poster: "http://www.cadenaser.com//recorte/20130415csrcsrsoc_5/XLCO/Ies/20130415csrcsrsoc_5.jpg"
						};
						break;
					
					case 4:
						media = 
						{
							/*type: "audio/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "20030612_audio_4"
							//, srcHTML5 : "http://sermedia-f.akamaihd.net/cadenaser/2011/05/20110501csrcsrcul_11_Aes_LAU.mp4"
							//, live: false
							, cdn: { provider: "brightcove" , playerId: "1377059099001" , playerKey: "AQ~~,AAAA3LlbbfE~,fu1xNGlQsiYwiLT2qVUd38HrfPye_Jrn" }*/
							
							type: "audio/mp4"
                            , title: "titulo del audio"
                            , desc: "desc del audio"
                            , src : "20030612_audio_4"
                            //, srcHTML5 : "http://sermedia-f.akamaihd.net/cadenaser/2011/05/20110501csrcsrcul_11_Aes_LAU.mp4"
                            //, live: false
                            , cdn: { provider: "brightcove" , playerId: "1377059099001" , playerKey: "AQ~~,AAAA3LlbbfE~,fu1xNGlQsiYwiLT2qVUd38HrfPye_Jrn" }
						};
						break;
						
					case 5:
						media = 
						{
							type: "video/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "20120103_video_3"
							//, srcHTML5 : "http://sermedia-f.akamaihd.net/cadenaser/2011/05/20110501csrcsrcul_11_Aes_LAU.mp4"
							//, live: false
							, cdn: { provider: "brightcove" , playerId: "1270513424001" , playerKey: "AQ~~,AAAA3Llbagk~,4WSD-E691cuaCrOmNTHJ9wDn8DN0r2Pr" }
							, poster: "http://www.cadenaser.com//recorte/20130415csrcsrsoc_5/XLCO/Ies/20130415csrcsrsoc_5.jpg"
						};
						break;
						
					case 6:
						media = 
						{
							type: "audio/mp4"
							, title: "live streamtheworld"
							, desc: "canal live de streamtheworld"
							//, src: "SER_BARCELONA"
							//, src: "CADENASER"
							//, src: "LOS40"
							//, src: "CADENASERAAC"
							//, src: "CDKC"  
							, src: "MAXIMAFMANDOTESTAAC"    
							, srcHTML5: "http://playerservices.streamtheworld.com/api/livestream-redirect/LOS40_SC"
							, live: true
							, cdn: { provider: "streamtheworld" }
						}
						break;
						
					case 7:
						media =
						{
							/* MALA CONFIGURACIÓN
							type:"audio/mp3"
							, title:"Una de las acampadas:\"Lo más importante, el espacio\""
							, desc:"Una de las acampadas:\"Lo más importante, el espacio\""
							, src:"http://playerservices.streamtheworld.com/m3u/CADENASER.m3u"
							, live: false
							, cdn:{ provider : "streamtheworld" } */
							
							
							type:"audio/mp4"
							, title:"Una de las acampadas:\"Lo más importante, el espacio\""
							, desc:"Una de las acampadas:\"Lo más importante, el espacio\""
							, src:"http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010001467476.mp4"
							, srcHTML5:"http://ursmediafiles-mobile.media.streamtheworld.com/objetos/audios/dest/010001467476.mp4"
							, live: false
							, cdn:{ provider : "streamtheworld" }
							 
							
							/*type: "audio/mp4"
							, title: "live streamtheworld"
							, desc: "canal live de streamtheworld"
							, src: "MAXIMAFMAAC"
							, srcHTML5: "http://5293.live.streamtheworld.com:80/MAXIMAFM_SC"  
							, live: true
							, cdn: { provider: "streamtheworld" }*/
						}
						break;
						
					case 8:
						media =
						{
							type:"video/mp4"
							, title:"Una de las acampadas:\"Lo más importante, el espacio\""
							, desc:"Una de las acampadas:\"Lo más importante, el espacio\""
							, src:"http://ursmediafiles-mobile.media.streamtheworld.com/objetos/videos/dest/010001458476.mp4"
							, srcHTML5:"http://ursmediafiles-mobile.media.streamtheworld.com/objetos/videos/dest/010001458476.mp4"
							, live: false
							, poster: "http://www.cadenaser.com//recorte/20130415csrcsrsoc_5/XLCO/Ies/20130415csrcsrsoc_5.jpg"
							, cdn:{ provider : "streamtheworld" }
						}
						break;
					
					case 9:
						media = 
						{
							type:"video" 
							//type:"audio/mp4" 
							, tile:"Gatetes" 
							, src:"http://clips.vorwaerts-gmbh.de/VfE_html5.mp4"
							, srcHTML5: ["http://snapshot.opera.com/resources/BigBuckBunny.ogv", "http://clips.vorwaerts-gmbh.de/VfE_html5.mp4"] //video 
							//, srcHTML5: ["http://sdmedia.cadenaser.com//csermedia/cadenaser/media/201304/30/espana/20130430csrcsrnac_2_Ves_SVC.m4v"] //video
							//, srcHTML5: ["http://vmedia.cadenaser.com/cadenaser/2013/03/20130313csrcsrsoc_7_Aes_LAU.mp4"] //audio
							//, srcHTML5: ["http://vmedia.cadenaser.com/cadenaser/2013/03/20130313csrcsrsoc_7_Aes_LAU.mp4"] //audio
							, poster: "http://www.cadenaser.com//recorte/20130415csrcsrsoc_5/XLCO/Ies/20130415csrcsrsoc_5.jpg" 
							, cdn: { provider:"akamai"}
						}
						break;
						
					case 10:
						media = 
						{
							type: "video/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "http://liveser-f.akamaihd.net/PrisadRadioVDF_x_1@77247"
							, srcHTML5 : "http://universal-f.akamaihd.net/i/vdfhtml5_x@80213/master.m3u8"
							, live: true
							, cdn: { provider:"akamaihd"}
						};
						break;
						
					case 11:
						media = 
						{
							type: "video/mp4"
							, title: "titulo del audio"
							, desc: "desc del audio"
							, src : "http://zerihdndemo-f.akamaihd.net/z/h264/darkknight/darkknight.smil/manifest.f4m"
							, srcHTML5 : "http://zerihdndemo-f.akamaihd.net/z/h264/darkknight/darkknight.smil/manifest.f4m"
							, live: false
							, cdn: { provider:"akamaihds"}
						};
						break;
						
					case 12:
						media = 
						{
							type: "video/mp4"
							, src : "rtmp://cp67126.edgefcs.net/ondemand/mp4:mediapm/ovp/content/test/video/spacealonehd_sounas_640_300.mp4"
							//, src : "rtmp://cp14314.edgefcs.net/ondemand/14314/maxima/2012/09/IvanGough-Feenixpawl-Georgi Kay-InmyMind" //maxima
							//, src : "rtmp://cp54139.live.edgefcs.net/live/SerOndaMedia@44303" 
							//type: "audio/mp4" 
							//, src : "rtmp://cp54139.live.edgefcs.net/live/SER-NACIONAL@14995"  
							//, live: true
							, cdn: { provider:"akamai"}
						}
				}
				
				return media;
			}
			
			function shareFunction()
			{
				console.log("share function call");
			}
			
			function downFunction()
			{
				console.log("download function call");
			}
						
			function onMediaComplete()
			{
				console.log("FIN DE VIDEO !!!!!!");
				document.getElementById("console").value+="Fin de reproducción...\n";
			}
			
			function onMediaPlayerInitialized()
			{
				console.log("INICIALIZACION!!!!!!!");
				document.getElementById("console").value+="Inicialización del player completa...\n";
			}
			
			function onMediaBegin(evt)
			{
				console.log("PRINCIPIO DE VIDEO !!!!!!");
				document.getElementById("console").value+="Inicio de reproducción...\n";
			}
			
			function onCuePointData(evt)
			{
				console.log("CUEPOINT DATA!!!");
				console.log(evt.data);
			}
			
			function onMediaPlayerStart()
			{
				console.log("*** START");
				document.getElementById("console").value+="Reproducción en marcha(START EVENT)...\n";
			}
			
			function onMediaPlayerStop()
			{
				console.log("*** STOP");
				document.getElementById("console").value+="Reproducción parada(STOP EVENT)...\n";
			}
			
			function onMediaAdStart(evt)
			{
				console.log("onMediaAdStart - typeAd: " + evt.data.typeAd + "||width: " + evt.data.width + " -- height: " + evt.data.height);
				document.getElementById("console").value+="onMediaAdStart...\n";
			}
			
			function onMediaAdStop()
			{
				console.log("onMediaAdStop");
				document.getElementById("console").value+="onMediaAdStop...\n";
			}
			
			function onAdCompanionOn(evt) 
			{
				console.log("**onAdCompanionOn - companion: " + evt.data.companionAd + "|| type: " + evt.data.companionType); 
				document.getElementById("console").value+="onAdCompanionOn...\n"; 
			}
			
			function onAdCompanionOff()
			{
				console.log("---onAdCompanionOff");
				document.getElementById("console").value+="onAdCompanionOff...\n";
			}
			
		</script>
		
	</body> 
</html>