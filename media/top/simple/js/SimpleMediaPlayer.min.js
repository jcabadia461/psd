mm_simple_compilation= "26-10-2017 16:56:25";
Autor= "dmena";
function getDevice(){var a={};return a.agent=navigator.userAgent,a.mobile=is_MobileDevice(a.agent),a}function is_MobileDevice(a){return-1!=a.indexOf("iPhone")||-1!=a.indexOf("iPod")||-1!=a.indexOf("iPad")||-1!=a.indexOf("Android")}mm_simple_compilation="26-10-2017 16:56:25",function(a){void 0==a.psd&&(a.psd={}),void 0==a.psd.framework&&(a.psd.framework={}),void 0==a.psd.framework.events&&(a.psd.framework.events={}),void 0==a.psd.framework.parser&&(a.psd.framework.parser={}),void 0==a.psd.framework.mediator&&(a.psd.framework.mediator={}),void 0==a.psd.framework.mediator.jsonp&&(a.psd.framework.mediator.jsonp={}),void 0==a.psd.framework.utils&&(a.psd.framework.utils={}),a.psd.framework.debug=!1,-1!=a.location.href.indexOf("debug")&&(a.psd.framework.debug=!0)}(window),function(){function a(){if(o&&(k={msie:m,version:11}),n&&(k={msie:m,version:l.match(/msie (\d+(\.\d+)?);/i)[1]}),p&&(k={webkit:m,chrome:m,version:l.match(/chrome\/(\d+(\.\d+)?)/i)[1]}),(r||s)&&(k={webkit:m,mobile:m,ios:m,iphone:r,ipad:s},y.test(l)&&(k.version=l.match(y)[1])),t&&(k={webkit:m,android:m,mobile:m,version:"0"}),q){var a=l.match(y);a&&(k={webkit:m,safari:m,version:a[1]})}if(u){var a=l.match(y);a&&(k={opera:m,version:a[1]})}return w&&(k={gecko:m,mozilla:m,version:l.match(/firefox\/(\d+(\.\d+)?)/i)[1]},v&&(k.firefox=m)),x&&(k={seamonkey:m,version:l.match(/seamonkey\/(\d+(\.\d+)?)/i)[1]}),k}function b(a){return a.msie&&a.version<9?1:0}function c(a){return!!(a.msie&&a.version>8)||(!!p||(!!(a.safari&&a.version>=3.1)||!!(a.firefox&&a.version>=21&&A||a.firefox&&a.version>=22&&B||a.firefox&&a.version>=22&&E||a.firefox&&a.version>=22&&D||a.firefox&&a.version>=22&&C)))}function d(a){return c(a)}function e(a){return c(a)}function f(a){return!!(a.msie&&a.version>8)||(!!p||(!!(a.safari&&a.version>=3.1)||!!(a.firefox&&a.version>=21&&A||a.firefox&&a.version>=22&&B||a.firefox&&a.version>=22&&E||a.firefox&&a.version>=22&&D||a.firefox&&a.version>=22&&C)))}function g(a){return!!p||(!!(a.firefox&&a.version>=3.5)||(!!(a.gecko&&a.version>1.9)||!!(a.opera&&a.version>=10.5)))}function h(a){return!!p||(!!(a.firefox&&a.version>=4.2)||(!!(a.gecko&&a.version>=2)||!!(a.opera&&a.version>=10.6)))}function j(){if(t&&q){var a,b,c=l.match(/Android\s(\d+(\.\d+)?)/i)[1];return a=!(o||n||p||u||w||x),b=!(a&&c>=5),{compatible:b,nativeBrowser:a,androidVersion:c}}return{compatible:!1}}void 0==window.psd&&(window.psd={}),void 0==window.psd.framework&&(window.psd.framework={});var k,l=navigator.userAgent,m=!0,n=/msie/i.test(l),o=/.NET/i.test(l),p=/chrome/i.test(l),q=/safari/i.test(l)&&!p,r=/iphone/i.test(l),s=/ipad/i.test(l),t=/android/i.test(l),u=/opera/i.test(l),v=/firefox/i.test(l),w=/gecko\//i.test(l),x=/seamonkey\//i.test(l),y=/version\/(\d+(\.\d+)?)/i;checkWIN7orHigher=function(a){var b=window.navigator.userAgent.match(/NT [0-9.]+/g),c="";if(null==b)return!1;for(b=b[0],i=0;i<b.length;i++)isNaN(b[i])&&"."!=b[i]||(c+=b[i]);return(c=parseFloat(c))>=a};var z=window.navigator.userAgent,A=checkWIN7orHigher("6.1"),B=/Windows NT 6.0/i.test(z),C=/Ubuntu/i.test(z),D=/Linux/i.test(z),E=/Mac OS X/i.test(z);psd.framework.ua=a(),psd.framework.androidNativeBrowser=j(),psd.framework.compatibility=b(psd.framework.ua),psd.framework.mp3AudioCompatible=c(psd.framework.ua),psd.framework.mp4AudioCompatible=d(psd.framework.ua),psd.framework.aacAudioCompatible=e(psd.framework.ua),psd.framework.mp4VideoCompatible=f(psd.framework.ua),psd.framework.oggVideoCompatible=g(psd.framework.ua),psd.framework.webmVideoCompatible=h(psd.framework.ua)}();var FlashDetect=new function(){var a=this;a.release="1.0.2",a.installed=!1,a.major=-1,a.minor=-1,a.revision=-1,a.revisionStr="",a.activeXVersion="";var b=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(a){return c(a)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(a){var b="6,0,21";try{a.AllowScriptAccess="always",b=c(a)}catch(a){}return b}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(a){return c(a)}}],c=function(a){var b=-1;try{b=a.GetVariable("$version")}catch(a){}return b},d=function(a){var b=-1;try{b=new ActiveXObject(a)}catch(a){}return b},e=function(a){var b=a.split(",");return{major:parseInt(b[0].split(" ")[1],10),minor:parseInt(b[1],10),revision:parseInt(b[2],10),revisionStr:b[2]}},f=function(b){return parseInt(b.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(b){return a.major>=b},a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var c="application/x-shockwave-flash",g=navigator.mimeTypes;if(g&&g[c]&&g[c].enabledPlugin&&g[c].enabledPlugin.description){var h=g[c].enabledPlugin.description,i=h.split(" "),j=i[2].split(".");a.major=parseInt(j[0],10),a.minor=parseInt(j[1],10),a.revisionStr=i[3],a.revision=f(a.revisionStr),a.installed=!0}}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript)for(var k=-1,l=0;l<b.length&&-1==k;l++){var m=d(b[l].name);if("object"==typeof m&&(a.installed=!0,-1!=(k=b[l].version(m)))){var n=e(k);a.major=n.major,a.minor=n.minor,a.revision=n.revision,a.revisionStr=n.revisionStr,a.activeXVersion=k}}}()};!function(a){function b(){throw"Log cannot be instantiated"}function c(a,b,arguments){var c="",d=0;for(d=0;d<arguments.length;d++)c+=" "+arguments[d],c+=d==arguments.length-1?"":",";psd.framework.debug&&console.log("["+b+"] "+a+" -> "+c)}b.LEVEL_LOG=0,b.LEVEL_DEBUG=1,b.LEVEL_INFO=2,b.LEVEL_WARNING=3,b.LEVEL_ERROR=4,b.LEVEL_FATAL=5,b.enabled=!0,b.level=b.LEVEL_LOG,b._LEVEL_LOG_NAME="log",b._LEVEL_DEBUG_NAME="debug",b._LEVEL_INFO_NAME="info",b._LEVEL_WARNING_NAME="warning",b._LEVEL_ERROR_NAME="error",b._LEVEL_FATAL_NAME="fatal",b._counter=0,b.log=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_LOG&&c(b._LEVEL_LOG_NAME,b._counter++,arguments)},b.debug=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_DEBUG&&c(b._LEVEL_DEBUG_NAME,b._counter++,arguments)},b.info=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_INFO&&c(b._LEVEL_INFO_NAME,b._counter++,arguments)},b.warn=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_WARNING&&c(b._LEVEL_WARNING_NAME,b._counter++,arguments)},b.error=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_ERROR&&c(b._LEVEL_ERROR_NAME,b._counter++,arguments)},b.fatal=function(){window.console&&b.enabled&&arguments.length>0&&b.level<=b.LEVEL_FATAL&&c(b._LEVEL_FATAL_NAME,b._counter++,arguments)},b.clear=function(){b._counter=0},a.Log=b}(window),function(a){function b(a){this.type=a,this.target=null}a.Event=b}(psd.framework),function(a){function b(){var a={};this.addEventListener=function(b,c,d){a[b]||(a[b]=[]),a[b].push({listener:c,scope:d})},this.removeEventListener=function(b,c,d){var e=0,f=a[b].length,g=[];for(e=0;e<f;e++)a[b][e].listener===c&&a[b][e].scope===d||g.push(a[b][e]);a[b]=g},this.dispatchEvent=function(b){var c=0;if(void 0!==b.type&&(b.target=this,a[b.type]))for(c=0;c<a[b.type].length;c++)a[b.type][c].listener.apply(a[b.type][c].scope,[b])}}a.EventDispatcher=b}(psd.framework),function(a){function b(a,b){psd.framework.Event.call(this,a);var c=void 0!==b&&null!=b;this.id=c&&b.id?b.id:"",this.message=c&&b.message?b.message:""}b.prototype=new psd.framework.Event,a.ErrorEvent=b}(psd.framework),function(a){function b(a){psd.framework.Event.call(this,a)}b.prototype=new psd.framework.Event,b.TIMER="timer",b.TIMER_COMPLETE="timerComplete",a.TimerEvent=b}(psd.framework.events),function(a){function b(){psd.framework.EventDispatcher.call(this);var a="0",c="",d=null,e=!1,f=b.RESPONSE_XML,g=this,h=null,i=function(a){return function(b){j.apply(a,[b])}}(this),j=function(b){var c=b,d=new psd.framework.MediatorResult(psd.framework.MediatorResult.MEDIATOR_SUCCESS_CODE,psd.framework.MediatorResult.MEDIATOR_SUCCESS,c);g.dispatchEvent(new psd.framework.MediatorEvent(psd.framework.MediatorEvent.MEDIATE_COMPLETE,a,d))};return this.corsIE=function(a){return a&&a!=e&&(e=a),e},this.setCustomCallback=function(a){h=a},this.mediate=function(j,k,l){var m,n,o;responseData="",mediationID=b.getNextKey(),a="mediate_"+mediationID,c=j,d=k,!l||l!=b.RESPONSE_TEXT&&l!=b.RESPONSE_XML&&l!=b.RESPONSE_JSON&&l!=b.RESPONSE_JSONP||(f=l),f==b.RESPONSE_JSONP?(n=document.createElement("script"),n.setAttribute("type","text/javascript"),h?(n.setAttribute("src",j),window[h]=i):(o=j.indexOf("?")>-1?"&":"?",n.setAttribute("src",j+o+"jsonp=psd.framework.mediator.jsonp."+a),psd.framework.mediator.jsonp[a]=i),document.getElementsByTagName("head")[0].appendChild(n)):(window.XDomainRequest&&e?(m=new XDomainRequest,m.onerror=function(){mediatorResult=new psd.framework.MediatorResult(psd.framework.MediatorResult.MEDIATOR_ERROR_CODE,psd.framework.MediatorResult.MEDIATOR_ERROR,null),g.dispatchEvent(new psd.framework.MediatorEvent(psd.framework.MediatorEvent.MEDIATE_ERROR,a,mediatorResult))},m.onload=function(){switch(f){case b.RESPONSE_TEXT:responseData=m.responseText;break;case b.RESPONSE_XML:responseData=new ActiveXObject("Microsoft.XMLDOM"),responseData.async="false",responseData.loadXML(m.responseText);break;case b.RESPONSE_JSON:responseData=m.responseText}var c=d.parse(responseData);mediatorResult=new psd.framework.MediatorResult(psd.framework.MediatorResult.MEDIATOR_SUCCESS_CODE,psd.framework.MediatorResult.MEDIATOR_SUCCESS,c),g.dispatchEvent(new psd.framework.MediatorEvent(psd.framework.MediatorEvent.MEDIATE_COMPLETE,a,mediatorResult))}):(m=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),m.onreadystatechange=function(){switch(m.readyState){case b._STATE_REQUEST_NOT_INITIALIZED_CODE:case b._STATE_SERVER_CONECTION_STABLISHED_CODE:case b._STATE_REQUEST_RECEIVED_CODE:case b._STATE_REQUEST_PROCESSING_CODE:break;case b._STATE_REQUEST_FINISHED_CODE:var c;if(m.status==b._REQUEST_OK_CODE){switch(f){case b.RESPONSE_TEXT:responseData=m.responseText;break;case b.RESPONSE_XML:responseData=m.responseXML;break;case b.RESPONSE_JSON:responseData=m.responseText}var e=d.parse(responseData);c=new psd.framework.MediatorResult(psd.framework.MediatorResult.MEDIATOR_SUCCESS_CODE,psd.framework.MediatorResult.MEDIATOR_SUCCESS,e),g.dispatchEvent(new psd.framework.MediatorEvent(psd.framework.MediatorEvent.MEDIATE_COMPLETE,a,c))}else c=new psd.framework.MediatorResult(psd.framework.MediatorResult.MEDIATOR_ERROR_CODE,psd.framework.MediatorResult.MEDIATOR_ERROR,null),g.dispatchEvent(new psd.framework.MediatorEvent(psd.framework.MediatorEvent.MEDIATE_ERROR,a,c))}}),m.open(b.REQUEST_GET,c,!0),m.send())},a}b.prototype=new psd.framework.EventDispatcher,b._REQUEST_OK_CODE=200,b._REQUEST_ERROR_CODE=404,b._STATE_REQUEST_NOT_INITIALIZED_CODE=0,b._STATE_SERVER_CONECTION_STABLISHED_CODE=1,b._STATE_REQUEST_RECEIVED_CODE=2,b._STATE_REQUEST_PROCESSING_CODE=3,b._STATE_REQUEST_FINISHED_CODE=4,b.REQUEST_GET="GET",b.REQUEST_POST="POST",b.REQUEST_HEAD="HEAD",b.RESPONSE_TEXT="text",b.RESPONSE_XML="xml",b.RESPONSE_JSON="json",b.RESPONSE_JSONP="jsonp",b._nextID=0,b.getNextKey=function(){return b._nextID++},a.Mediator=b}(psd.framework),function(a){function b(a,b,c){psd.framework.Event.call(this,a),this.id=b,this.result=c}b.prototype=new psd.framework.Event,b.MEDIATE_COMPLETE="mediate_complete",b.MEDIATE_ERROR="mediate_error",a.MediatorEvent=b}(psd.framework),function(a){function b(a,b,c){this.code=a,this.msg=b,this.parserResult=c}b.MEDIATOR_SUCCESS_CODE=0,b.MEDIATOR_ERROR_CODE=1,b.MEDIATOR_SECURITY_ERROR=2,b.MEDIATOR_IO_ERROR=3,b.MEDIATOR_SUCCESS="mediator_success",b.MEDIATOR_ERROR="mediator_error",b.MEDIATOR_SECURITY_ERROR="mediator_security_error",b.MEDIATOR_IO_ERROR="mediator_io_error",a.MediatorResult=b}(psd.framework),function(a){function b(){this.parse=function(a){return new psd.framework.ParserResult(psd.framework.ParserResult.PARSER_SUCCESS_CODE,psd.framework.ParserResult.PARSER_SUCCESS,a)}}a.Parser=b}(psd.framework),function(a){function b(){psd.framework.Parser.call(this),this.className="psd.framework.parser.JSONParser",this.parse=function(a){var b=new psd.framework.ParserResult(psd.framework.ParserResult.PARSER_ERROR_CODE,psd.framework.ParserResult.PARSER_ERROR,a);if("undefined"!=typeof JSON&&void 0!==JSON.parse)try{b.result="object"==typeof a?a:JSON.parse(a),b.code=psd.framework.ParserResult.PARSER_SUCCESS_CODE,b.msg=psd.framework.ParserResult.PARSER_SUCCESS}catch(a){b.msg=a.message}return b}}b.prototype=new psd.framework.Parser,a.JSONParser=b}(psd.framework.parser),function(a){function b(a,b,c){this.code=a,this.msg=b,this.result=c}b.PARSER_SUCCESS_CODE=0,b.PARSER_ERROR_CODE=1,b.PARSER_SUCCESS="parser_success",b.PARSER_ERROR="parser_error",a.ParserResult=b}(psd.framework),function(a){function b(){}b.merge=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},a.ObjectUtil=b}(psd.framework),function(a){function b(){}b.trim=function(a){return a.replace(/^\s+/g,"").replace(/\s+$/g,"")},a.StringUtil=b}(psd.framework),function(a){function b(a,b){psd.framework.EventDispatcher.call(this),this.className="psd.framework.utils.Timer";var c=null,d=function(a){return function(){e.apply(a)}}(this),e=function(){f++,this.dispatchEvent(new psd.framework.events.TimerEvent(psd.framework.events.TimerEvent.TIMER)),0!=h&&h==f&&(this.reset(),this.dispatchEvent(new psd.framework.events.TimerEvent(psd.framework.events.TimerEvent.TIMER_COMPLETE)))},f=0;this.currentCount=function(){return f};var g=void 0!=a?a:1e3;this.delay=function(a){return void 0!=a&&a>0&&(g=a),g};var h=void 0!=b?b:0;this.repeatCount=function(a){return void 0!=a&&a>0&&(h=a),h};var i=!1;this.running=function(){return i},this.start=function(){i||(c=setInterval(d,g),i=!0)},this.stop=function(){i&&(clearInterval(c),i=!1)},this.reset=function(){this.stop(),f=0}}b.prototype=new psd.framework.EventDispatcher,a.Timer=b}(psd.framework.utils),function(a){function b(){var a=[],b=[],c=null,d=null;this.load=function(a){var b=_validateItem(a);if(""!=b)return void(psd.framework.debug&&console.log("Invalid load item: "+b));_checkDependencies(a.depends)?a.success.apply(a.scope):_loadDependencies(a)},_validateItem=function(a){var b="";return void 0===a&&(b="null loaditem"),void 0===a.depends&&(b="null depends"),null!=a.depends&&"string"!=typeof a.depends&&"object"!=typeof a.depends&&(b="illegal depends type "+typeof a.depends),"function"!=typeof a.success&&(b="success is not a function"),"function"!=typeof a.error&&(b="error is not a function"),"string"==typeof a.depends&&(a.depends=[a.depends]),b},_checkDependencies=function(a){var b,c=!0;for(b in a)if(!(c=c&&_checkDependency(a[b])))break;return c},_checkDependency=function(b){var c;for(c in a)if(a[c]==b)return!0;return!1},_loadDependencies=function(a){var d;if(null==c&&0==b.length||c==a){if(c=a,_checkDependencies(a.depends))_dependencyLoaded();else for(d in a.depends)if(!_checkDependency(a.depends[d])){_loadDependency(a.depends[d]);break}}else b.push(a)},_loadDependency=function(a){psd.framework.debug&&console.log("loading dependency "+a),d=a;var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",navigator.appName.indexOf("Microsoft")>=0?c.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(_dependencyLoaded(),c.onreadystatechange=null)}:c.onload=_dependencyLoaded,c.src=d,b.appendChild(c)},_dependencyLoaded=function(){psd.framework.debug&&console.log("successfully loaded dependency "+d),a.push(d),d="",_checkDependencies(c.depends)?(c.success.apply(c.scope),c=null,b.length>0&&(c=b.shift(),_loadDependencies(c))):_loadDependencies(c)}}a.LibraryManager=new b}(window),function(a){void 0==a.psd&&(a.psd={}),void 0==a.psd.media&&(a.psd.media={}),void 0==a.psd.media.skins&&(a.psd.media.skins={}),void 0==a.psd.media.skins.generic&&(a.psd.media.skins.generic={}),void 0==a.psd.media.wrappers&&(a.psd.media.wrappers={}),void 0==a.emic&&(a.emic={}),void 0==a.emic.top&&(a.emic.top={})}(window),function(a){function b(a){psd.framework.EventDispatcher.call(this),this.className="psd.media.SimpleMediaPlayer";var b="/psdmedia/resources/js/ext/swfobject/swfobject.js",c="http://admin.brightcove.com/js/BrightcoveExperiences.js",d="_simple",e=a,f=null,g=function(){playerContainer.innerHTML="<p>Ha sucedido un error inesperado. Por favor, vuelva a intentarlo m&aacute;s tarde.</p>"},h=function(){var a=document.getElementById(e.player.container);if(a)for(;a.firstChild;)a.removeChild(a.firstChild)},j=function(){f=new psd.media.wrappers.FlashMediaPlayerWrapper(e),m.apply(this)},k=function(){f=new psd.media.wrappers.HTML5MediaPlayerWrapper(e),m.apply(this)},l=function(){f=new psd.media.wrappers.BCMediaPlayerWrapper(e),m.apply(this)},m=function(){f.addEventListener(psd.media.MediaEvent.INITIALIZED,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_BEGIN,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_START,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_STOP,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_FIRST_QUART,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_HALF,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_THIRD_QUART,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_COMPLETE,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_PREVIOUS,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_NEXT,n,this),f.addEventListener(psd.media.MediaEvent.AD_START,n,this),f.addEventListener(psd.media.MediaEvent.AD_SKIP,n,this),f.addEventListener(psd.media.MediaEvent.AD_COMPLETE,n,this),f.addEventListener(psd.media.MediaEvent.CUEPOINT_DATA,n,this),f.addEventListener(psd.media.MediaEvent.ESTADO_BUFFER_FULL,n,this),f.addEventListener(psd.media.MediaEvent.ESTADO_BUFFER_EMPTY,n,this),f.addEventListener(psd.media.MediaEvent.MEDIA_PROGRESS,n,this),f.addEventListener(psd.media.MediaEvent.AD_COMPANION_ON,n,this),f.addEventListener(psd.media.MediaEvent.AD_COMPANION_OFF,n,this)},n=function(a){a.data=a.data||{},a.data.name=e.media.title,a.data.idTop=e.id,void 0!==e.extra&&void 0!==e.extra.description&&(a.data.playerName=e.extra.description),a.data.mediaType=e.media.live?"streaming":-1!=e.media.type.indexOf("video")?"vod":"aod",a.data.mediaTypeMode=-1!=e.ws.mediaType.indexOf("video")?"video":"audio",a.data.progressTime=0==parseInt(a.data.time)?"0":parseInt(a.data.time),a.data.live=e.media.live,a.data.topPageTitle=encodeURIComponent(window.document.location.href),a.data.trafficsource=encodeURIComponent(window.document.referrer),a.data.agency="propio",this.dispatchEvent(a)};this.play=function(){void 0!==f&&null!=f&&f.play()},this.pause=function(){void 0!==f&&null!=f&&f.pause()},this.requestFullScreen=function(){void 0!==f&&null!=f&&f.requestFullScreen()},this.cancelFullScreen=function(){void 0!==f&&null!=f&&f.cancelFullScreen()},this.requestTheatreMode=function(){void 0!==f&&null!=f&&document.getElementById(e.id+d).setAttribute("class","theatre")},this.cancelTheatreMode=function(){void 0!==f&&null!=f&&document.getElementById(e.id+d).removeAttribute("class")},this.isPlaying=function(){var a=!1;if(null!=f&&void 0!==f){try{void 0!==f.isPlaying&&(a=f.isPlaying())}catch(a){}try{void 0!==f.paused&&(a=!f.paused)}catch(a){}}return a},this.setVolume=function(a){void 0!==f&&null!=f&&f.volume(a)},this.setMute=function(){void 0!==f&&null!=f&&f.mute()},this.setCurrentTime=function(a){void 0!==f&&null!=f&&f.currentTime(a)},this.setProgressEvent=function(a){void 0!==f&&null!=f&&f.setProgressEvent(a)},this.load=function(a){var b,c={};if(void 0!==a){if(void 0!==a.type&&(c.mediaType=a.type),void 0!==a.title&&(c.mediaTitle=a.title),void 0!==a.desc&&(c.mediaDescription=a.desc),void 0!==a.poster&&(c.poster=a.poster),void 0!==a.src&&(c.mediaSrc=a.src),void 0!==a.srcHtml5&&(c.mediaSrcHtml5=a.srcHtml5),void 0!==a.live&&(c.mediaLive=a.live),void 0!==a.renditions){for(var d="",e=0;e<a.renditions.length;e++)e==a.renditions.length-1?d+=a.renditions[e]:d+=a.renditions[e]+",";c.renditions=d}if(void 0!==a.cdn)for(b in a.cdn)c["cdn_"+b]=a.cdn[b]}void 0!==f&&null!=f&&f.load(c)},this.init=function(){var a,b,c,d,f,g,j;if(h.apply(this),d=e,c=void 0!==d.base?d.base:"",null==d.player||null==d.player.container)return void(psd.media.debug&&console.log("Player container is not defined. Aborting instantiation of player "+d.id));if(null==(a=document.getElementById(d.player.container)))return void(psd.media.debug&&console.log("Player container is missing. Aborting instantiation of player "+d.id));if(b=getDevice(),psd.media.debug&&console.log("Instantiating media player in: "+b.agent),d.player.mode)for(f=d.player.mode,g=f.split(","),i=0;i<g.length;i++){if("directlink"==g[i]){o.apply(this,[a,d]);break}if("flash"!=g[i]){if("html5"==g[i]){q.apply(this,[d]);break}}else if(j=i==g.length-1,p.apply(this,[a,c,j]))break}else null==b||b.mobile?q.apply(this,[d]):p.apply(this,[a,c,!0])};var o=function(a,b){var c;c=void 0==b.media.directLinkUrl?b.media.src:b.media.directLinkUrl,a.innerHTML='<div><a target="_blank" href="'+c+'">Ver video</a></div>'},p=function(a,c,d){var e;return psd.media.debug&&console.log("Initializing standard configuration..."),FlashDetect.major<10?d?(e=!0,a.innerHTML='<div id="noFlash" style="font: 11px Verdana,Arial,Sans Serif; color: white; vertical-align: middle; background-color: black;"><p>Para visualizar este contenido es necesaria una versión actualizada de Flash Player</p><a target="_blank" href="http://get.adobe.com/flashplayer/"><img border="0" src="http://www.adobe.com/misc/images/160x41_get_flashplayer.gif"></a></div>'):e=!1:(e=!0,swfobjectLibrary={depends:c+b,success:j,error:g,scope:this},LibraryManager.load(swfobjectLibrary)),e},q=function(a){psd.media.debug&&console.log("Initializing html5 configuration..."),void 0!==a.media&&void 0!==a.media.cdn&&void 0!==a.media.cdn.provider&&"brightcove"==a.media.cdn.provider?(psd.media.debug&&console.log("Initializing Brightcove player..."),brightcoveExperienceLibrary={depends:c,success:l,error:g,scope:this},LibraryManager.load(brightcoveExperienceLibrary)):k.apply(this)},r=".theatre{position:absolute; width:100%; height:100%; top:0; left:0; z-index:10000}",s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(s)}b.prototype=new psd.framework.EventDispatcher;var c=function(a){var b=!1;if(void 0!==window.mm_debug&&""!=window.mm_debug&&0!=window.mm_debug&&"0"!=window.mm_debug){b=!0,window.mm_debug+="";var c=window.mm_debug.split("|");if(void 0!==a){a=a.split("|"),b=!1;for(var d in a)for(var e in c)a[d]!=c[e]&&"all"!=c[e]||(b=!0)}else{b=!1;for(var e in c)"all"==c[e]&&(b=!0)}}return b};emic.top.debug=function(a,b,d){if(emic.top.debugTop||c(d)){var e=new Date,f="["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"]"+a;void 0!=typeof console&&(console.debug?console.debug(f,b||""):console.log&&console.log(f,b||""));var g=document.getElementById(emic.top.externalConsole);if(g){var h;if("object"==typeof b){h="\n";for(var i in b)h+="  --> "+i+": "+b[i]+"\n"}else h=void 0==b?"":b;g.innerHTML=g.innerHTML+"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"]"+a+h+"\n"}}},a.SimpleMediaPlayer=b}(psd.media),function(a){function b(a,b){psd.framework.Event.call(this,a),this.data=b}b.prototype=new psd.framework.Event,b.MEDIA_BEGIN="mediaBegin",b.MEDIA_START="mediaStart",b.MEDIA_STOP="mediaStop",b.MEDIA_FIRST_QUART="mediaFirstQuart",b.MEDIA_HALF="mediaHalf",b.MEDIA_THIRD_QUART="mediaThirdQuart",b.AD_START="adStart",b.AD_SKIP="adSkip",b.AD_COMPLETE="adComplete",b.MEDIA_COMPLETE="mediaComplete",b.MEDIA_PREVIOUS="mediaPrevious",b.MEDIA_NEXT="mediaNext",b.ESTADO_BUFFER_FULL="estadoBufferFull",b.ESTADO_BUFFER_EMPTY="estadoBufferEmpty",b.MEDIA_PROGRESS="mediaProgress",b.CUEPOINT_DATA="CUEPOINT_DATA",b.INITIALIZED="INITIALIZED",b.AD_COMPANION_ON="adCompanionOn",b.AD_COMPANION_OFF="adCompanionOff",this.data=null,a.MediaEvent=b}(psd.media),function(a){function b(a,b){psd.framework.Event.call(this,a),this.data=b}b.prototype=new psd.framework.Event,b.EVENT_INI="TopLauncherInitialized",b.EVENT_ERROR="TopEmbedError",this.data=null,a.TopEmbedEvent=b}(psd.media),function(a){function b(a,b){psd.framework.Event.call(this,a),this.data=b}b.prototype=new psd.framework.Event,b.EVENT_INIT="TopEventPlaylistInitialized",b.EVENT_ERROR="TopEmbedPlaylistError",this.data=null,a.TopEmbedEventPlaylist=b}(psd.media),function(a){function b(a,b){psd.framework.Event.call(this,a),this.data=b}b.prototype=new psd.framework.Event,b.EVENT_ERROR="eventError",b.DATA_REQUEST="dataRequest",b.DATA_COMPLETE="dataComplete",b.MEDIA_CHANGE="mediaChange",b.PLAYLIST_COMPLETE="playlistComplete",this.data=null,a.PlaylistEvent=b}(psd.media),function(a){function b(a,b){psd.framework.Event.call(this,a),this.data=b}b.prototype=new psd.framework.Event,b.EVENT_INI="MediaPlayerInitialized",b.EVENT_ERROR="TopLauncheError",this.data=null,a.TopLauncherEvent=b}(psd.media),function(a){function b(){var a=this;this.onclick=null,this.paint=function(b,c,d){_container=document.getElementById(b),_message=c,_container.style.position="relative";var e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.textAlign="center",e.style.top=0,e.style.left=0,e.style.backgroundColor="rgba(0,0,0,0.9)",e.style.display="table",e.className="mm_infopanel_background",e.style.zIndex=1e3,e.style.cursor="pointer";var f=document.createElement("div");f.style.margin="auto",f.className="mm_infopanel_message",f.style.color="white",f.style.fontFamily="Arial",f.style.display="table-cell",f.style.verticalAlign="middle",f.innerHTML=c,e.appendChild(f),null!=this.onclick&&(e.onclick=function(){a.onclick(e)}),d||(_container.innerHTML=""),_container.appendChild(e)}}a.InfoPanel=b}(psd.media),function(a){function b(){var a={es:{contenido_no_disponible:"Contenido no disponible",trans_no_disponible:"No disponible para este dispositivo",trans_no_comenzado:"La retransmisión aún no ha comenzado",trans_reanudara:"La retransmisión se reanudará en breve",trans_finalizada:"La retransmisión ha finalizado",publicidad:"Publicidad",actualizar_plugin:"Necesitas actualizar tu plugin de Flash",no_mp4:"El navegador no admite vídeo HTML5/MP4",no_mp3:"El navegador no admite audio HTML5/MP3",geobloqueado:"Contenido no disponible en su zona geográfica",bloqueado:"Contenido compartido bloqueado",aun_no_disponible:"El contenido no está disponible todavía",no_disponible:"El contenido no está disponible",audio_geobloqueado:"Audio no disponible en su zona geográfica",audio_aun_no_disponible:"Audio no disponible todavía",audio_no_disponible:"Audio ya no disponible",audio_no_encontrado:"Audio no encontrado",necesita_plugin:"Necesita instalar el plugin de flash para ver este contenido",no_encontrado:"Contenido no encontrado",cerrar:"Cerrar",tamanio_real:"Tamaño real",ver_perfil_eskup:"Ver perfil en Eskup",teclear_usuario:"Tienes que teclear usuario y contraseña",error_correo:"El campo 'usuario' no parece un correo electrónico. Por favor, revísalo.",foto:"Foto",tamanio_ventana:"Tamaño ventana",ver_perfil_completo:"Ver perfil completo",avatar:"Avatar",ver_video:"Ver vídeo",vervideo_svg:"//ep00.epimg.net/reproductores/vervideo.svg",directo:"EMISIÓN EN DIRECTO",siguiente_noticia:"Siguiente noticia",anterior_noticia:"Noticia anterior",primera_noticia:"No hay noticia anterior",ultima_noticia:"No hay más noticias"},en:{},ca:{contenido_no_disponible:"Contingut no disponible",trans_no_disponible:"Transmissió no disponible per a aquest dispositiu",trans_no_comenzado:"La retransmissió encara no ha començat",trans_reanudara:"La retransmissió es reprendrà aviat",trans_finalizada:"La retransmissió ha finalitzat",publicidad:"Publicitat",actualizar_plugin:"Necessites actualitzar el teu plugin de Flash",no_mp4:"El navegador no admet vídeo HTML5/MP4",no_mp3:"El navegador no admet HTML5/MP3",geobloqueado:"Contingut no disponible en la seva zona geogràfica",bloqueado:"Contingut compartit bloquejat",aun_no_disponible:"El contingut encara no està disponible",no_disponible:"El contingut no està disponible",audio_geobloqueado:"Áudio no disponible en la seva zona geogràfica",audio_aun_no_disponible:"Àudio no disponible encara",audio_no_disponible:"Àudio ja no disponible",audio_no_encontrado:"Áudio no trobat",necesita_plugin:"Necessita instal·lar el plugin de Flash per veure aquest contingut",no_encontrado:"Contingut no trobat",cerrar:"Tancar",tamanio_real:"Mida real",ver_perfil_eskup:"Veure perfil en Eskup",teclear_usuario:"Has de teclejar usuari i contrasenya",error_correo:"El camp 'usuari' no sembla un correu electrònic. Sisplau, revisa'l",foto:"Foto",tamanio_ventana:"Mida finestra",ver_perfil_completo:"Veure perfil complet",avatar:"Avatar",ver_video:"Veure Vídeo",vervideo_svg:"//ep00.epimg.net/reproductores/vervideo_ca.svg",directo:"EMISSIÓ EN DIRECTE",siguiente_noticia:"Propera notícia",anterior_noticia:"Notícia anterior",primera_noticia:"No hi ha notícia anterior",ultima_noticia:"No hi ha més notícies"},"pt-br":{contenido_no_disponible:"Contenido não disponível",trans_no_disponible:"Indisponível para este dispositivo",trans_no_comenzado:"La retransmisión aún no ha comenzado",trans_reanudara:"La retransmisión se reanudará en breve",trans_finalizada:"La retransmisión ha finalizado",publicidad:"Publicidade",actualizar_plugin:"Você precisa atualizar seu plugin Flash",no_mp4:"O navegador não suporta vídeo HTML5/MP4",no_mp3:"O navegador não suporta HTML5/MP3",geobloqueado:"Contenido não disponível para sua região",bloqueado:"Contenido compartido bloqueado",aun_no_disponible:"O contenido ainda não está disponível",no_disponible:"O contenido não está disponível",audio_geobloqueado:"Audio no disponible en su zona geográfica",audio_aun_no_disponible:"Audio no disponible todavía",audio_no_disponible:"Audio ya no disponible",audio_no_encontrado:"Audio no encontrado",necesita_plugin:"Você precisa instalar o plugin flash para ver este conteúdo",no_encontrado:"Contenido não encontrado",cerrar:"Fechar",tamanio_real:"Tamanho real",ver_perfil_eskup:"Ver perfil em Eskup",teclear_usuario:"Digite usuário e senha",error_correo:"O campo 'usuário' não parece ser um e-mail. Por favor, verifique",foto:"Foto",tamanio_ventana:"Tamanho Janela",ver_perfil_completo:"Ver perfil completo",avatar:"Avatar",ver_video:"Ver vídeo",vervideo_svg:"//ep00.epimg.net/reproductores/vervideo_pt-br.svg",directo:"AO VIVO",siguiente_noticia:"Próxima notícia",anterior_noticia:"Notícias anteriores",primera_noticia:"Nenhuma notícia anterior",ultima_noticia:"Sem mais notícias"}},b=["À","Á","Â","Ã","Ä","à","á","â","ã","ä","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ò","Ó","Ô","Õ","Ö","ò","ó","ô","õ","ö","Ù","Ú","Û","Ü","ù","ú","û","ü","Ñ","ñ","Ç","ç"],c=["À","Á","Â","Ã","Ä","à","á","â","ã","ä","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ò","Ó","Ô","Õ","Ö","ò","ó","ô","õ","ö","Ù","Ú","Û","Ü","ù","ú","û","ü","Ñ","ñ","Ç","ç"];this.translate=function(b,c){return void 0===a[b]?"":null==a[b][c]?null!=a.es[c]?a.es[c]:"":a[b][c]},this.translateText=function(a,b){var c=/{{lang:[A-Za-z0-9\_\-]*}}/g,d=b.match(c);for(var e in d){var f=d[e].replace("{{lang:","").replace("}}","");b=b.replace(d[e],this.translate(a,f))}return b},this.addTranslation=function(b,c,d){a[b],a[b]={},a[b][c]=d},this.addTranslations=function(b){for(var c in b){void 0===a[c]&&(a[c]={});for(var d in b[c])a[c][d]=b[c][d]}},this.UNICODE=function(a){for(var d in b){var e=new RegExp(b[d],"g");a=a.replace(e,c[d])}return a}}a.Lang=b}(psd.media),function(a){function b(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p=this,q=a,r=b,s=c,t=d,u=e,v=!1,w="/psdmedia/media/simple/skinsNextPanel/{UDN}/assets/template.html",x="/psdmedia/media/simple/skinsNextPanel/{UDN}/assets/style.css";_CODE_NUM_PARSER_OK=0,_CODE_NUM_PARSER_ERROR=1;var y=r,z=t,A=function(){w=w.replace("{UDN}",y);var a=new psd.framework.Parser,b=new psd.framework.Mediator,c=z?z+w:w;b.corsIE(!0),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,C,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,D,this),b.mediate(c,a,psd.framework.Mediator.RESPONSE_TEXT)},B=function(){x=x.replace("{UDN}",y);var a=document.createElement("link"),b=z?z+x:x;a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",b),void 0!==a&&document.getElementsByTagName("head")[0].appendChild(a)},C=function(a){a.result.parserResult.code==_CODE_NUM_PARSER_OK?f=a.result.parserResult.result.replace(/{<-%ID%->}/g,u):(a.result.parserResult.code,_CODE_NUM_PARSER_ERROR)},D=function(a){};A(),B(),this.showPanel=function(a,b,c,d){var e=document.getElementById(s);document.getElementById("mm_next_panel_"+u)||(elementHTML=document.createElement("div"),elementHTML.id="mm_next_panel_"+u,elementHTML.className="mm_nextpanel",elementHTML.style.display="none",elementHTML.innerHTML=f,e.appendChild(elementHTML));var r=function(a){return document.getElementById(a+u)};g=r("mm_next_panel_"),h=r("mm_nextMedia_"),i=r("mm_repeatMedia_"),j=r("mm_nextTime_"),n=r("mm_nextThumb_"),o=r("mm_nextText_"),n.src=a,o.innerHTML=b,m=q,j.innerHTML=q,h.onclick=function(a){return function(){p.killPanel(),c()}}(),n.onclick=function(a){return function(){p.killPanel(),c()}}(),o.onclick=function(a){return function(){p.killPanel(),c()}}(),i.onclick=function(a){return function(){p.killPanel(),j.innerHTML=m,d()}}(),k=function(a){return function(){var a=m;l=setInterval(function(){0!=a?(a--,j.innerHTML=a):(p.killPanel(),c())},1e3)}}(),p.viewPanel()},this.viewPanel=function(a){v=!0,k(),g.style.display=""},this.isShowPanel=function(){return v},this.killPanel=function(){void 0!==g&&(g.style.display="none"),clearInterval(l),v=!1}}a.NextPanel=b}(psd.media),function(a){function b(b){psd.framework.EventDispatcher.call(this),this.className="psd.media.wrappers.BCMediaPlayerWrapper";var c,d,e,f=b,g=!1,h="_simple",i=function(a,b){var c=document.createElement("param");return c.setAttribute("name",a),c.setAttribute("value",b),c};a._deferredOnBCTemplateLoaded=function(a){return function(b){j.apply(a,[b])}}(this);var j=function(a){var b,c;b=brightcove.api.getExperience(a),c=b.getModule(brightcove.api.modules.APIModules.EXPERIENCE),c.addEventListener(brightcove.api.events.ExperienceEvent.TEMPLATE_READY,k)},k=function(a){return function(){l.apply(a)}}(this),l=function(){var a;a=brightcove.api.getExperience(f.id+h),c=a.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER),c.addEventListener(brightcove.api.events.MediaEvent.PLAY,m),c.addEventListener(brightcove.api.events.MediaEvent.STOP,m),d=a.getModule(brightcove.api.modules.APIModules.ADVERTISING),d.addEventListener(brightcove.api.events.AdEvent.COMPLETE,o),d.addEventListener(brightcove.api.events.AdEvent.START,o),e=a.getModule(brightcove.api.modules.APIModules.CUE_POINTS),e.addEventListener(brightcove.api.events.CuePointEvent.CUE,q),c.getCurrentVideo(function(a){e.addCuePoints(a.id,[{time:.25*a.length/1e3,name:psd.media.MediaEvent.MEDIA_FIRST_QUART,type:brightcove.api.modules.CuePointsModule.CuePointType.CODE},{time:.5*a.length/1e3,name:psd.media.MediaEvent.MEDIA_HALF,type:brightcove.api.modules.CuePointsModule.CuePointType.CODE},{time:.75*a.length/1e3,name:psd.media.MediaEvent.MEDIA_THIRD_QUART,type:brightcove.api.modules.CuePointsModule.CuePointType.CODE}])})},m=function(a){return function(b){n.apply(a,[b])}}(this),n=function(a){switch(a.type){case brightcove.api.events.MediaEvent.PLAY:g||(g=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_BEGIN,{duration:a.duration})));break;case brightcove.api.events.MediaEvent.STOP:g&&a.position>=.98*a.duration&&(g=!1,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_COMPLETE,{duration:a.duration})))}},o=function(a){return function(b){p.apply(a,[b])}}(this),p=function(a){var b=this;c.getCurrentVideo(function(c){b.dispatchEvent(new psd.media.MediaEvent(a.type,{}))})},q=function(a){return function(b){r.apply(a,[b])}}(this),r=function(a){var b=this;c.getCurrentVideo(function(c){b.dispatchEvent(new psd.media.MediaEvent(a.cuePoint.name,{duration:c.length/1e3}))})},s=function(){var a,b,c="100%",d="100%",e="";a=document.getElementById(f.player.container),void 0!==f.player.width&&(c=f.player.width),void 0!==f.player.height&&(d=f.player.height);var g=f.media.cdn.playerId,j=f.media.cdn.playerKey,k=f.media.src;void 0!==f.ads&&(e=f.ads.urlHtml5),b=document.createElement("object"),b.setAttribute("id",f.id+h),b.setAttribute("class","BrightcoveExperience"),b.appendChild(i("bgColor","#000000")),b.appendChild(i("width",c)),b.appendChild(i("height",d)),b.appendChild(i("playerID",g)),b.appendChild(i("playerKey",j)),b.appendChild(i("isVid","true")),b.appendChild(i("isUI","true")),b.appendChild(i("dynamicStreaming","true")),b.appendChild(i("includeAPI","true")),b.appendChild(i("wmode","opaque")),b.appendChild(i("@videoPlayer","ref:"+k)),b.appendChild(i("templateLoadHandler","psd.media.wrappers._deferredOnBCTemplateLoaded")),b.appendChild(i("adServerURL",e)),a.appendChild(b),brightcove.createExperiences()};this.play=function(){c.play()},this.pause=function(){c.pause()},s.apply(this)}b.prototype=new psd.framework.EventDispatcher,a.BCMediaPlayerWrapper=b}(psd.media.wrappers),function(a){function b(b){psd.framework.EventDispatcher.call(this),this.className="psd.media.wrappers.FlashMediaPlayerWrapper";var c,d=b,e="_simple",f=function(a){return function(b){g.apply(a,[b])}}(this),g=function(a){a.success&&(c=document.getElementById(a.id),this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.INITIALIZED)))},h=function(){var a,b,c,g,h,i,j,k,l="100%",m="100%";if(j=d,a=document.getElementById(j.player.container),b={id:j.id},void 0!==j.media){if(void 0!==j.media.type&&(b.mediaType=j.media.type),void 0!==j.media.title&&(b.mediaTitle=j.media.title),void 0!==j.media.desc&&(b.mediaDescription=j.media.desc),void 0!==j.media.src&&(b.mediaSrc=j.media.src),void 0!==j.media.live&&(b.mediaLive=j.media.live),void 0!==j.media.clipBegin&&(b.mediaClipBegin=j.media.clipBegin),void 0!==j.media.clipEnd&&(b.mediaClipEnd=j.media.clipEnd),void 0!==j.media.absolute&&(b.absolute=j.media.absolute),void 0!==j.media.absoluteTime&&(b.absoluteTime=j.media.absoluteTime),void 0!==j.media.renditions){for(var n="",o=0;o<j.media.renditions.length;o++)o==j.media.renditions.length-1?n+=j.media.renditions[o]:n+=j.media.renditions[o]+",";b.renditions=n}if(void 0!==j.media.cdn)for(k in j.media.cdn)b["cdn_"+k]=j.media.cdn[k]}void 0!==j.ads&&(void 0!==j.ads.conf&&(b.advertisingConf=j.ads.conf),void 0!==j.ads.tags&&(b.advertisingTags=j.ads.tags)),void 0!==j.security&&(void 0!==j.security.authParams&&(b.authParams=j.security.authParams),void 0!==j.security.authParamsHTML5&&(b.authParamsHTML5=j.security.authParamsHTML5),void 0!==j.security.authMode&&(b.authMode=j.security.authMode)),void 0!==j.player.width&&(l=j.player.width),void 0!==j.player.height&&(m=j.player.height),void 0!==j.player.autoplay&&(b.autoplay=j.player.autoplay),void 0!==j.player.controls&&(b.controls=j.player.controls),void 0!==j.media.poster&&(b.poster=j.media.poster),void 0!==j.player.referrer&&(b.referrer=j.player.referrer);for(i in j.skin)b["skin_"+i]=j.skin[i];c={allowScriptAccess:"always",allowFullScreen:"true",bgcolor:void 0!==j.player&&void 0!==j.player.bgColor?j.player.bgColor:"#FFFFFF",wmode:void 0!==j.player&&void 0!==j.player.wmode?j.player.wmode:"opaque"},g={},h=void 0!==j.base?j.base:"",a.innerHTML="<div id="+j.id+e+' style="width:'+l+"; height:"+m+'"></div>',swfobject.embedSWF(h+"/psdmedia/media/simple/skins/"+j.skin.id+"/MediaSimple_"+j.skin.id+".swf",j.id+e,l,m,"10.0.0",!1,b,c,g,f)};a["_deferredOnFlashMediaEvent_"+d.id]=function(a){return function(b){i.apply(a,[b])}}(this);var i=function(a){this.dispatchEvent(new psd.media.MediaEvent(a.type,{adName:a.adName,duration:a.duration,bytesLoaded:a.bytesLoaded,bytesTotal:a.bytesTotal,time:a.time,typeAd:a.mymeType,companionAd:a.companionAd,width:a.width,height:a.height}))};this.load=function(a){c.loadJS(a)},this.play=function(){c.playJS()},this.pause=function(){c.pauseJS()},this.volume=function(a){c.setVolumeJS(a)},this.mute=function(){c.setMuteJS()},this.currentTime=function(a){c.setCurrentTimeJS(a)},this.setProgressEvent=function(a){c.setProgressEventJS(a)},this.isPlaying=function(){return c.isPlayingJS()},h.apply(this)}b.prototype=new psd.framework.EventDispatcher,a.FlashMediaPlayerWrapper=b}(psd.media.wrappers),function(a){function b(b){psd.framework.EventDispatcher.call(this),this.className="psd.media.wrappers.HTML5MediaPlayerWrapper";var c,d=b,e=!1,f=!1,g=!1,h=!1,j=!1,k=!1,l="_simple",m=!1,n=1,o=!1;a._deferredOnHTML5MediaEvent=function(a){return function(b){p.apply(a,[b])}}(this);var p=function(a){switch(a.type){case"playing":f||(f=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_BEGIN,{duration:c.duration,time:c.currentTime}))),e||(e=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_START,{duration:c.duration}))),this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_FULL,{duration:c.duration}));break;case"pause":e&&(e=!1,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_STOP,{duration:c.duration})));break;case"ended":f&&(f=!1,g=!1,h=!1,j=!1,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_COMPLETE,{duration:c.duration,time:c.currentTime})));break;case"timeupdate":!g&&c.currentTime>.25*c.duration&&(g=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_FIRST_QUART,{duration:c.duration}))),!h&&c.currentTime>.5*c.duration&&(h=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_HALF,{duration:c.duration}))),!j&&c.currentTime>.75*c.duration&&(j=!0,this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_THIRD_QUART,{duration:c.duration}))),1==k&&this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.MEDIA_PROGRESS,{duration:c.duration,time:c.currentTime}));break;case"waiting":this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.ESTADO_BUFFER_EMPTY,{duration:c.duration}))}},q=function(a){var b,c;return void 0!=d.security&&void 0!=d.security.authParamsHTML5?(b=-1==a.indexOf("?")?"?":"&",c=b+d.security.authParamsHTML5):c="",a+c},r=function(){var a=d.media.srcHTML5||d.media.src,b=0,e=0;void 0!==d.player.width&&(b=d.player.width),void 0!==d.player.height&&(e=d.player.height),"[object String]"==Object.prototype.toString.apply(a)&&(a=[a]);for(var f in a)a[f]={src:q(a[f])};c=new psd.media.SkinnedSimpleMediaPlayer(d.player.container,b,e,a,d),c.addEventListener(psd.media.MediaEvent.MEDIA_BEGIN,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_START,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_STOP,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_FIRST_QUART,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_HALF,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_THIRD_QUART,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_COMPLETE,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_PROGRESS,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_PREVIOUS,s,this),c.addEventListener(psd.media.MediaEvent.MEDIA_NEXT,s,this),c.addEventListener(psd.media.MediaEvent.ESTADO_BUFFER_FULL,s,this),c.addEventListener(psd.media.MediaEvent.ESTADO_BUFFER_EMPTY,s,this),this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.INITIALIZED))},s=function(a){this.dispatchEvent(a)},t=function(){console.log("ERROR")},u=function(){var a,b,e=document.getElementById(d.player.container),f=void 0!==d.base?d.base:"";if(playerWidth="100%",playerHeight="100%",bgColor="#000000",psd.media.debug&&console.log("Initializing html5 player..."),void 0!==d.player.width&&(playerWidth=d.player.width),void 0!==d.player.height&&(playerHeight=d.player.height),void 0!==d.media&&void 0!==d.media.srcHTML5)psd.media.debug&&console.log("HTML5 alternative source detected: "+d.media.srcHTML5),a=d.media.srcHTML5;else{if(void 0===d.media||void 0===d.media.src)return void(psd.media.debug&&console.log("Invalid player configuration... aborting instantiation..."));psd.media.debug&&console.log("Invalid HTML5 url... using default url: "+d.media.src),a=d.media.src}if(void 0===d.skin||void 0===d.skin.html5||1!=d.skin.html5&&"true"!=d.skin.html5){if(-1!=d.media.type.indexOf("audio")&&(psd.media.debug&&console.log("Audio content detected... using <audio> tag..."),c=document.createElement("audio")),-1!=d.media.type.indexOf("video")&&(psd.media.debug&&console.log("Video content detected... using <video> tag..."),c=document.createElement("video")),void 0!==c&&null!=c){if(bgColor=void 0!==d.player&&void 0!==d.player.bgColor?d.player.bgColor:"#FFFFFF",c.setAttribute("id",d.id+l),c.setAttribute("width",playerWidth),c.setAttribute("height",playerHeight),c.setAttribute("style","background:"+bgColor),c.requestFullScreen=c.requestFullScreen||c.mozRequestFullScreen||c.webkitRequestFullScreen||e.webkitRequestFullScreen,v("playing",psd.media.wrappers._deferredOnHTML5MediaEvent),v("pause",psd.media.wrappers._deferredOnHTML5MediaEvent),v("ended",psd.media.wrappers._deferredOnHTML5MediaEvent),v("timeupdate",psd.media.wrappers._deferredOnHTML5MediaEvent),v("waiting",psd.media.wrappers._deferredOnHTML5MediaEvent),void 0===d.player.autoplay||1!=d.player.autoplay&&"true"!=d.player.autoplay||c.setAttribute("autoplay","autoplay"),(void 0===d.player.controls||0!=d.player.controls&&"false"!=d.player.controls)&&c.setAttribute("controls","controls"),void 0!==d.media.poster&&c.setAttribute("poster",d.media.poster),"[object Array]"===Object.prototype.toString.apply(a))for(i in a)srcNode=document.createElement("source"),srcNode.setAttribute("src",q(a[i])),c.appendChild(srcNode);else c.setAttribute("src",q(a));e.appendChild(c)}else e.innerHTML='<a href="'+q(a)+'"></a>';this.dispatchEvent(new psd.media.MediaEvent(psd.media.MediaEvent.INITIALIZED))}else m=!0,b={depends:f+"/psdmedia/media/simple/skins/"+d.skin.id+"/MediaSimple_"+d.skin.id+".min.js",success:r,error:t,scope:this},LibraryManager.load(b)},v=function(a,b){c&&(c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent&&c.attachEvent(a,b))};this.play=function(){void 0!==c&&void 0!==c.play&&c.play()},this.pause=function(){void 0!==c&&void 0!==c.play&&c.pause()},this.volume=function(a){void 0!==c&&void 0!==c.volume&&(1==m?c.volume(a):(c.volume=a,n=a))},this.mute=function(){1==m?c.mute():0==o?(c.volume=0,o=!0):(c.volume=n,o=!1)},this.currentTime=function(a){var b;b=a>=0&&a<=1?1==m?a*c.duration():a*c.duration:a,void 0!==c&&void 0!==c.currentTime&&(1==m?c.currentTime(b):c.currentTime=b)},this.setProgressEvent=function(a){1==m?c.setProgressEvent(a):k=a},this.load=function(a){if(c.innerHTML="",void 0!==c)if(1==m)c.load(a);else if(f=!1,void 0!==a.poster&&c.setAttribute("poster",a.poster),"[object Array]"===Object.prototype.toString.apply(a.mediaSrcHtml5)){c.removeAttribute("src");for(i in a.mediaSrcHtml5)srcNode=document.createElement("source"),srcNode.setAttribute("src",q(a.mediaSrcHtml5[i])),c.appendChild(srcNode);c.load()}else c.setAttribute("src",q(a.mediaSrcHtml5))},u.apply(this)}b.prototype=new psd.framework.EventDispatcher,a.HTML5MediaPlayerWrapper=b}(psd.media.wrappers),function(b){function c(b){var c=this;psd.framework.EventDispatcher.call(this),this.className="psd.media.TopLauncher",_PROTOCOLO_HTTPS="https",_URL_HOST_HTTPS="https://topsslpl-a.akamaihd.net",_TYPE_FLASH="FLASH",_TYPE_IOS="IOS",_TYPE_UDS="UDS",VIDEO_MEDIA_TYPE="video",AUDIO_MEDIA_TYPE="audio",NAME_BITRATE="bitrate",NAME_HEIGHT="height",URL_ADBLOCK="/psdmedia/resources/js/psd/advert.js",URL_LOGO_TOP="/psdmedia/resources/img/top50.png",URL_BACKGROUND="/psdmedia/resources/img/gradient.png",URL_PUBLI="/psdmedia/resources/js/psd/prisaAd.min.js",URL_TOP_PLAYER="/psdmedia/media/top/TopPlayer.min.js",URL_STATS="/psdmedia/resources/js/psd/statistics.top.min.js","undefined"!=typeof tplib&&(URL_TOP_PLAYER="/psdmedia/media/top/js/TopPlayer.lib.js",URL_STATS="/psdmedia/resources/js/psd/lib/statistics.lib.js",URL_PUBLI="/psdmedia/resources/js/psd/lib/prisaAd.lib.js"),ERROR_PARSER="Error Code #2",ERROR_WS="Error Code #3",ERROR_CARGA_STATISTICS="Error Code #4",ERROR_CARGA_TOP_PLAYER="Error Code #5",ERROR_SERVICIO_MEDIA="Error_servicio_media",ID_PROVIDER_PRISADIGITAL=1,ID_PROVIDER_BRIGHTCOVE=2,ID_PROVIDER_GENERIC=3,ID_PROVIDER_TRITON=4,ID_PROVIDER_AKAMAIHD=5,ID_PROVIDER_YT=6,ID_PROVIDER_DM=7,ID_PROVIDER_VIMEO=8,ID_PROVIDER_HLS=9;var d="public",e="private",f="unlisted";CONTROLLER_TYPE_AKAMAIHD="akamaihd",CONTROLLER_TYPE_AKAMAIHDS="akamaihds",CONTROLLER_TYPE_TRITON="triton",CONTROLLER_TYPE_HTML5NATIVE="html5native",CONTROLLER_TYPE_YT="youtube",CONTROLLER_TYPE_DM="dailymotion",CONTROLLER_TYPE_VIMEO="vimeo",CONTROLLER_TYPE_HLS="hls",CONTROLLER_TYPE_REAL_HLS="Realhls",_fullscreen=!1;var g,h,i,j,k,l,m,n,o,p,q,r,s,t=b,u=!1;this.url_FAPI="",this.data_FAPI={},this.init=function(){v.apply(this)},this.setEmbed=function(a){s=a},this.getEmbed=function(){return s};var v=function(){k=new psd.media.TopWindowError({id_container:t.player.container,width:t.player.width,height:t.player.height,secure:j});var a,b=function(a){var b;switch(a){case psd.media.LOCAL:t.base="",b="LOCAL";break;case psd.media.INTEGRACION:t.base="//playerint.top.prisasd.com",b="INTEGRACIÓN";break;case psd.media.PRODUCCION:t.base="//playertop.elpais.com",b="PRODUCCIÓN";break;default:t.base=a,b="URL BASE PERSONALIZADA: "+a}"undefined"!=typeof mm_simple_compilation?console.log("\nENTORNO "+b+"\nmm_simple_compilation: "+mm_simple_compilation+"\n"):console.log("\nENTORNO "+b+"\n")};"undefined"!=typeof mm_base&&(1!=mm_base&&0!=mm_base||(mm_base="loc"),"string"==typeof mm_base&&b(mm_base));var c=function(b){var c;switch(b){case psd.media.LOCAL:a="",c="PUBLICIDAD LOCAL";break;case psd.media.INTEGRACION:a="//playerint.top.prisasd.com",c="PUBLICIDAD INTEGRACIÓN";break;case psd.media.PRODUCCION:a="//playertop.elpais.com",c="PUBLICIDAD PRODUCCIÓN";break;default:a=b,c="PUBLICIDAD PERSONALIZADA: "+b}console.log("\nENTORNO "+c+"\n")};if("undefined"!=typeof mm_publi&&(1!=mm_publi&&0!=mm_publi||(mm_publi="loc"),"string"==typeof mm_publi&&c(mm_publi)),i=null!=t.base&&void 0!=t.base&&t.base,function(b){var c;for(c=0;c<b.length;c++){var d,e;d=document.getElementsByTagName("head")[0],e=document.createElement("script"),"undefined"!=typeof mm_publi?e.src=a+b[c]:e.src=t.base+b[c],e.type="text/javascript",d.appendChild(e)}}([URL_PUBLI,URL_ADBLOCK]),null!=t.stats&&null!=t.stats.conf&&""!=t.stats.conf&&void 0===psd.statistics){var d=[];d.push(i?t.base+URL_STATS:URL_STATS);var e={depends:d,success:w,error:x,scope:this};LibraryManager.load(e)}else y()},w=function(){y.apply(this)},x=function(){t.ws.mediaType==VIDEO_MEDIA_TYPE&&k.paintMessage(ERROR_CARGA_STATISTICS)},y=function(){m=t.ws.urlBase,m=z(m),n=t.ws.id_video,o=t.ws.id_cuenta,A.apply(this)},z=function(a){if(-1!=a.indexOf("http")){var b;b=a.split("//"),a="//"+b[1]}return a},A=function(){void 0==t.ws.mediaType&&(t.ws.mediaType=VIDEO_MEDIA_TYPE);var a=new psd.framework.parser.JSONParser,b=new psd.framework.Mediator;b.corsIE(!0),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,B,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,C,this),c.url_FAPI=m+"/v1/search/"+o+"/"+t.ws.mediaType+"/idref/"+n,void 0!==window.mm_tfp&&1==window.mm_tfp&&(c.url_FAPI+="/tfp"),b.mediate(c.url_FAPI,a,psd.framework.Mediator.RESPONSE_JSON)};this.addSetting=function(a){t=a};var B=function(a){var b=a.result.parserResult;if(b.code==psd.framework.ParserResult.PARSER_SUCCESS_CODE&&"object"==typeof b.result&&b.result.total>0)c.data_FAPI=b.result,D(b.result);else{t.ws.mediaType==VIDEO_MEDIA_TYPE&&k.paintMessage(psd.media.TopLauncherEvent.EVENT_ERROR);var d={};d.errorType=ERROR_SERVICIO_MEDIA,this.dispatchEvent(new psd.media.TopLauncherEvent(psd.media.TopLauncherEvent.EVENT_ERROR,d))}},C=function(a){t.ws.mediaType==VIDEO_MEDIA_TYPE&&k.paintMessage(ERROR_PARSER);var b={};b.errorType=ERROR_SERVICIO_MEDIA,this.dispatchEvent(new psd.media.TopLauncherEvent(psd.media.TopLauncherEvent.EVENT_ERROR,b))},D=function(a){return function(b){F.apply(a,[b])}}(this),E=function(a,b){var c=!1;if(null!=typeof a.type&&"YOUTUBE"==a.type.name&&""!=a.src&&"processed"==a.tag&&p.media.youtube_privacy_status!=e){if(b.meta_intellectual_property)for(meta in b.meta_intellectual_property)"youtube"==b.meta_intellectual_property[meta].name&&(c=!0);return c}},F=function(a){a=a.data[0];var b,e,h=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),j=navigator.userAgent.match(/iPhone/i),m=[];p=t,e=t.ws.mediaType==AUDIO_MEDIA_TYPE?"audio/mp3":"video/mp4",void 0!=a.description&&null!=a.description&&(a.description=a.description.replace(/<[^>]*>?/g,""));try{if(p.id=a.idref,p.media={type:a.asset.length>0?a.asset[0].mimetype:e,title:void 0!=a.name?a.name:"",desc:void 0!=a.description?a.description:"",author:void 0!=a.author?a.author:"",date:void 0!=a.created_at?a.created_at.split(" ")[0]:"",duration:void 0!=a.length?a.length:"",live:void 0!=a.islive&&a.islive,isDvr:void 0!=a.isdvr&&a.isdvr,cdn:{provider:""},tags:void 0!=a.tags?a.tags:void 0,urlMosaic:a.url_mosaic,chapter:a.chapter,season:a.season,geo_location:a.geo_location,youtube_privacy_status:a.youtube_privacy_status,id_contract:void 0!=a.id_contract?a.id_contract:"",details:void 0!=a.details?a.details:null,tags_externals:void 0!=a.tags_externals?a.tags_externals:""},t.ws.mediaType==AUDIO_MEDIA_TYPE?p.media.poster=void 0!=a.url_audio_still?a.url_audio_still:"":p.media.poster=void 0!=a.url_video_still?a.url_video_still:"",a.provider.id==ID_PROVIDER_AKAMAIHD?(p.media.cdn.provider=CONTROLLER_TYPE_AKAMAIHD,p.media.clipBegin="1418403600000",p.media.clipEnd="1418418900000",p.media.absolute=!0):p.media.cdn.provider=CONTROLLER_TYPE_AKAMAIHDS,p.id_provider=a.provider.id,p.id_external=a.id_external,a.asset.length>0){c.isExternal=!1;for(_asset in a.asset)void 0!==a.asset[_asset].type&&null!=a.asset[_asset].type&&void 0!==a.asset[_asset].type.name&&null!=a.asset[_asset].type.name&&("YOUTUBE"==a.asset[_asset].type.name?E(a.asset[_asset],a)&&(p.id_provider=ID_PROVIDER_YT,p.id_external=a.asset[_asset].src,c.isExternal=!0):"TRITON"==a.asset[_asset].type.name&&(p.id_provider=ID_PROVIDER_TRITON,p.id_external=a.asset[_asset].src,c.isExternal=!0))}if(p.eskup={idEskup:void 0!=a.id_es_kup?a.id_es_kup:""},p.media.srcHTML5=[],a.playlist.length>0)for(var n=0;n<a.playlist.length;n++)a.playlist[n].type_url.name==_TYPE_FLASH?p.media.src=a.playlist[n].url:a.playlist[n].type_url.name==_TYPE_IOS&&(h&&(!h||"video"!=p.skin.mode&&void 0!=p.skin.mode)||p.media.srcHTML5.push(a.playlist[n].url));if("undefined"!=typeof mm_dist&&a.asset.length>0)for(var o=0;o<a.asset.length;o++)for(var s=0;s<a.asset[o].url.length;s++){var v="?";a.asset[o].url[s].url.indexOf("?")>0&&(v="&"),a.asset[o].url[s].url+=v+"dist="+mm_dist}if(r=!1,a.asset.length>0)for(var o=0;o<a.asset.length;o++)if(a.asset[o].custom=!1,void 0===a.asset[o].type)a.asset[o].custom=!0;else if(null==a.asset[o].type||"CUSTOM"==a.asset[o].type.name||""==a.asset[o].type)a.asset[o].custom=!0;else{void 0!==p.media.youtube_privacy_status&&p.media.youtube_privacy_status!=f||(p.media.youtube_privacy_status=d);var w=function(b){if(b&&(r=!0,p.id_provider=ID_PROVIDER_YT,p.id_external=a.asset[o].src,p.skin.id="transparent",void 0===p.ads&&(p.ads={}),p.ads.enabled=!1,void 0===p.topPlayer&&(p.topPlayer={}),void 0===p.topPlayer.media&&(p.topPlayer.media={}),void 0===p.topPlayer.media.YTiFrame&&(p.topPlayer.media.YTiFrame={},p.topPlayer.media.YTiFrame=!0),"undefined"==typeof mm_ytload)){window.mm_ytload=!1;var c=document.createElement("script"),d=document.createTextNode("function onYouTubePlayerAPIReady(){mm_ytload = true;}");c.appendChild(d),document.body.appendChild(c)}};p.id_provider==ID_PROVIDER_YT&&(u=!0,w(u))}else void 0===p.topPlayer&&(p.topPlayer={}),void 0===p.topPlayer.media&&(p.topPlayer.media={}),void 0===p.topPlayer.media.YTiFrame&&(p.topPlayer.media.YTiFrame={},p.topPlayer.media.YTiFrame=!1);if(!r&&0==c.isExternal){if(a.asset.length>0){for(var x={},y=0;y<a.asset.length;y++)a.asset[y].custom&&(void 0==x.bitrate||a.asset[y].bitrate<x.bitrate)&&(x.index=y,x.bitrate=a.asset[y].bitrate);for(var z=0;z<a.asset[x.index].url.length;z++)a.asset[x.index].custom&&(0==a.playlist.length&&a.asset[x.index].url[z].type_url.name==_TYPE_IOS&&(srcIOS=a.asset[x.index].url[z].url,p.media.srcHTML5.push(srcIOS)),a.asset[x.index].url[z].type_url.name==_TYPE_UDS?(b=a.asset[x.index].url[z].url,p.media.srcHTML5.push(b)):a.asset[x.index].url[z].type_url.name==_TYPE_FLASH&&p.id_provider==ID_PROVIDER_GENERIC&&(p.media.src=a.asset[x.index].url[z].url));0==p.media.srcHTML5.length&&p.media.srcHTML5.push(p.media.src)}if(a.asset.length>0){for(var A=0;A<a.asset.length;A++)if(a.asset[A].custom){var B={};B.assetBitrate=a.asset[A].bitrate,B.assetHeight=a.asset[A].height,m.push(B)}if(m.length>0){m=m.sort(function(a,b){return parseFloat(a.assetBitrate)-parseFloat(b.assetBitrate)});var C=NAME_HEIGHT;p.media.renditions=[];for(var n=0;n<m.length;n++)C==NAME_BITRATE?p.media.renditions.push(m[n].assetBitrate+"bps"):C==NAME_HEIGHT&&p.media.renditions.push(m[n].assetHeight+"p")}}}if(void 0!==p.media.src){p.media.src.indexOf(".m3u8")>0&&(p.id_provider=ID_PROVIDER_HLS)}if(t.media.live&&p.id_provider==ID_PROVIDER_PRISADIGITAL||p.id_provider==ID_PROVIDER_HLS&&(0==this.hlsIsSupported()||void 0===this.hlsIsSupported())||p.id_provider==ID_PROVIDER_GENERIC){var D=document.createElement("script");D.src=t.base+"/psdmedia/resources/js/ext/swfobject/swfobject.js",document.querySelector("head").appendChild(D)}null!=p.ads&&void 0!=a.ptags&&null!=a.ptags&&(p.ads.pTags=a.ptags),p.player.mode=h?"html5,directlink":"flash";if("generic"!=p.skin.id){q=[];for(var F,n=0;n<m.length;n++)F={label:m[n].assetHeight+"p",bitrate:m[n].assetBitrate+"bps"},q.push(F);if(l)H.apply(this);else{var I={depends:i?t.base+URL_TOP_PLAYER:URL_TOP_PLAYER,success:G,error:J,scope:this};"undefined"==typeof mm_top_compilation?LibraryManager.load(I):H.apply(this)}}else if(1==p.skin.html5&&"iPhone"==j&&(void 0!=p.skin.mode&&"video"!=p.skin.mode||(p.skin.html5=!1)),l){l=!1;var K={};K.type=p.media.type,K.title=p.media.title,K.desc=p.media.desc,K.poster=p.media.poster,K.src=p.media.src,K.srcHtml5=p.media.srcHTML5,K.live=p.media.live,K.cdn={},K.cdn.provider=p.media.cdn.provider,K.renditions=p.media.renditions,g.load(K)}else g=new psd.media.SimpleMediaPlayer(p),this.dispatchEvent(new psd.media.TopLauncherEvent(psd.media.TopLauncherEvent.EVENT_INI)),g.init(),null!=t.stats&&null!=t.stats.conf&&""!=t.stats.conf&&(statisticsManager=new psd.statistics.StatisticsManager,statisticsManager.setup(t.stats.conf),statisticsManager.subscribe(g))}catch(a){console.log("ERROR!!!:",a),t.ws.mediaType==VIDEO_MEDIA_TYPE&&k.paintMessage()}},G=function(){H.apply(this)},H=function(){var a;switch(a=p.topPlayer?p.topPlayer:{},a.social||(a.social={}),a.social.eskupData=p.eskup,a.generic||(a.generic={}),a.generic.container=p.player.container,a.generic.id=p.player.container.replace(".","_")+"_TopPlayer",a.generic.width=p.player.width,a.generic.height=p.player.height,a.generic.urlBase=p.base,a.generic.id_player=p.extra.id,a.generic.id_cuenta=p.ws.id_cuenta,a.ui||(a.ui={}),a.ui.skin=p.skin.id,a.ui.poster=p.media.poster,a.ui.bgColor=p.player.bgColor,a.ui.skinData=p.skin,a.ui.absoluteTime=p.media.absoluteTime,a.ui.overrideNativeControls=p.skin.html5,a.ui.showPreview=!1,a.ad||(a.ad={}),void 0!==a.ad.enabled&&void 0!==p.ads&&(p.ads.enabled=a.ad.enabled),void 0!==p.ads?void 0!==p.ads.enabled?p.ads.enabled?p.ads.enabled=!0:p.ads.enabled=!1:p.ads.enabled=!0:(p.ads={},p.ads.enabled=!1),r&&(p.ads.enabled=!1),p.ads.enabled?(p.ads.conf&&(a.ad.conf=p.ads.conf),p.ads.pTags&&(a.ad.pTags=p.ads.pTags),p.ads.enabled&&(a.ad.enabled=p.ads.enabled)):a.ad.enabled=!1,a.media||(a.media={}),"undefined"!=typeof mm_autoplay&&(mm_autoplay=!0),p.id_provider){case ID_PROVIDER_TRITON:getDevice().mobile&&"undefined"!=typeof mm_autoplay&&(mm_autoplay=!1),a.media.id=p.id_external,a.media.idTOP=p.id,a.media.provider="triton",p.media.live?(a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_TRITON],a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_HTML5]):a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD];break;case ID_PROVIDER_GENERIC:a.media.id=p.id,a.media.idTOP=p.id,a.media.url=p.media.src,a.media.urlHTML5=p.media.srcHTML5,a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD,emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE],a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_HTML5,emic.top.MediaModule.TECHNOLOGY_FLASH],a.media.provider="generic";break;case ID_PROVIDER_PRISADIGITAL:case ID_PROVIDER_BRIGHTCOVE:a.media.id=p.id,a.media.idTOP=p.id,a.media.url=p.media.src,a.media.urlHTML5=p.media.srcHTML5,a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHDS,emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE],t.media.live&&t.ws.mediaType==VIDEO_MEDIA_TYPE?a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_FLASH,emic.top.MediaModule.TECHNOLOGY_HTML5]:a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_HTML5,emic.top.MediaModule.TECHNOLOGY_FLASH],a.media.provider="prisadigital";break;case ID_PROVIDER_YT:a.media.id=p.id_external,a.media.idTOP=p.id,a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_YT],a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_HTML5],a.media.provider="youtube";break;case ID_PROVIDER_DM:a.media.id=p.id_external,a.media.idTOP=p.id,a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_DM],a.media.tecPriorityPC=[emic.top.MediaModule.TECHNOLOGY_HTML5],a.media.provider="dailymotion";break;case ID_PROVIDER_HLS:a.media.id=p.id,a.media.idTOP=p.id,a.media.url=p.media.src,a.media.urlHTML5=p.media.srcHTML5,this.hlsIsSupported()?a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_REAL_HLS,emic.top.MediaModule.CONTROLLER_TYPE_HLS,emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE]:a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_HLS,emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE],a.media.provider="hls";break;default:a.media.id=p.id,a.media.idTOP=p.id,a.media.url=p.media.src,a.media.urlHTML5=p.media.srcHTML5,a.media.provider="default",a.media.controllerPriority=[emic.top.MediaModule.CONTROLLER_TYPE_AKAMAIHD,emic.top.MediaModule.CONTROLLER_TYPE_HTML5NATIVE]}null!=p.player.autoplay?a.media.autoplay=p.player.autoplay:void 0==a.media.autoplay&&(a.media.autoplay=!1),a.media.wmode=p.player.wmode,a.media.title=p.media.title,a.media.description=p.media.desc,a.media.isLive=p.media.live,a.media.isDVR=p.media.isDvr,a.media.clipBegin=p.media.clipBegin,a.media.clipEnd=p.media.clipEnd,a.media.absolute=p.media.absolute,a.media.author=p.media.author,a.media.date=p.media.date,a.media.duration=p.media.duration,a.media.urlMosaic=p.media.urlMosaic,a.media.chapter=p.media.chapter,a.media.season=p.media.season,a.media.geo_location=p.media.geo_location,a.media.youtube_privacy_status=p.media.youtube_privacy_status,a.media.details=p.media.details,a.media.isLive&&(a.media.defaultLive=a.media.idTOP),void 0!=p.security&&(a.media.authParams=p.security.authParams,a.media.authParamsHTML5=p.security.authParamsHTML5),a.media.mimetype=p.media.type,a.media.renditions=q,a.media.tags={},a.media.tags.canal=K.apply(this,["Canal"]),a.media.tags.programa=K.apply(this,["P"]),a.media.tags.emisora=K.apply(this,["E"]),a.media.tags.seccion=K.apply(this,["S"]),a.media.tags.tematica=K.apply(this,["T"]),a.media.tags.tematicaParent=K.apply(this,["W"]),a.media.tags.allTags=L.apply(this,[a.media.tags]),a.media.tags.allTagsList=M(a.media.tags.allTags),a.media.tags.externals=N(p.media.tags_externals),a.stat||(a.stat={}),null!=p.stats&&null!=p.stats.conf&&""!=p.stats.conf?(a.stat.conf=p.stats.conf,a.stat.extraData||(a.stat.extraData={}),a.stat.extraData.canal=a.media.tags.canal,a.stat.extraData.programa=a.media.tags.programa,a.stat.extraData.emisora=a.media.tags.emisora,a.stat.extraData.seccion=a.media.tags.seccion,a.stat.extraData.tematica=a.media.tags.tematica,a.stat.extraData.tematicaParent=a.media.tags.tematicaParent,a.stat.extraData.tipoContenido="Programa",a.stat.extraData.idTop=p.id,a.stat.extraData.playerName=p.extra.description,a.stat.extraData.tags=a.media.tags.allTags,a.stat.extraData.tagsList=a.media.tags.allTagsList,a.stat.extraData.id_contract=p.media.id_contract,a.stat.extraData.tags_externals=a.media.tags.externals):a.stat.enabled=!1,"undefined"!=typeof mm_autoplay_disable&&1==mm_autoplay_disable&&(l=!1,mm_autoplay_disable=!1),"undefined"!=typeof mm_autoplay&&1==mm_autoplay||"undefined"!=typeof mm_playlist_no_reset&&1==mm_playlist_no_reset&&(l=!1,mm_playlist_no_reset=!1),l?(l=!1,void 0!=h&&h.load(a)):(h=new emic.top.TopPlayer,h.addEventListener(emic.top.event.TopEvent.ON_READY,I,this),"youtube"==a.media.provider&&void 0!==a.media.cover&&a.media.cover,h.init(a),"function"==typeof h.setLauncher&&h.setLauncher(this))},I=function(){this.dispatchEvent(new psd.media.TopLauncherEvent(psd.media.TopLauncherEvent.EVENT_INI))},J=function(){t.ws.mediaType==VIDEO_MEDIA_TYPE&&k.paintMessage(ERROR_CARGA_TOP_PLAYER)},K=function(a){var b="";if(void 0!=p.media.tags){if(p.media.tags.length>0){for(var c=0;c<p.media.tags.length;c++)p.media.tags[c].type==a&&(b+=""==b?p.media.tags[c].name:","+p.media.tags[c].name);return b}return""}return""},L=function(a){var b="";for(tagName in a)""!=a[tagName]&&" "!=a[tagName]&&(b+=""==b?a[tagName]:","+a[tagName]);return b},M=function(a){return a.replace(/,/gi,";")},N=function(b){if(""!=b){var c="",d=";";for(a in b)a==b.length-1&&(d=""),c+=b[a].idref+d;return c}return""};this.getMediaPlayer=function(){return g||(h||void 0)},this.reset=function(a,b,c,d){void 0==a&&(a=t.ws.urlBase);for(var e in d){var f=d[e];if(void 0!=t[e])for(var g in f){var h=f[g];void 0!==t[e][g]&&(t[e][g]=h)}}l=!0,o=b,n=c,A.apply(this)},this.setRatio=function(a,b,c){h.setRatio(a,b,c)},this.hlsIsSupported=function(){var a=window.MediaSource=window.MediaSource||window.WebKitMediaSource,b=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,c=a&&"function"==typeof a.isTypeSupported&&a.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),d=!b||b.prototype&&"function"==typeof b.prototype.appendBuffer&&"function"==typeof b.prototype.remove;return c&&d}}c.prototype=new psd.framework.EventDispatcher,b.INTEGRACION="int",b.PRODUCCION="pro",b.LOCAL="loc",b.TopLauncher=c}(psd.media),function(a){function b(a,b){function c(){n=m.getMediaPlayer(),d(),o.ws.mediaType!=MEDIA_TYPE_VIDEO&&(n.addEventListener(psd.media.MediaEvent.AD_START,f),n.addEventListener(psd.media.MediaEvent.AD_SKIP,g),n.addEventListener(psd.media.MediaEvent.AD_COMPLETE,h)),r=!0,this.dispatchEvent(new psd.media.TopEmbedEvent(psd.media.TopEmbedEvent.EVENT_INI))}function d(){if(void 0!==j.plugins){var a=j.topPlayer.generic.urlBase;for(var b in j.plugins){var c=document.createElement("script");c.type="text/javascript",c.src=a+"/psdmedia/media/top/widgets/"+j.plugins[b].type+"/"+j.plugins[b].type+".js",c.onload=function(a){return function(){new window[j.plugins[a].type](i).init(j.plugins[a].conf)}}(b),document.head.appendChild(c)}}}function e(a){var b={};b.errorType=a.data.errorType,this.dispatchEvent(new psd.media.TopEmbedEvent(psd.media.TopEmbedEvent.EVENT_ERROR,b))}function f(a){var b,c;b=o.player.width<MIN_PLAYER_WIDTH?MIN_PLAYER_WIDTH:o.player.width,c=9*b/16,document.getElementById(j.id_container).style.width=b+"px",document.getElementById(j.id_media+"_simple").style.width=b+"px",document.getElementById(j.id_container).style.height=c+"px",document.getElementById(j.id_media+"_simple").style.height=c+"px"}function g(a){document.getElementById(j.id_container).style.width=o.player.width+"px",document.getElementById(j.id_media+"_simple").style.width=o.player.width+"px",document.getElementById(j.id_container).style.height=o.player.height+"px",document.getElementById(j.id_media+"_simple").style.height=o.player.height+"px"}function h(){document.getElementById(j.id_container).style.width=o.player.width+"px",document.getElementById(j.id_media+"_simple").style.width=o.player.width+"px",document.getElementById(j.id_container).style.height=o.player.height+"px",document.getElementById(j.id_media+"_simple").style.height=o.player.height+"px"}psd.framework.EventDispatcher.call(this),this.className="psd.media.TopEmbed";var i=this;URL_BASE_DEV="//webfastapi.top.des.prisadigital.int",URL_BASE_PRO="//fapi-top.prisasd.com",MEDIA_TYPE_VIDEO="video",MIN_PLAYER_WIDTH=320,ERROR_PARSER="Error Code #1",ERROR_SERVICIO_PLAYER="Error_servicio_player",ERROR_SERVICIO_MEDIA="Error_servicio_media";var j=a;this.iniSettings=j;var k,l,m,n,o,p,q=!1,r=!1;this.playList=void 0;var s=function(){console.log("**************************************************************"),console.log("lo metemos en el manager"),console.log("**************************************************************"),(new psd.media.TopEmbedManager).addEmbed(this)};void 0!==j&&("boolean"!=typeof b?void 0===j.managerOpt&&this.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,s,this):b&&"undefined"!=j.managerOpt&&delete j.managerOpt);var t=function(){if(void 0!=j){if(void 0!==j.managerOpt){console.log(".........................................................................."),console.log("debe de ir al manager"),console.log(j);var b=new psd.media.TopEmbedManager,c=j.managerOpt;return delete j.managerOpt,b.add(j,c,this),void console.log("..........................................................................")}if("object"==typeof j.playList&&""===j.playList.URL_list&&(j.playListBAK=j.playList,j.playList=!0),"boolean"==typeof j.playList&&!0===j.playList&&(this.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,u,this),j.playList=""),"object"==typeof j.playList&&"{}"!=JSON.stringify(j.playList)){var d=a.playList;j.playList="",this.setPlayList(d,j)}else{if(null==j.id_container||void 0==j.id_container||""==j.id_container){var e="PLAYER_"+(parseInt(1e3*Math.random())+(new Date).getTime());document.write("<div id='"+e+"'></div>"),j.id_container=e}q=void 0!=j.dev&&j.dev,z(),x.apply(this),y.apply(this)}}},u=function(){if(this.removeEventListener(psd.media.TopEmbedEvent.EVENT_INI,u,this),void 0!=this.getMediaPlayer&&void 0!=this.getMediaPlayer().getData&&void 0!=this.getMediaPlayer().getData().mediaData){var a=this.getMediaPlayer().getData().mediaData.tags.externals;if(a.length>0){a=a.split(";");for(var b in a)a[b]="tags_externals.idref|"+a[b];a=a.join(",");var c,d=o.ws.urlBase+"/v1/search/"+j.id_cuenta+"/"+j.media_type+"/tags?tags=mn(idref|"+j.id_media+")m("+a+")&orderBy=modify_at|desc&size=12&itemIdref="+j.id_media;"object"==typeof j.playListBAK?(c=j.playListBAK,c.URL_list=d,delete j.playListBAK):c=j.media_type==MEDIA_TYPE_VIDEO?{URL_list:d,nextpanel:{active:!0,time:5,skin:"default"}}:{URL_list:d},delete j.id_media,delete j.playList,this.setPlayList(c,j)}}},v=function(){void 0!=this.getSettings()&&!0===this.getSettings().isPlaylist&&(this.playList.destroyPlayLists(),this.playList=null,j.isPlaylist=!1,j.playlistUrl="")};this.setPlayList=function(a,b){if(void 0!==this.getMediaPlayer()&&void 0!==this.getMediaPlayer().getMediaModule()&&this.getMediaPlayer().getMediaModule().stop(),v.apply(this),void 0!==a.id_container&&""!=a.id_container){var c=document.getElementById(a.id_container);null!=c&&(c.innerHTML="")}if(void 0!==b.id_container&&""!=b.id_container){var c=document.getElementById(b.id_container);null!=c&&(c.innerHTML="")}this.playList=new psd.media.TopEmbedPlaylist(this,a),"object"==typeof b?(this.playList.setPlayerSettings(b),this.playList.init()):this.isInitialized()?this.playList.init():this.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,w,this)};var w=function(){this.removeEventListener(psd.media.TopEmbedEvent.EVENT_INI,w,this),this.playList.init()};this.getSettings=function(){return j};var x=function(){l=q?URL_BASE_DEV:URL_BASE_PRO},y=function(){var a=new psd.framework.parser.JSONParser,b=new psd.framework.Mediator;b.corsIE(!0),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,A,this),b.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,B,this),b.mediate(l+"/api/"+j.id_cuenta+"/player/"+j.id_player,a,psd.framework.Mediator.RESPONSE_JSON)},z=function(){j.overwriteWidth?width=j.overwriteWidth:width=document.getElementById(j.id_container).clientWidth,j.overwriteHeight?height=j.overwriteHeight:height=document.getElementById(j.id_container).clientHeight,k=new psd.media.TopWindowError({id_container:j.id_container,width:width,height:height,secure:j.secure})},A=function(a){var b=a.result.parserResult;if(b.code==psd.framework.ParserResult.PARSER_SUCCESS_CODE)C.apply(this,[b.result]);else{void 0!=j.media_type&&j.media_type!=MEDIA_TYPE_VIDEO||k.paintMessage(ERROR_PARSER);var c={};c.errorType=ERROR_SERVICIO_PLAYER,this.dispatchEvent(new psd.media.TopEmbedEvent(psd.media.TopEmbedEvent.EVENT_ERROR,c))}},B=function(a){void 0!=j.media_type&&j.media_type!=MEDIA_TYPE_VIDEO||k.paintMessage(ERROR_PARSER);var b={};b.errorType=ERROR_SERVICIO_PLAYER,this.dispatchEvent(new psd.media.TopEmbedEvent(psd.media.TopEmbedEvent.EVENT_ERROR,b))},C=function(a){if(o=a,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&a.ws.mediaType==MEDIA_TYPE_VIDEO&&(o.player.autoplay=!1),a.ws.id_video=j.id_media,a.player.container=j.id_container,void 0!==j.topPlayer&&void 0!==j.topPlayer.media&&(void 0!=j.topPlayer.media.autoNext&&(o.player.autoNext=j.topPlayer.media.autoNext),void 0!=j.topPlayer.media.clickPlayList&&(o.player.clickPlayList=j.topPlayer.media.clickPlayList),void 0!=j.topPlayer.media.autoplay&&(1!=j.topPlayer.media.autoplay&&0!=j.topPlayer.media.autoplay||(o.player.autoplay=j.topPlayer.media.autoplay))),j.topPlayer&&(a.topPlayer=j.topPlayer),void 0!==j.isPlaylist&&(void 0!==j.topPlayer?void 0!==j.topPlayer.media?(j.topPlayer.media.isPlaylist=j.isPlaylist,j.topPlayer.media.playlistUrl=j.playlistUrl):(j.topPlayer.media={},j.topPlayer.media.isPlaylist=j.isPlaylist,j.topPlayer.media.playlistUrl=j.playlistUrl):(j.topPlayer={},void 0!==j.topPlayer.media?(j.topPlayer.media.isPlaylist=j.isPlaylist,j.topPlayer.media.playlistUrl=j.playlistUrl):(j.topPlayer.media={},j.topPlayer.media.isPlaylist=j.isPlaylist,j.topPlayer.media.playlistUrl=j.playlistUrl)),a.topPlayer=j.topPlayer),void 0===j.ancho&&void 0===j.alto||(void 0===a.topPlayer&&(a.topPlayer={}),void 0===a.topPlayer.media?(a.topPlayer.media={},a.topPlayer.media.ancho=j.ancho,a.topPlayer.media.alto=j.alto):(a.topPlayer.media.ancho=j.ancho,a.topPlayer.media.alto=j.alto)),j.mainPlayer&&(a.mainPlayer=j.mainPlayer),j.overwriteWidth&&(a.player.width=j.overwriteWidth),j.overwriteHeight&&(a.player.height=j.overwriteHeight),void 0!=j.media_type?a.ws.mediaType=j.media_type:a.ws.mediaType=MEDIA_TYPE_VIDEO,p){p=!1;var b=l+"/api";m.addSetting(a),m.reset(b,j.id_cuenta,j.id_media)}else m=new psd.media.TopLauncher,m.addSetting(a),m.init(),m.setEmbed(this),m.addEventListener(psd.media.TopLauncherEvent.EVENT_INI,c,this),m.addEventListener(psd.media.TopLauncherEvent.EVENT_ERROR,e,this)};this.getMediaPlayer=function(){return n},this.reset=function(a){"undefined"==typeof mm_autoplay&&this.getMediaPlayer().getMediaModule().stop(),"{}"==JSON.stringify(a.playList)&&v.apply(this),p=!0,q=void 0!=a.dev&&a.dev,x.apply(this),a.id_cuenta&&(j.id_cuenta=a.id_cuenta),a.id_media&&(j.id_media=a.id_media),a.media_type&&(j.media_type=a.media_type),a.id_player&&(j.id_player=a.id_player),a.id_container&&(j.id_container=a.id_container),a.topPlayer&&(j.topPlayer=a.topPlayer),a.mainPlayer&&(j.mainPlayer=a.mainPlayer),y.apply(this),"undefined"!=typeof mm_autoplay&&1==mm_autoplay&&void 0!==this.getMediaPlayer()&&void 0!=typeof this.getMediaPlayer().getMediaModule()&&(this.getMediaPlayer().getMediaModule().play(),this.getMediaPlayer().getMediaModule().pause())},this.init=function(a){j=a,q=void 0!=a.dev&&a.dev,t.apply(this)},this.isInitialized=function(){return r},this.setRatio=function(a,b,c){m.setRatio(a,b,c)},t.apply(this)}b.prototype=new psd.framework.EventDispatcher,a.TopEmbed=b}(psd.media),function(a){function b(a){function b(){this.getTopPlaylist().setPlayerEventos()}psd.framework.EventDispatcher.call(this),this.className="psd.media.TopPlaylist",this.embedplaylist=a;var c,d,e=[];this.index=0,this.init=function(a,d){this.addEventListener("onPlayListChangeMedia",b,this),this.index=d,c=a,f.apply(this)},this.reDraw=function(){d.paintPlaylist()},this.setData=function(a){e=a},this.resetData=function(a){d.setDataPlaylist(a)};var f=function(){if(d=new psd.media.TopPlaylist_lista(c,this.index,this.embedplaylist),"generica"==c.playListSkin){var a="/psdmedia/media/simple/skinsPlaylist/playlist.css",b=c.player.getMediaPlayer().getData().genericData.urlBase,f=null!=b&&void 0!=b&&b;void 0!=c.styleItemsContainer&&d.setType(c.styleItemsContainer);var h=document.createElement("link"),i=f?b+a:a;h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",i),void 0!==h&&document.getElementsByTagName("head")[0].appendChild(h)}d.addEventListener(psd.media.PlaylistEvent.DATA_REQUEST,g,this),d.addEventListener(psd.media.PlaylistEvent.DATA_COMPLETE,g,this),d.addEventListener(psd.media.PlaylistEvent.MEDIA_CHANGE,g,this),d.addEventListener(psd.media.PlaylistEvent.PLAYLIST_COMPLETE,g,this),d.init(e),d.load()},g=function(a){a.type==psd.media.PlaylistEvent.DATA_COMPLETE&&d.paintPlaylist(),this.dispatchEvent(a)};this.next=function(){d.next()},this.previous=function(){d.previous()},this.gotoByIndex=function(a){d.gotoByIndex(a)},this.gotoByIdRef=function(a){d.gotoByIdRef(a)},this.changeConfig=function(a){d.changeConfig(a)},this.getTopPlaylist=function(){return d},this.playIndex=function(a){a<d.data()[0].length&&d.loadMedia(a)}}b.prototype=new psd.framework.EventDispatcher,a.TopPlaylist=b}(psd.media),function(a){function b(a,b){psd.framework.EventDispatcher.call(this),this.className="psd.media.TopEmbedPlaylist";var c,d,e,f=a,g=b,h=0,i=0,j=[],k=this,l=null,m=null,n=!1,o=null,p=0,q=null,r=null,s=null,t=!1,u=.7,v=768,w=[0,-1],x=!1;this.ancho=0,this.alto=0,this.getMediaTopEmbed=function(){return d},this.getMediaTopPlaylist=function(){return j},this.destroyPlayLists=function(){for(var a in j)"function"==typeof j[a].getTopPlaylist&&j[a].getTopPlaylist().destroyBasePlayList();x=!0},this.setPlayerSettings=function(a){c=a};var y=function(a){if(void 0!=a.result&&void 0!=a.result.parserResult&&void 0!=a.result.parserResult.result&&void 0!=a.result.parserResult.result.data){e=a.result.parserResult.result.data;for(var b in e)if(null!=e[b].description){var c=e[b].description;c=c.replace(/<[^>]*>?/g,""),e[b].description=c}if(n)for(_play in j)p==_play&&(j[_play].resetData(e),j[_play].reDraw(),w[1]>-1&&(this.playIndex(w[0],w[1]),w[1]=-1));else void 0!=g[h].reload_secs&&g[h].reload_secs>0&&function(a){o=setInterval(function(){A.apply(this,[a])},1e3*g[h].reload_secs)}(i),f.id_media=e[0].idref,0==h?("object"!=typeof d&&(d=new psd.media.TopEmbed),void 0!==f.topPlayer&&void 0!==f.topPlayer.media&&(this.ancho=f.topPlayer.media.ancho,this.alto=f.topPlayer.media.alto),d.init(f),d.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,B)):B()}},z=function(a){};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},this.init=function(){if(void 0!=g.skinPlaylist&&(g.styleItemsContainer=g.skinPlaylist,delete g.skinPlaylist),void 0==g.autoNext&&(g.autoNext=!0),void 0!=g.skin&&delete g.skin,void 0==g.repeat&&(g.repeat=2),void 0!=g.playListSkin&&""!=g.playListSkin||(void 0!==g.styleItemsContainer&&""!=g.styleItemsContainer?g.playListSkin="generica":g.playListSkin="vacia"),"vacia"==g.playListSkin&&(g.styleItemsContainer=""),"psd.media.TopEmbed"==f.className&&(d=f,f=void 0!==c?c:d.getSettings()),f.isPlaylist=!0,f.playlistUrl=b.URL_list,this.isArray(g)||(g=[g]),""==g[0].id_container_playlist||void 0==g[0].id_container_playlist){var a=f.id_container;q=document.getElementById(f.id_container),"vacia"==g[0].playListSkin?(r=document.createElement("div"),r.id=f.id_container+"__player",r.style.width="100%",r.style.height="100%",r.style.float="left",f.id_container=a+"__player",q.appendChild(r)):(r=document.createElement("div"),r.id=f.id_container+"__player",r.style.width="70%",r.style.height="100%",r.style.float="left",s=document.createElement("div"),s.id=f.id_container+"__playlist",s.style.width="30%",s.style.height="100%",s.style.float="left",f.id_container=a+"__player",g[0].id_container_playlist=a+"__playlist",q.appendChild(r),q.appendChild(s),t=!0)}m=new psd.framework.parser.JSONParser,l=new psd.framework.Mediator,l.corsIE(!0),l.addEventListener(psd.framework.MediatorEvent.MEDIATE_COMPLETE,y,this),l.addEventListener(psd.framework.MediatorEvent.MEDIATE_ERROR,z,this),l.mediate(g[h].URL_list,m,psd.framework.Mediator.RESPONSE_JSON),function(a){i=a}(h)};var A=function(a){n=!0,p=a,l.mediate(g[a].URL_list,m,psd.framework.Mediator.RESPONSE_JSON)};this.resetPlayList=function(a,b,c){if(g[a]=b,A(a),null!=c){var d=function(a){return a}(i);w=[d,c]}};var B=function(){if(!x){if(void 0===g[h])return void k.getMediaTopPlaylist()[0].dispatchEvent(new psd.media.PlaylistEvent("onPlayListChangeMedia",{}));g[h].player=d;var a=new psd.media.TopPlaylist(k);void 0!=g[h].playerPercent&&(u=g[h].playerPercent),h==g.length-1&&a.addEventListener(psd.media.PlaylistEvent.DATA_COMPLETE,function(){t&&(_fullscreen||k.resize_16_9(u,!0))}),j[h]=a,a.setData(e),a.init(g[h],h),h++,h<g.length?k.init():k.dispatchEvent(new psd.media.TopEmbedEventPlaylist(psd.media.TopEmbedEventPlaylist.EVENT_INIT,{TopEmbed:d,TopPlaylist:j}))}};this.playIndex=function(a,b){j[a].playIndex(b)},this.resize_16_9=function(b,c){var d=q,e=r,f=s;if(null!=d){var g=b;if("audio"==a.media_type)e.style.width="100%",e.style.display="inline-block",f.style.width="100%",f.style.height="400px";else{Math.max(document.documentElement.clientWidth,window.innerWidth||0)<v?(g=1,f.className.indexOf("mm_mobile_list")<0&&(f.className+=" mm_mobile_list")):g=b;var h=d.offsetWidth,i=h*(100*g)/100;e.style.width=Math.floor(i)+"px",e.style.height=Math.floor(9*i/16)+"px";var j=e.offsetHeight;d.style.height=j+"px",f.style.width=1==g?h+"px":h-i+"px",f.style.height=Math.floor(j)+"px"}c&&function(a){var c=null;null!=window.onresize&&(c=window.onresize),window.onresize=function(){null!=c&&c(),_fullscreen||a.resize_16_9(b,!1)}}(this)}}}b.prototype=new psd.framework.EventDispatcher,a.TopEmbedPlaylist=b}(psd.media),function(a){function b(a){"object"!=typeof psd.media.psdManager&&(psd.media.psdManager=new psd.media.TopEmbedManagerGeneral(a)),this.add=function(a,b,c){psd.media.psdManager.add(a,b,c)},this.addEmbed=function(a){psd.media.psdManager.addEmbed(a)}}a.TopEmbedManager=b}(psd.media),function(a){function b(a){psd.framework.EventDispatcher.call(this),this.className="psd.media.TopEmbedManagerGeneral";var b,c=this;this.idx=-1,this.elemsMgr=[],this.pauseOthersOnPlay=!1,this.muteOthersOnPlay=!1,this.customActionOnPlay=function(a,b,c){this.elemsMgr[a].embed,void 0!==this.elemsMgr[a].embed&&""!=this.elemsMgr[a].embed&&void 0!==this.elemsMgr[b].embed&&""!=this.elemsMgr[b].embed&&a!=b&&this.reset(a)},this.info2=function(){if(null==document.getElementById("psdInfo2Manager")){var a=document.getElementById("psdInfo2Manager"),b=document.createElement("div");b.id="psdInfo2Manager",b.style="width: 300px;height: 100%;position: fixed;top: 0px;right: 0px;background-color: beige;opacity: 0.9;z-index: 1000000000;font-size: 1em; overflow:scroll";var a=(document.body.appendChild(b),document.createElement("div"));a.id="psdInfo2ManagerBut",a.style="position: fixed;right: 300px;background-color: sandybrown;",a.innerHTML="<span id='psdInfo2ManagerButTxt' style='font-size:3em'>&nbsp;&rarrb;&nbsp;</span>",b.appendChild(a),a.onclick=function(){var a=document.getElementById("psdInfo2Manager"),b=document.getElementById("psdInfo2ManagerBut"),c=document.getElementById("psdInfo2ManagerButTxt");"300px"==a.style.width?(a.style.width="30px",b.style.right="0px",c.innerHTML="&nbsp;&larrb;&nbsp;"):(a.style.width="300px",b.style.right="300px",c.innerHTML="&nbsp;&rarrb;&nbsp;")};for(var d in this.elemsMgr){var e=document.getElementById(this.elemsMgr[d].confs.id_container);e.style.outline="7px solid red",e.onmouseover=function(){var a=document.getElementById("divInfo_"+this.id);a.style.backgroundColor="red",a.style.color="white"},e.onmouseout=function(){var a=document.getElementById("divInfo_"+this.id);a.style.backgroundColor="",a.style.color=""};var a=document.createElement("div"),f=document.createElement("a");f.onclick=function(a){return function(){window.location.hash=a}}(this.elemsMgr[d].confs.id_container);var g=document.createElement("div");g.id="divInfo_"+this.elemsMgr[d].confs.id_container,g.style="border:thin solid black; margin: 10px;",g.innerHTML="** Sin TopEmbed **",f.innerHTML="<b>"+this.elemsMgr[d].confs.id_container+"</b> "+d;var h=document.createElement("div");h.style="clear:both;";var i=e.getElementsByTagName("img");if(i.length>0){if(i=i[0],null==i.getAttribute("data-src"))var j='<div style="float:left"><img src="'+i.src+'" style="width:100px;" /></div>';else var j='<div style="float:left"><img src="'+i.getAttribute("data-src")+'" style="width:100px;" /></div>';j+="<ul><li>Width:"+i.getAttribute("width")+"</li><li>Height:"+i.getAttribute("height")+"</li></ul>",j+='<div style="clear: both;"></div>',h.innerHTML=j}a.appendChild(f),a.appendChild(h),a.appendChild(g),b.appendChild(a)}setInterval(function(){info2Status.apply(c)},1e3)}},info2Status=function(){for(var a in this.elemsMgr){var b=this.elemsMgr[a].embed;if(""!=b&&b.isInitialized()){var c=document.getElementById("divInfo_"+b.getSettings().id_container);if(null==c)var c=document.getElementById("divInfo_"+b.getSettings().id_container.replace("__player",""));null!=c&&(b.getMediaPlayer().getCurrentPosition()==emic.top.TopPlayer.POSITION_MEDIA?c.style.outline="5px solid red":c.style.outline="",c.innerHTML="<spam style='font-size: .8em;'>"+b.guidTopEmbed+"</spam><ul><li>"+b.getMediaPlayer().getCurrentPosition()+"</li><li>"+b.getMediaPlayer().getMediaModule().getStatus()+"</li><li>"+b.getMediaPlayer().getAdModule().getStatus()+"</li>")}}},this.setCover=function(a,b){return void 0!==b?void 0!==a.topPlayer&&void 0!==a.topPlayer.media?(a.topPlayer.media.imgCover=b,a.topPlayer.media.autoplay&&!getDevice().mobile?(a.topPlayer.media.cover=!1,""):(a.topPlayer.media.cover=!0,b)):b:""};var d=function(){return!getDevice().mobile};this.setAutoplay=function(a,b,c){return void 0!==b&&""!=b?(void 0===a.topPlayer&&(a.topPlayer={}),void 0===a.topPlayer.media?(a.topPlayer.media={},a.topPlayer.media.autoplay=void 0!==c&&""!=c||d()):a.topPlayer.media.autoplay=void 0!==c&&""!=c||d(),a):a},this.generateHTML=function(a,b){if(void 0!==b){var c,d;d=document.createDocumentFragment();for(var e in b)c=document.createElement(b[e].HTMLelement),void 0!==b[e].ClassName&&""!=b[e].ClassName&&(c.className=b[e].ClassName),c.innerHTML=b[e].value,d.appendChild(c);return d}return!1},this.add=function(a,b,c){if(this.idx++,this.elemsMgr[this.idx]={embed:void 0!=c?c:""},!0===getDevice().mobile&&void 0!==a.plugins)for(var d in a.plugins)"FloatingPlayerWidget"==a.plugins[d].type&&(b[0]="");void 0===b||null==b?(this.elemsMgr[this.idx].confs=this.setAutoplay(a),this.elemsMgr[this.idx].htmlObj=this.generateHTML(a),this.generateContainer(this.idx,c)):(this.elemsMgr[this.idx].images=this.setCover(a,b[0]),this.elemsMgr[this.idx].urlsNoticia=b[1],this.elemsMgr[this.idx].confs=this.setAutoplay(a,b[0],b[1]),this.elemsMgr[this.idx].htmlObj=this.generateHTML(a,b[2]),this.generateContainer(this.idx,c))},this.addEmbed=function(a){this.idx++,this.elemsMgr[this.idx]={embed:a,confs:a.iniSettings},void 0!==a.iniSettings.managerOpt?this.elemsMgr[this.idx].images=a.iniSettings.managerOpt[0]:this.elemsMgr[this.idx].images="",this.generateEmbed(this.idx)};var e=function(a,b,c){var d;d=void 0!==c&&""!=c?c:a,a.width=d.clientWidth,void 0!==this.elemsMgr[b].confs.topPlayer.media.alto&&void 0!==this.elemsMgr[b].confs.topPlayer.media.ancho?a.height=d.clientWidth*this.elemsMgr[b].confs.topPlayer.media.alto/this.elemsMgr[b].confs.topPlayer.media.ancho:a.height=314*d.clientWidth/560};this.generateContainer=function(a,b){if(""!=this.elemsMgr[a].images){var d=document.getElementById(this.elemsMgr[a].confs.id_container),f=document.createElement("div"),g=document.createElement("a"),h=document.createElement("span");g.className="posicionador",h.className="boton_video",g.href="javascript:void(0)";var i=document.createElement("img");"function"==typeof window.lzld?(i.setAttribute("data-src",this.elemsMgr[a].images),i.setAttribute("src","//ep01.epimg.net/t.gif"),e.apply(this,[i,a,d]),i.onload=function(){lzld(this)}):(i.src=this.elemsMgr[a].images,i.onload=function(){e.apply(c,[this,a])}),i.style.width="100%",i.style.height="100%",g.onclick=function(a){return function(b){c.generateEmbed(a),g.onclick=null}}(a),void 0!==this.elemsMgr[a].urlsNoticia&&""!=this.elemsMgr[a].urlsNoticia?(getDevice().mobile?(g.onclick="",g.href=this.elemsMgr[a].urlsNoticia):this.elemsMgr[a].htmlObj&&g.appendChild(this.elemsMgr[a].htmlObj),d.innerHTML="",f.appendChild(g),g.appendChild(h),g.appendChild(i)):(this.elemsMgr[a].htmlObj&&g.appendChild(this.elemsMgr[a].htmlObj),g.appendChild(h),getDevice().mobile?c.generateEmbed(a):(d.innerHTML="",f.appendChild(g),g.appendChild(h),g.appendChild(i))),d.appendChild(f)}else c.generateEmbed(a)},this.generateEmbed=function(a){var d=function(){var d=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};void 0===c.elemsMgr[a].embed.guidTopEmbed&&(c.elemsMgr[a].embed.guidTopEmbed=d());var e=function(a){return function(d){if(b=a,"play"==d.data.status||"onPreloadControllerComplete"==d.data.status)for(var e in c.elemsMgr)e!=a&&"object"==typeof c.elemsMgr[e].embed&&c.elemsMgr[e].embed.isInitialized()&&("object"==typeof c.elemsMgr[e].embed.nextPanel&&c.elemsMgr[e].embed.nextPanel.isShowPanel()&&c.elemsMgr[e].embed.nextPanel.killPanel(),c.elemsMgr[e].embed.getMediaPlayer().getCurrentPosition()!=emic.top.TopPlayer.POSITION_PREVIEW&&(c.pauseOthersOnPlay&&c.pause(e,!0),c.muteOthersOnPlay&&c.mute(e,!0),null!=c.customActionOnPlay&&c.customActionOnPlay.apply(c,[e,a,d.data.status])))}}(a),f=function(a){return function(d){b=a;for(var e in c.elemsMgr)e!=a&&"object"==typeof c.elemsMgr[e].embed&&c.elemsMgr[e].embed.isInitialized()&&c.elemsMgr[e].embed.getMediaPlayer().getCurrentPosition()!=emic.top.TopPlayer.POSITION_PREVIEW&&null!=c.customActionOnPlay&&c.customActionOnPlay.apply(c,[e,a,d.data.status])}}(a);c.elemsMgr[a].embed.getMediaPlayer().getAdModule().addEventListener(emic.top.event.AdEvent.ON_AD_VIDEO_START,f,this),c.elemsMgr[a].embed.getMediaPlayer().getMediaModule().addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,e,this)};""!=this.elemsMgr[a].embed?(this.elemsMgr[a].embed,!0===this.elemsMgr[a].embed.isInitialized()?d():(this.elemsMgr[a].embed.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,d),this.elemsMgr[a].embed.init(this.elemsMgr[a].confs))):(this.elemsMgr[a].embed=new psd.media.TopEmbed(this.elemsMgr[a].confs,!0),this.elemsMgr[a].embed.addEventListener(psd.media.TopEmbedEvent.EVENT_INI,d))},this.play=function(a){var c=b;void 0!==a&&(c=a),this.setPlayPauseMute(this.elemsMgr[c].embed,"play")},this.pause=function(a,c){if(void 0===a)this.setPlayPauseMute(this.elemsMgr[b].embed,"pause");else if(void 0===c)for(var d in this.elemsMgr)d==a&&this.setPlayPauseMute(this.elemsMgr[d].embed,"pause");else if(1==c)for(var d in this.elemsMgr)d!=a&&this.setPlayPauseMute(this.elemsMgr[d].embed,"pause")},this.mute=function(a,c){if(void 0===a)this.setPlayPauseMute(this.elemsMgr[b].embed,"mute");else if(void 0===c)for(var d in this.elemsMgr)d==a&&this.setPlayPauseMute(this.elemsMgr[d].embed,"mute");else if(1==c)for(var d in this.elemsMgr)d!=a&&this.setPlayPauseMute(this.elemsMgr[d].embed,"mute")},this.setPlayPauseMute=function(a,b){if(""!=a&&a.isInitialized())switch(b){case"play":a.getMediaPlayer().getMediaModule().play();break;case"pause":a.getMediaPlayer().pause();break;case"mute":a.getMediaPlayer().getMediaModule().mute()}},this.reset=function(a){this.elemsMgr[a].embed.getMediaPlayer().reboot()},document.addEventListener("showInfo2",function(){c.info2()})}b.prototype=new psd.framework.EventDispatcher,a.TopEmbedManagerGeneral=b}(psd.media),function(a){function b(a,b,c){function d(){h=n.player.getMediaPlayer().getMediaModule(),h.addEventListener(emic.top.event.MediaEvent.ON_READY,f),h.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,f),h.addEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,e,this),h.addEventListener(emic.top.event.MediaEvent.ON_CUE,f),h.addEventListener(emic.top.event.MediaEvent.ON_METADATA,f),h.addEventListener(emic.top.event.MediaEvent.ON_ERROR,f),h.addEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,f),h.addEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,f),h.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,f),h.addEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,f),h.addEventListener(emic.top.event.MediaEvent.ON_PROGRESS,f),h.addEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,f),h.addEventListener(emic.top.event.MediaEvent.ON_SEEK_START,f),h.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,f),h.addEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,f),l=n.player.getMediaPlayer().getUIModule(),l.addEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,g,this),l.addEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,g,this)}function e(a){void 0==this.embedplaylist._selectedIndex&&(this.embedplaylist._selectedIndex=0),this.embedplaylist._selectedIndex==this.index&&r&&(1==n.autoNext&&n.repeat==REPEAT_ONE?v.apply(this):s())}function f(a){a.type==emic.top.event.MediaEvent.ON_MEDIA_BEGIN&&(i.currentIdRef=a.id,r=!0),a.type==emic.top.event.MediaEvent.ON_STATUS_CHANGE&&(i.currentStatus=a.data.status,u.apply(i))}function g(a){switch(a.type){case emic.top.event.UIEvent.ON_ORDER_NEXT:this.next();break;case emic.top.event.UIEvent.ON_ORDER_PREV:this.previous()}}psd.framework.EventDispatcher.call(this),this.className="psd.media.TopPlaylist_BaseController",REPEAT_ONE="1",REPEAT_ALL="2",this.tipo="",this.index=b,this.embedplaylist=c,this.currentIdRef="",this.currentStatus="",this.autoPlayPlayList=!0;var h,i=this;ERROR_SERVICIO_PLAYLIST="Error_servicio_playlist";var j,k,l,m,n={},o=0,p=0,q=0,r=!1;this.destroyBasePlayList=function(){"object"==typeof this.playlistContainer&&(this.playlistContainer.innerHTML="",this.playlistContainer=!1),h=n.player.getMediaPlayer().getMediaModule(),h.removeEventListener(emic.top.event.MediaEvent.ON_READY,f),h.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_BEGIN,f),h.removeEventListener(emic.top.event.MediaEvent.ON_MEDIA_END,e,this),h.removeEventListener(emic.top.event.MediaEvent.ON_CUE,f),h.removeEventListener(emic.top.event.MediaEvent.ON_METADATA,f),h.removeEventListener(emic.top.event.MediaEvent.ON_ERROR,f),h.removeEventListener(emic.top.event.MediaEvent.ON_STATUS_CHANGE,f),h.removeEventListener(emic.top.event.MediaEvent.ON_VOLUME_CHANGE,f),h.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_REQUEST,f),h.removeEventListener(emic.top.event.MediaEvent.ON_SWITCH_COMPLETE,f),h.removeEventListener(emic.top.event.MediaEvent.ON_PROGRESS,f),h.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_COMPLETE,f),h.removeEventListener(emic.top.event.MediaEvent.ON_SEEK_START,f),h.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_EMPTY,f),h.removeEventListener(emic.top.event.MediaEvent.ON_BUFFER_FULL,f),l=n.player.getMediaPlayer().getUIModule(),l.removeEventListener(emic.top.event.UIEvent.ON_ORDER_NEXT,g,this),l.removeEventListener(emic.top.event.UIEvent.ON_ORDER_PREV,g,this)},this.init=function(a){if(mm_playlist_no_reset=!0,this.setPlayerEventos(),this.setDataPlaylist(a),this.currentIdRef=n.player.getSettings().id_media,"boolean"==typeof n.player.getSettings().topPlayer.media.autoplay&&(this.autoPlayPlayList=n.player.getSettings().topPlayer.media.autoplay),this.currentStatus="pause",n.nextpanel.active){var b=n.player.getSettings(),c=n.nextpanel.time,d=n.nextpanel.skin,e=b.id_container+"_base",f=b.topPlayer.generic.urlBase,g=b.id_media;m=new psd.media.NextPanel(c,d,e,f,g),n.player.nextPanel=m}},this.setPlayerEventos=function(){d.apply(this)};var s=function(){if(n.nextpanel.active){var a,b,c;a=0==k[q].length||p==k[q].length-1?k[q][0]:k[q][p+1],b=a.url_thumbnail,c=a.name,m.showPanel(b,c,function(){i.next()},function(){i.resetMedia(p,!1)})}else p+1==k[q].length&&n.repeat!=REPEAT_ALL||1==n.autoNext&&i.next()},t=function(){var a={};a.page=q,this.dispatchEvent(new psd.media.PlaylistEvent(psd.media.PlaylistEvent.DATA_REQUEST,a))};this.setDataPlaylist=function(a){j=a,k=[j];var b={};b.data=k,b.page=q+1,this.dispatchEvent(new psd.media.PlaylistEvent(psd.media.PlaylistEvent.DATA_COMPLETE,b))};this.esElMismo=function(a){return i.currentIdRef==k[q][a].idref};var u=function(){this.setSelectedStateThis(this.currentStatus)},v=function(a){if(a&&i.currentIdRef==k[q][p].idref){var b=n.player.getMediaPlayer().getMediaModule();switch(b.isPlaying()?i.currentStatus="play":i.currentStatus="pause",i.currentStatus){case"play":b.pause();break;case"pause":b.play()}}else{var c={};c.actualIndex=p,c.actualIdref=k[q][p].idref,i.currentIdRef=k[q][p].idref,mm_playlist_no_reset=!0,this.dispatchEvent(new psd.media.PlaylistEvent(psd.media.PlaylistEvent.MEDIA_CHANGE,c));var d=!1,e=n.player.getMediaPlayer().getData();(a||n.nextpanel.active)&&(_autoValue=!0,d=!0),n.nextpanel.active&&m.isShowPanel()&&m.killPanel();var f={dev:n.dev,id_cuenta:n.id_cuenta,id_media:k[q][p].idref,media_type:k[q].type,topPlayer:{media:{autoplay:_autoValue,autoNext:n.autoNext,clickPlayList:d,premuted:e.mediaData.premuted}}};"number"==typeof this.embedplaylist.ancho&&"number"==typeof this.embedplaylist.alto&&(f.topPlayer.media.ancho=this.embedplaylist.ancho,f.topPlayer.media.alto=this.embedplaylist.alto);var g=document.createEvent("CustomEvent");g.initCustomEvent("psdMediaChange",!1,!1,{id_media:f.id_media}),document.dispatchEvent(g),n.player.reset(f)}};this.next=function(){this.nextOnclick()},this.setSelected=function(){};this.previous=function(){this.prevOnclick()},this.config=function(a){void 0!=a&&(void 0!==a.URL_list&&(n.URL_list=a.URL_list),void 0!==a.autoNext&&(n.autoNext=a.autoNext),void 0!==a.pagination&&(n.pagination=a.pagination),void 0!==a.repeat&&(n.repeat=a.repeat),void 0!==a.id_cuenta&&(n.id_cuenta=a.id_cuenta),void 0!==a.player&&(n.player=a.player),void 0!==a.secure&&(n.secure=a.secure),void 0!==a.dev&&(n.dev=a.dev),void 0!==a.nextpanel?n.nextpanel=a.nextpanel:n.nextpanel={active:!1})},this.data=function(){return k},this.actualIndex=function(){return o},this.resetMedia=function(a,b){p=a,v.apply(this,[b])},this.load=function(a){this.config(a),w(),t.apply(this)},this.setType=function(a){this.tipo=a};var w=function(){};this.paintPlaylist=function(){},this.config(a)}b.prototype=new psd.framework.EventDispatcher,a.TopPlaylist_BaseController=b}(psd.media),function(namespace){function TopPlaylist_lista(iniSettings,index,embedplaylist){psd.media.TopPlaylist_BaseController.call(this,iniSettings),this.className="psd.media.TopPlaylist_lista",this.index=index,this.embedplaylist=embedplaylist,this.playlistContainer=!1;var _iniSettings=iniSettings,data,_arrayData,elemento,_that=this,_current=0,_total,_elementos=[],_lastid=null,_lastidrefs="",nElementos=function(a){return a>=1||0==a?a+" elementos":a+" elemento"};this.setSelectedStateThis=function(a){if(_current<_elementos.length)switch(a){case"play":_elementos[_current].setIconPause();break;case"pause":_elementos[_current].setIconPlay()}},this.secondsAsTimeCode=function(a,b){var c=Math.floor(a/3600),d=Math.floor((a-3600*c)/60),e=Math.floor(a-3600*c-60*d),f="";return c<10&&(c="0"+c),d<10&&(d="0"+d),e<10&&(e="0"+e),null==b?f=c+":"+d+":"+e:(f=c<1?b.replace("hh:",""):b.replace("hh",c),f=f.replace("mm",d),f=f.replace("ss",e)),f},this.paintPlaylist=function(){var a=_iniSettings.player.getSettings().topPlayer.generic,b=document.createElement("script"),c=a.urlBase?a.urlBase:"";switch(b.src=c+"/psdmedia/media/simple/skinsPlaylist/",_iniSettings.playListSkin){case"oneplayer":"undefined"!=typeof tplib?b.src+="oneplayer.lib.js":b.src+="oneplayer.min.js";break;case"eppodcast":"undefined"!=typeof tplib?b.src+="eppodcast.lib.js":b.src+="eppodcast.min.js";break;case"vacia":"undefined"!=typeof tplib?b.src+="vacia.lib.js":b.src+="vacia.min.js";break;case"generica":this.tipo||(this.tipo="lista");default:"undefined"!=typeof tplib?b.src+="generica.lib.js":b.src+="generica.min.js",_iniSettings.playListSkin="generica"}b.type="text/javascript",b.onload=function(a){return function(){a.onPlayListTemplateLoad()}}(this),document.getElementsByTagName("head")[0].appendChild(b)},this.onPlayListTemplateLoad=function(){_arrayData=this.data(),_arrayData=_arrayData[0],_total=_arrayData.length;for(var _currentidrefs="",jj=0;jj<_arrayData.length;jj++)void 0!=_arrayData[jj]&&(_currentidrefs+=_arrayData[jj].idref);if(_currentidrefs!=_lastidrefs){_lastidrefs=_currentidrefs;var tpl=eval("new psd.skins."+_iniSettings.playListSkin+"(this)");if(tpl.setPlayListContainer(_iniSettings.id_container_playlist),this.playlistContainer=tpl.getPlayListContainer(),this.playlistContainer){container=tpl.getItemsContainer(),this.tipo&&(container.classList.contains(this.tipo)||(container.className+=" "+this.tipo)),_elementos=[];for(var jj=0;jj<_arrayData.length;jj++)void 0!=_arrayData[jj]&&(elemento=_arrayData[jj],item_container=tpl.addItem(elemento),item_container.onclick=function(a){return function(){_that.esElMismo(a)||"object"==typeof _that&&"object"==typeof _that.embedplaylist&&"function"==typeof _that.embedplaylist.getMediaTopEmbed&&"function"==typeof _that.embedplaylist.getMediaTopEmbed().getMediaPlayer&&"function"==typeof _that.embedplaylist.getMediaTopEmbed().getMediaPlayer().getMediaModule&&"function"==typeof _that.embedplaylist.getMediaTopEmbed().getMediaPlayer().getMediaModule().stop&&_that.embedplaylist.getMediaTopEmbed().getMediaPlayer().getMediaModule().stop(),_that.loadMedia(a),_current=a,_that.embedplaylist._selectedIndex=_that.index}}(jj),item_container.tag=_arrayData[jj].id,_elementos.push(item_container),null!=_lastid&&_lastid==_arrayData[jj].id&&this.setSelected(jj));if(tpl.doPostCreateTpl(),"object"==typeof _iniSettings.player.getSettings().topPlayer.ui&&!0===_iniSettings.player.getSettings().topPlayer.ui.skinData.soy_embed){var tmp=document.getElementsByTagName("body");tmp[0].classList.add("widget")}}this.prevOnclick=function(){_current--,_current<0&&(_current=_total-1),this.loadMedia(_current)},this.nextOnclick=function(){_current++,_current>_total-1&&(_current=0),this.loadMedia(_current)},this.setSelected=function(a){if(a>=_elementos.length)_current=a;else{for(j=0;j<_elementos.length;j++)_elementos[j].noSelected();a<_elementos.length&&(_elementos[a].setSelected(),_current=a,_lastid=_elementos[a].tag)}},this.loadMedia=function(a){this.resetMedia(a,!0),this.setSelected(a)},this.setSelected(_current)}}}TopPlaylist_lista.prototype=new psd.media.TopPlaylist_BaseController,namespace.TopPlaylist_lista=TopPlaylist_lista}(psd.media),function(a){function b(a){psd.framework.EventDispatcher.call(this),this.className="psd.media.TopWindowError";var b=a;this.paintMessage=function(a){var c=new psd.media.InfoPanel;"undefined"!=typeof LANG&&(window.mm_lang=LANG),void 0===window.mm_lang&&(window.mm_lang="es");var d=new psd.media.Lang,e=d.translate(window.mm_lang,"contenido_no_disponible");c.paint(b.id_container,e,!0)}}b.prototype=new psd.framework.EventDispatcher,a.TopWindowError=b}(psd.media);